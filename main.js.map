{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/_guards/auth.guard.ts","webpack:///./src/app/_services/configuration.service.ts","webpack:///./src/app/_services/global.service.ts","webpack:///./src/app/_services/loader.service.ts","webpack:///./src/app/_services/orders.service.ts","webpack:///./src/app/_services/realestate.service.ts","webpack:///./src/app/_services/upload.service.ts","webpack:///./src/app/_services/users.service.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.routing.ts","webpack:///./src/app/auth/auth.service.ts","webpack:///./src/app/change-password/change-password.component.css","webpack:///./src/app/change-password/change-password.component.html","webpack:///./src/app/change-password/change-password.component.ts","webpack:///./src/app/dronemedia-suborder-overview/dronemedia-suborder-overview.component.css","webpack:///./src/app/dronemedia-suborder-overview/dronemedia-suborder-overview.component.html","webpack:///./src/app/dronemedia-suborder-overview/dronemedia-suborder-overview.component.ts","webpack:///./src/app/expose-service-overview/expose-service-overview.component.css","webpack:///./src/app/expose-service-overview/expose-service-overview.component.html","webpack:///./src/app/expose-service-overview/expose-service-overview.component.ts","webpack:///./src/app/expose-service/expose-service.component.css","webpack:///./src/app/expose-service/expose-service.component.html","webpack:///./src/app/expose-service/expose-service.component.ts","webpack:///./src/app/faq/faq.component.css","webpack:///./src/app/faq/faq.component.html","webpack:///./src/app/faq/faq.component.ts","webpack:///./src/app/faq/index.ts","webpack:///./src/app/file-upload/file-upload.component.css","webpack:///./src/app/file-upload/file-upload.component.html","webpack:///./src/app/file-upload/file-upload.component.ts","webpack:///./src/app/floorplan-suborder-overview/floorplan-suborder-overview.component.css","webpack:///./src/app/floorplan-suborder-overview/floorplan-suborder-overview.component.html","webpack:///./src/app/floorplan-suborder-overview/floorplan-suborder-overview.component.ts","webpack:///./src/app/forgot/forgot.component.css","webpack:///./src/app/forgot/forgot.component.html","webpack:///./src/app/forgot/forgot.component.ts","webpack:///./src/app/hdphotos-service/hdphotos-service.component.css","webpack:///./src/app/hdphotos-service/hdphotos-service.component.html","webpack:///./src/app/hdphotos-service/hdphotos-service.component.ts","webpack:///./src/app/hdphotos-suborder-overview/hdphotos-suborder-overview.component.css","webpack:///./src/app/hdphotos-suborder-overview/hdphotos-suborder-overview.component.html","webpack:///./src/app/hdphotos-suborder-overview/hdphotos-suborder-overview.component.ts","webpack:///./src/app/home/home.component.html","webpack:///./src/app/home/home.component.ts","webpack:///./src/app/home/index.ts","webpack:///./src/app/inbox/inbox.component.css","webpack:///./src/app/inbox/inbox.component.html","webpack:///./src/app/inbox/inbox.component.ts","webpack:///./src/app/inbox/index.ts","webpack:///./src/app/language/language.ts","webpack:///./src/app/login/login.component.css","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/logout/logout.component.css","webpack:///./src/app/logout/logout.component.html","webpack:///./src/app/logout/logout.component.ts","webpack:///./src/app/modals/package-editor/package-editor.component.css","webpack:///./src/app/modals/package-editor/package-editor.component.html","webpack:///./src/app/modals/package-editor/package-editor.component.ts","webpack:///./src/app/models/package.ts","webpack:///./src/app/orderoverview/index.ts","webpack:///./src/app/orderoverview/orderoverview.component.css","webpack:///./src/app/orderoverview/orderoverview.component.html","webpack:///./src/app/orderoverview/orderoverview.component.ts","webpack:///./src/app/package-list/package-list.component.css","webpack:///./src/app/package-list/package-list.component.html","webpack:///./src/app/package-list/package-list.component.ts","webpack:///./src/app/package/package.component.css","webpack:///./src/app/package/package.component.html","webpack:///./src/app/package/package.component.ts","webpack:///./src/app/payments/payments.component.css","webpack:///./src/app/payments/payments.component.html","webpack:///./src/app/payments/payments.component.ts","webpack:///./src/app/profile/index.ts","webpack:///./src/app/profile/profile.component.css","webpack:///./src/app/profile/profile.component.html","webpack:///./src/app/profile/profile.component.ts","webpack:///./src/app/realestate/index.ts","webpack:///./src/app/realestate/realestate.component.css","webpack:///./src/app/realestate/realestate.component.html","webpack:///./src/app/realestate/realestate.component.ts","webpack:///./src/app/register/register.component.css","webpack:///./src/app/register/register.component.html","webpack:///./src/app/register/register.component.ts","webpack:///./src/app/retouching-service/retouching-service.component.css","webpack:///./src/app/retouching-service/retouching-service.component.html","webpack:///./src/app/retouching-service/retouching-service.component.ts","webpack:///./src/app/retouching-suborder-overview/retouching-suborder-overview.component.css","webpack:///./src/app/retouching-suborder-overview/retouching-suborder-overview.component.html","webpack:///./src/app/retouching-suborder-overview/retouching-suborder-overview.component.ts","webpack:///./src/app/services/index.ts","webpack:///./src/app/services/services.component.css","webpack:///./src/app/services/services.component.html","webpack:///./src/app/services/services.component.ts","webpack:///./src/app/settings/index.ts","webpack:///./src/app/settings/settings.component.css","webpack:///./src/app/settings/settings.component.html","webpack:///./src/app/settings/settings.component.ts","webpack:///./src/app/shared/fixed-cart/fixed-cart.component.css","webpack:///./src/app/shared/fixed-cart/fixed-cart.component.html","webpack:///./src/app/shared/fixed-cart/fixed-cart.component.ts","webpack:///./src/app/shared/fixed-cart/fixed-cart.module.ts","webpack:///./src/app/shared/form.validators.ts","webpack:///./src/app/shared/navbar/navbar.component.html","webpack:///./src/app/shared/navbar/navbar.component.ts","webpack:///./src/app/shared/navbar/navbar.module.ts","webpack:///./src/app/sidebar/sidebar.component.html","webpack:///./src/app/sidebar/sidebar.component.ts","webpack:///./src/app/sidebar/sidebar.module.ts","webpack:///./src/app/sidebar/sidebar.service.ts","webpack:///./src/app/suborder-list/suborder-list.component.css","webpack:///./src/app/suborder-list/suborder-list.component.html","webpack:///./src/app/suborder-list/suborder-list.component.ts","webpack:///./src/app/suborder-overview/suborder-overview.component.css","webpack:///./src/app/suborder-overview/suborder-overview.component.html","webpack:///./src/app/suborder-overview/suborder-overview.component.ts","webpack:///./src/app/terms/terms.component.css","webpack:///./src/app/terms/terms.component.html","webpack:///./src/app/terms/terms.component.ts","webpack:///./src/app/upload-task/upload-task.component.css","webpack:///./src/app/upload-task/upload-task.component.html","webpack:///./src/app/upload-task/upload-task.component.ts","webpack:///./src/app/users/users.component.css","webpack:///./src/app/users/users.component.html","webpack:///./src/app/users/users.component.ts","webpack:///./src/app/virtual-staging-service/virtual-staging-service.component.css","webpack:///./src/app/virtual-staging-service/virtual-staging-service.component.html","webpack:///./src/app/virtual-staging-service/virtual-staging-service.component.ts","webpack:///./src/app/virtual-staging-suborder-overview/virtual-staging-suborder-overview.component.css","webpack:///./src/app/virtual-staging-suborder-overview/virtual-staging-suborder-overview.component.html","webpack:///./src/app/virtual-staging-suborder-overview/virtual-staging-suborder-overview.component.ts","webpack:///./src/app/visualisation-service-overview/visualisation-service-overview.component.css","webpack:///./src/app/visualisation-service-overview/visualisation-service-overview.component.html","webpack:///./src/app/visualisation-service-overview/visualisation-service-overview.component.ts","webpack:///./src/app/visualisation-service/visualisation-service.component.css","webpack:///./src/app/visualisation-service/visualisation-service.component.html","webpack:///./src/app/visualisation-service/visualisation-service.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { AuthService } from '../auth/auth.service';\n\n@Injectable({ providedIn: 'root' })\nexport class AuthGuard implements CanActivate {\n    constructor(\n        private router: Router,\n        private auth: AuthService\n    ) {\n    }\n\n    async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n      /* This method checks the firebase AuthState and navigates to login, if the user is not logged in.\n         The method is used by the router on each Route that has this specification: \"canActivate: [AuthGuard]\" */\n      return await this.auth.checkAuthState().then(result => {\n        if (result === true) {\n          console.log('[GUARD]: Logged in, so staying on current page!');\n          return true;\n        } else {\n          console.log('[GUARD]: Not logged in, now navigating to login page!');\n          this.router.navigate(['/login']);\n          return false;\n        }\n      });\n    }\n    }\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport * as _ from 'underscore';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConfigurationService {\n  public configuration: any;\n  public serviceProviders: any;\n  public disabledServices: any;\n\n  constructor(private afs: AngularFirestore) {\n  }\n\n  getConfiguration() {\n    return this.afs.collection('configuration').valueChanges();\n  }\n\n  getServiceProviders() {\n    return this.afs.collection('configuration').doc('rsidBwFzO3Kp356emm9N').valueChanges();\n  }\n\n  getDisabledServices() {\n    return this.afs.collection('configuration').doc('Lt8fpXKYGVNy6qjpi0hU').valueChanges();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport * as _ from 'underscore';\nimport { LANGUAGE } from '@app/language/language';\n\ndeclare const $: any;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GlobalService {\n\n  constructor() { }\n\n  /**\n   * Returns the label_key translation from list_name defined in LANGUAGE.app_list_strings constant in language.ts\n   */\n  translateAppListStrings(list_name: string, label_key: string): string {\n    if (_.isEmpty(list_name) || _.isEmpty(label_key)) {\n      return '';\n    }\n    if (!_.isEmpty(LANGUAGE['app_list_strings'][list_name]) && !_.isEmpty(LANGUAGE['app_list_strings'][list_name][label_key])) {\n      return LANGUAGE['app_list_strings'][list_name][label_key];\n    }\n    return label_key; // return the un translated label if translation not found\n  }\n\n  /**\n   * Returns the label_key translation from LANGUAGE.app_strings constant in language.ts\n   */\n  translateAppStrings(label_key: string): string {\n    if (_.isEmpty(label_key)) {\n      return '';\n    }\n    if (!_.isEmpty(LANGUAGE['app_strings'][label_key])) {\n      return LANGUAGE['app_strings'][label_key];\n    }\n    return label_key; // return the un translated label if translation not found\n  }\n\n  showNotification(message: string, type?: string) {\n    let icon = '';\n    switch (type) {\n      case 'info':\n        icon = 'info';\n        break;\n      case 'success':\n        icon = 'check_circle';\n        break;\n      case 'danger':\n        icon = 'error';\n        break;\n      case 'warning':\n        icon = 'warning';\n        break;\n      default:\n        icon = 'notifications'\n    }\n    $.notify({\n      icon: 'notifications',\n      message: message\n    }, {\n        type: type || 'info',\n        timer: 3000,\n        placement: {\n          from: 'top',\n          align: 'center'\n        },\n        template: '<div data-notify=\"container\" class=\"col-xs-11 col-sm-3 alert alert-{0} alert-with-icon\" role=\"alert\">' +\n          '<button mat-raised-button type=\"button\" aria-hidden=\"true\" class=\"close\" data-notify=\"dismiss\">  <i class=\"material-icons\">close</i></button>' +\n          '<i class=\"material-icons\" data-notify=\"icon\">notifications</i> ' +\n          '<span data-notify=\"title\">{1}</span> ' +\n          '<span data-notify=\"message\">{2}</span>' +\n          '<div class=\"progress\" data-notify=\"progressbar\">' +\n          '<div class=\"progress-bar progress-bar-{0}\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 0%;\"></div>' +\n          '</div>' +\n          '<a href=\"{3}\" target=\"{4}\" data-notify=\"url\"></a>' +\n          '</div>'\n      });\n  }\n}\n","import { Injectable, EventEmitter } from '@angular/core';\nimport { RealestateService } from '@app/_services/realestate.service';\nimport { OrdersService } from '@app/_services/orders.service';\nimport { ConfigurationService } from '@app/_services/configuration.service';\nimport { Router } from '@angular/router';\nimport { UsersService } from '@app/_services/users.service';\nimport { AuthService } from '@app/auth/auth.service';\nimport { NgxSmartModalService } from 'ngx-smart-modal';\nimport * as _ from 'underscore';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoaderService {\n  /* This service is used to do all necessary upfront-database-reads */\n  public uid;\n  public emailVerified;\n  public dataAfterAuthenticated: Promise<boolean>;\n  public realestateSub: any;\n  public loaded = false;\n  $1: any;\n  $2: any;\n  $3: any;\n  $4: any;\n  $5: any;\n  $6: any;\n  $7: any;\n  $8: any;\n  public initializeScroller: EventEmitter<boolean> = new EventEmitter<boolean>();\n  public scrollerInitialized: boolean = false;\n\n  constructor(private res: RealestateService,\n    private os: OrdersService,\n    private router: Router,\n    private us: UsersService,\n    private auth: AuthService,\n    private conf: ConfigurationService,\n    private ngxSmartModalService: NgxSmartModalService) { }\n  /**\n   * Gets called from App component and login component. Initializes the user data for according to its role if the user is authenticated.\n   */\n  async getDataAfterAuthenticated() {\n    console.log('[1]: Initializing Loader-Service!');\n    console.log('[2]: Loader started, awaiting User-Initialization!');\n    await this.auth.initializeUser().then(result => {\n      console.log('[5]: User initialized, continuing!');\n      return new Promise<boolean>(resolve => {\n        const user = JSON.parse(sessionStorage.getItem('user'));\n        if (user == null) {\n          console.log('[6]: Nobody logged in');\n          console.log('[7]: Skipping loading database-data.');\n        } else {\n          console.log('[6]: User logged in, starting to load data from the database!');\n          this.uid = user.uid;\n\n          // User-Tutorial\n          if (this.auth.emailVerified === false) {\n            this.ngxSmartModalService.getModal('emailVerificationModal').open();\n          } else {\n            this.checkTutorial();\n          }\n\n          /* The following construct is used to avoid unneccessary database reads and to load all data\n          before component initialisation, so the data is already loaded on route change and we do not\n          have a loading spinner on almost every page. This whole service replaces the approach of using\n          a route resolver to load the route specific contents before showing the UI to not have to show\n          loading spinners. They would not work with Firebase, because unlike with the HTTP Service,\n          the Firebase observables dont end, thus it would either never resolve or if we use first it\n          would resolve and load, but we would lose the realtime features.\n          Ideal would be to just work with async pipes (which I replaced with subscriptions in this case),\n          but this would only work if we would load all this data in the app.component.html with the async\n          pipe and then all child components would have access to this data and we would never have to\n          subscribe and then unsubscribe on logout, however the way we structured the application,\n          the components are not child components, while we could change all that, it would\n          be more work then just subscribing and unsubscribing in this service, which was used before anyways\n          as a resolver for the custom user data and the\n          Subscriptions added on 28th February */\n          // ToDo: Suborders for Dienstleister & Kunde\n          if (this.auth.role === 'Kunde') {\n            console.log('[7]: Loading relevant database-data for role \"Kunde\"!');\n            this.$1 = this.res.getMyRealestates().subscribe(data => {\n              this.res.myRealestates = data;\n            });\n            this.$2 = this.os.getCreatedOrders(this.uid).subscribe(data => {\n              this.os.myCreatedOrders = data;\n            });\n            this.$3 = this.os.getAllSubordersTemp(this.uid, this.auth.role).subscribe(data => {\n              this.os.allSubordersTemp = data;\n            });\n            this.$4 = this.conf.getServiceProviders().subscribe(data => {\n              this.conf.serviceProviders = data;\n            });\n            this.$6 = this.conf.getDisabledServices().subscribe(data => {\n              this.conf.disabledServices = data;\n            });\n          } else if (this.auth.role === 'Dienstleister') {\n            console.log('[7]: Loading relevant database-data for role \"Dienstleister\"!');\n            this.$1 = this.os.getAllUnassignedSuborders().subscribe(data => {\n              // todo: this.os.allSuborders = data; (suborder-overview)\n              this.os.allSuborders = data;\n            });\n            this.$2 = this.os.getMyRequestedSuborders(this.uid).subscribe(data => {\n              this.os.myRequestedSuborders = data;\n            });\n            this.$3 = this.os.getAssignedSuborders(this.uid).subscribe(data => {\n              this.os.myAssignedSuborders = data;\n            });\n            this.$4 = this.os.getMyCompletedSuborders(this.uid).subscribe(data => {\n              this.os.myCompletedSuborders = data;\n            });\n            // todo: getAllSuborders (suborder-overview)\n            this.$5 = this.os.getAllSubordersTemp().subscribe(data => {\n              this.os.allSubordersTemp = data;\n            });\n            this.$6 = this.os.getMyUploadedSuborders(this.uid).subscribe(data => {\n              this.os.myUploadedSuborders = data;\n            });\n          } else if (this.auth.role === 'Administrator') {\n            console.log('[7]: Loading relevant database-data for role \"Administrator\"!');\n            this.$1 = this.res.getMyRealestates().subscribe(data => {\n              this.res.myRealestates = data;\n            });\n            this.$2 = this.os.getAllOrders().subscribe(data => {\n              this.os.allOrders = data;\n            });\n            this.$3 = this.os.getCreatedOrders(this.uid).subscribe(data => {\n              this.os.myCreatedOrders = data;\n            });\n            this.$4 = this.us.getAllUsers().subscribe(data => {\n              this.us.allUsers = data;\n              // Sorting by role\n              this.us.allUsers = this.us.allUsers.sort((a, b) => a.role.localeCompare(b.role));\n            }); // only relevant for Admins\n            // todo: getAllSuborders (suborder-overview)\n            this.$5 = this.os.getAllSubordersTemp().subscribe(data => {\n              this.os.allSubordersTemp = data;\n            });\n            this.$7 = this.conf.getServiceProviders().subscribe(data => {\n              this.conf.serviceProviders = data;\n            });\n            this.$8 = this.conf.getDisabledServices().subscribe(data => {\n              this.conf.disabledServices = data;\n            });\n          } else {\n            window.alert('Es gab einen Fehler beim Laden Ihrer Daten. Dieser Fehler betrifft spezifisch Ihren Account! Bitte kontaktieren Sie den IMOGENT-Support mit dem Error-Code: 18-5');\n          }\n        }\n        console.log('[8]: Loading of database-data completed!');\n        console.log('[9]: Loader done!');\n        setTimeout(() => {\n          this.loaded = true;\n          this.initializeScroller.emit(true);\n        }, 750);\n        resolve(true);\n        this.dataAfterAuthenticated = Promise.resolve(true);\n      });\n    });\n  }\n  /**\n   * Gets called from the app.component.html when user clicks verify email button in the modal. User the auth service to verify email.\n   * If the email is verified user is navigated to tutorial.\n   */\n  verifyEmail() {\n    this.auth.verifyEmail().then(result => {\n      if (result === true) {\n        this.checkTutorial();\n      } else {\n        console.log('Verification Promise resolved, but false.');\n        // do nothing for now\n      }\n    });\n  }\n  /**\n   * Start the tutorial for the logged in user role. Skip it if user pressed the skip button.\n   */\n  checkTutorial() {\n    if (this.us.tutorialSkipped !== true && this.router.isActive('home', true) === true) {\n      this.realestateSub = this.res.getMyRealestates().subscribe(async res => {\n        if (this.auth.role === 'Kunde' && res.length === 0) {\n          this.ngxSmartModalService.getModal('firstImmoModal').open();\n          this.realestateSub.unsubscribe();\n        } else if (this.auth.role === 'Dienstleister' && this.auth.profileCompleted === false) {\n          this.ngxSmartModalService.getModal('newDienstleisterModal').open();\n          this.realestateSub.unsubscribe();\n        } else {\n          console.log('Tutorial not necessary');\n          this.realestateSub.unsubscribe();\n        }\n      });\n    } else {\n      console.log('Tutorial skipped!');\n    }\n  }\n\n  logout() {\n    // Unsubscribe from all Subscriptions to prevent memory leaks and insufficient permission errors\n    console.log('Starting to unsubscribe!');\n    this.auth.sessionEnded = true;\n    sessionStorage.setItem('user', null);\n    if (this.auth.role === 'Kunde') {\n      this.$1.unsubscribe();\n      this.$2.unsubscribe();\n      this.$3.unsubscribe();\n      this.$4.unsubscribe();\n      if (this.$5 != null) {\n        this.$5.unsubscribe();\n      }\n      this.$6.unsubscribe();\n    } else if (this.auth.role === 'Dienstleister') {\n      this.$1.unsubscribe();\n      this.$2.unsubscribe();\n      this.$3.unsubscribe();\n      this.$4.unsubscribe();\n      this.$5.unsubscribe();\n      this.$6.unsubscribe();\n    } else if (this.auth.role === 'Administrator') {\n      this.$1.unsubscribe();\n      this.$2.unsubscribe();\n      this.$3.unsubscribe();\n      this.$4.unsubscribe();\n      this.$5.unsubscribe();\n      if (this.$6 != null) {\n        this.$6.unsubscribe();\n      }\n      this.$7.unsubscribe();\n      this.$8.unsubscribe();\n    }\n    // unsubscribe remaining subscriptions\n    if (!_.isEmpty(this.os.$suborderSub)) {\n      this.os.$suborderSub.unsubscribe();\n    }\n    if (!_.isEmpty(this.res.$realestateSub)) {\n      this.res.$realestateSub.unsubscribe();\n    }\n    this.auth.logout();\n  }\n\n  getSubordersID(orderID: string) {\n    // Unsubscribe from all Subscriptions to prevent memory leaks and insufficient permission errors\n    if (this.auth.role === 'Kunde') {\n      // todo: this.os.allSubordersID (suborder-overview)\n      this.os.allSuborders = null;\n      // issue fix\n      // if this.$4 is already subscribed we need to unsubscribe it first\n      // otherwise if the user will open a different record it will subscribe again so we\n      // will have multiple subscriptions and if any of the data from opened records is updated\n      // this.os.allSuborders will get updated with this record and we will lose the information\n      // for the current record that user is vieweing\n      if (!_.isUndefined(this.$5) && !_.isEmpty(this.$4)) {\n        this.$5.unsubscribe();\n      }\n      this.$5 = this.os.getSubordersID(orderID).subscribe(data => {\n        // todo: this.os.allSubordersId (suborder-overview)\n        this.os.allSuborders = data;\n      });\n    } else if (this.auth.role === 'Administrator') {\n      // issue fix: see above comment\n      if (!_.isUndefined(this.$6) && !_.isEmpty(this.$6)) {\n        this.$6.unsubscribe();\n      }\n      this.$6 = this.os.getSubordersID(orderID).subscribe(data => {\n        // todo: this.os.allSubordersId (suborder-overview)\n        this.os.allSuborders = data;\n      });\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { RealestateService } from '@app/_services/realestate.service';\nimport { map } from 'rxjs/operators';\nimport * as _ from 'underscore';\nimport { AngularFireFunctions } from '@angular/fire/functions';\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrdersService {\n  public currentRealestateTitle: any;\n  public currentRealestateDescription: any;\n  public currentRealestateAdress: any;\n  public allUnassignedOrders: any;\n  public allOrders: any;\n  public myAssignedOrders: any;\n  public myRequestedOrders: any;\n  public myCreatedOrders: any;\n  public myCompletedOrders: any;\n  public myUploadedOrders: any;\n  public allSuborders: any;\n  public allSubordersId: any;\n  public allUnassignedSuborders: any;\n  public myAssignedSuborders: any;\n  public myRequestedSuborders: any;\n  public myUploadedSuborders: any;\n  public myCompletedSuborders: any;\n  public currentSuborder: any;\n  public $suborderSub: any;\n  private orderCompletionEmailCallable: any;\n\n  // todo: temporary for allSuborders (suborder-overview)\n  public allSubordersTemp: any;\n\n  constructor(\n    private afs: AngularFirestore,\n    private realestateservice: RealestateService,\n    private fns: AngularFireFunctions\n  ) {\n    this.orderCompletionEmailCallable = this.fns.httpsCallable('sendOrderCompletionEmail');\n  }\n\n  getAllOrders() {\n    return this.afs.collection('orders', ref => {\n      return ref\n        .orderBy('createdOn', 'desc');\n    }).valueChanges();\n  }\n\n  // todo: temporary for getAllSuborders (suborder-overview)\n  getAllSubordersTemp(userId?: any, role?: any) {\n    if (role === 'Kunde') {\n      return this.afs.collection('suborders', ref => {\n        return ref\n          .where('createdBy', '==', userId);\n      }).snapshotChanges().pipe(map(response => {\n        return response.map(a => {\n          const data = a.payload.doc.data();\n          const id = a.payload.doc.id;\n          return { id, ...data };\n        });\n      }));\n    } else {\n      return this.afs.collection('suborders').snapshotChanges().pipe(map(response => {\n        return response.map(a => {\n          const data = a.payload.doc.data();\n          const id = a.payload.doc.id;\n          return { id, ...data };\n        });\n      }));\n    }\n  }\n\n  // gets triggered when suborder status changes. Checks status of all suborders related to this orderId and changes status of order\n  updateOrderStatus(suborderId: string) {\n    let processing = true;\n    let completed = true;\n    let adminActionRequired = false;\n\n    const subOrder = _.find(this.allSubordersTemp, function (suborder: any) { return suborder.id === suborderId; }, this);\n    const relatedSubOrders = _.filter(this.allSubordersTemp, function (suborder: any) { return suborder.orderId === subOrder.orderId; }, this);\n\n    relatedSubOrders.forEach(element => {\n      if (element.status === 'opened') {\n        processing = false;\n      }\n      if (element.status !== 'completed') {\n        completed = false;\n      }\n      if (element.status === 'opened' || element.status === 'requested' || element.status === 'uploaded' || element.status === 'canceled') {\n        adminActionRequired = true;\n      }\n    });\n    let status = 'opened';\n    if (processing) {\n      status = 'processing';\n    }\n    if (completed) {\n      status = 'completed';\n    }\n    this.afs.collection('orders').doc(subOrder.orderId).update({\n      status: status,\n      adminActionRequired: adminActionRequired\n    });\n  }\n\n  getAllUnassignedOrders() {\n    // Returned alle unzugeordneten Orders, die aber schon \"checked\" sind, als Observable für HTML Async Usage\n    return this.afs.collection('orders', ref => {\n      return ref\n        .where('assignedTo', '==', '')\n        .where('status', '==', 'checked');\n    }).valueChanges();\n  }\n\n  async assignSuborder(orderId: string, userId: string) {\n    await this.afs.collection('suborders').doc(orderId).update({\n      assignedTo: userId,\n      status: 'requested'\n    });\n    this.updateOrderStatus(orderId);\n  }\n\n  changeAssignment(service: string, id: string) {\n    console.log('changeAssignment');\n    const batch = this.afs.firestore.batch();\n    _.each(this.allSubordersTemp, function (suborder: any) {\n      if (suborder.assignedTo !== id && suborder.orderType === service && suborder.status !== 'uploaded' && suborder.status !== 'completed') {\n        console.log(suborder.id, ', ', suborder.assignedTo);\n        batch.update(\n          this.afs.firestore.doc('suborders/' + suborder.id), {\n            assignedTo: id\n          }\n        );\n      }\n    }, this);\n    batch.commit();\n  }\n\n  async acceptRequest(orderId: string, response: boolean) {\n    if (response) {\n      await this.afs.collection('suborders').doc(orderId).update({\n        status: 'processing'\n      });\n    } else {\n      await this.afs.collection('suborders').doc(orderId).update({\n        status: 'checked',\n        assignedTo: '',\n      });\n    }\n    this.updateOrderStatus(orderId);\n  }\n\n  unAssignOrder(orderId: string) {\n    this.afs.collection('suborders').doc(orderId).update({\n      assignedTo: '',\n      status: 'checked'\n    }).then(() => {\n      // parent order's status is affected when suborder status chanages\n      this.updateOrderStatus(orderId);\n    });\n  }\n\n  getCreatorDetails(uidParam: string) {\n    return this.afs.collection('users').doc(uidParam).valueChanges();\n  }\n\n  getAssignedOrders(userId: string) {\n    return this.afs.collection('orders', ref => {\n      return ref\n        .where('assignedTo', '==', userId);\n    }).valueChanges();\n  }\n\n  getRequestedOrders(userId: string) {\n    return this.afs.collection('orders', ref => {\n      return ref\n        .where('assignedTo', '==', userId)\n        .where('status', '==', 'requested');\n    }).valueChanges();\n  }\n\n  getCreatedOrders(userId: string) {\n    return this.afs.collection('orders', ref => {\n      return ref\n        .where('createdBy', '==', userId);\n    }).valueChanges();\n  }\n\n  getRealestateDetails(ridParam: string) {\n    return this.realestateservice.getRealestate(ridParam).valueChanges();\n  }\n\n  getOrder(orderIdParam: string) {\n    return this.afs.doc(`orders/${orderIdParam}`);\n  }\n\n  getOrderDetails(orderIdParam: string) {\n    return this.getOrder(orderIdParam).valueChanges();\n  }\n\n  getSubOrder(suborderIdParam: string) {\n    return this.afs.doc(`suborders/${suborderIdParam}`).snapshotChanges();\n  }\n\n  getSuborderDetails(suborderIdParam: string) {\n    if (!_.isEmpty(this.$suborderSub)) {\n      this.$suborderSub.unsubscribe();\n    }\n    this.$suborderSub = this.getSubOrder(suborderIdParam).subscribe(\n      {\n        next: response => {\n          const data = response.payload.data();\n          const id = response.payload.id;\n          this.currentSuborder = { id, ...data };\n        }\n      }\n    );\n    return this.$suborderSub;\n  }\n\n  async setStatusChecked(orderIdParam: string) {\n    // update the status of child suborders\n    const batch = this.afs.firestore.batch();\n    let firstSuborderId = '';\n    _.each(this.allSuborders, function (suborder: any) {\n      if (firstSuborderId === '') {\n        firstSuborderId = suborder.id;\n      }\n      if (suborder.status === 'opened') {\n        let status = 'checked';\n        // for retouching, virtual staging, directly set status to processing\n        if (suborder.orderType === 'retouching' || suborder.orderType === 'vstaging' || suborder.orderType === 'floorplan' || suborder.orderType === 'hdphotos') {\n          status = 'processing';\n        }\n        batch.update(\n          this.afs.firestore.doc('suborders/' + suborder.id), {\n            status: status\n          }\n        );\n      }\n    }, this);\n    await batch.commit();\n    this.updateOrderStatus(firstSuborderId);\n  }\n\n  setStatusUploaded(oid: string) {\n    return this.afs.collection('orders').doc(oid).update({\n      status: 'uploaded'\n    });\n  }\n\n  updateDocument(docType: string, docId: string, data: {}) {\n    if (_.isEmpty(data)) {\n      return;\n    }\n    return this.afs.collection(docType).doc(docId).update(data);\n  }\n\n  // Reusable method to add or update a field and its value both provided as parameters\n  changeOrder(oid: string, fieldToChange: string, value) {\n    console.log(oid, fieldToChange, value);\n    const data = {};\n    data[fieldToChange] = value;\n    return this.afs.collection('orders').doc(oid).update(data);\n  }\n\n  setStatusCompleted(oid: string, rid: string) {\n    return this.afs.collection('orders').doc(oid).update({\n      status: 'completed'\n    });\n  }\n\n  changeSuborderStatus(oid: string, status: string) {\n    return this.afs.collection('suborders').doc(oid).update({\n      status: status\n    }).then(() => {\n      if (status === 'completed') {\n        this.sendOrderCompletionEmail(oid);\n      }\n      // parent order's status is affected when suborder status chanages\n      this.updateOrderStatus(oid);\n    });\n  }\n\n  setPhotoLink(orderIdParam: string, formValue: any) {\n    return this.afs.collection('orders').doc(orderIdParam).update({\n      editedPictures: formValue.photoLink\n    });\n  }\n\n  // customer can cancel order if admin did not accept order before\n  cancelOrder(oidParam: string) {\n    // set status for order and all related suborders to 'canceled'\n    const relatedSubOrders = _.filter(this.allSubordersTemp, function (suborder: any) { return suborder.orderId === oidParam; }, this);\n    relatedSubOrders.forEach(element => {\n      this.afs.collection('suborders').doc(element.id).update({\n        status: 'canceled'\n      });\n    });\n    this.afs.collection('orders').doc(oidParam).update({\n      status: 'canceled'\n    });\n    // admin can delete order\n  }\n\n  deleteOrder(oidParam: string, ridParam: string) {\n    this.afs.collection('orders').doc(oidParam).delete();\n    // also delete the suborders when the order is deleted\n    const batch = this.afs.firestore.batch();\n    _.each(this.allSuborders, function (suborder: any) {\n      batch.delete(\n        this.afs.firestore.doc('suborders/' + suborder.id)\n      );\n    }, this);\n    batch.commit().then(() => {\n      console.log('Suborders deleted');\n    });\n  }\n\n  // Suborders\n\n\n  getSubordersID(orderID: string) {\n    // fetch data as an observable and attach document id to it\n    return this.afs.collection('suborders', ref => {\n      return ref\n        .where('orderId', '==', orderID);\n    }).snapshotChanges().pipe(map(response => {\n      return response.map(a => {\n        const data = a.payload.doc.data();\n        const id = a.payload.doc.id;\n        return { id, ...data };\n      });\n    }));\n  }\n\n  getAllUnassignedSuborders() {\n    return this.afs.collection('suborders', ref => {\n      return ref\n        .where('assignedTo', '==', '')\n        .where('status', '==', 'checked');\n    }).snapshotChanges().pipe(map(response => {\n      return response.map(a => {\n        const data = a.payload.doc.data();\n        const id = a.payload.doc.id;\n        return { id, ...data };\n      });\n    }));\n  }\n\n  getMyRequestedSuborders(userId: string) {\n    return this.afs.collection('suborders', ref => {\n      return ref\n        .where('assignedTo', '==', userId)\n        .where('status', '==', 'requested');\n    }).snapshotChanges().pipe(map(response => {\n      return response.map(a => {\n        const data = a.payload.doc.data();\n        const id = a.payload.doc.id;\n        return { id, ...data };\n      });\n    }));\n  }\n\n  getAssignedSuborders(userId: string) {\n    return this.afs.collection('suborders', ref => {\n      return ref\n        .where('assignedTo', '==', userId)\n        .where('status', '==', 'processing');\n    }).snapshotChanges().pipe(map(response => {\n      return response.map(a => {\n        const data = a.payload.doc.data();\n        const id = a.payload.doc.id;\n        return { id, ...data };\n      });\n    }));\n  }\n\n  getMyCompletedSuborders(userId: string) {\n    return this.afs.collection('suborders', ref => {\n      return ref\n        .where('assignedTo', '==', userId)\n        .where('status', '==', 'completed');\n    }).snapshotChanges().pipe(map(response => {\n      return response.map(a => {\n        const data = a.payload.doc.data();\n        const id = a.payload.doc.id;\n        return { id, ...data };\n      });\n    }));\n  }\n\n  getMyUploadedSuborders(userId: string) {\n    return this.afs.collection('suborders', ref => {\n      return ref\n        .where('assignedTo', '==', userId)\n        .where('status', '==', 'uploaded');\n    }).snapshotChanges().pipe(map(response => {\n      return response.map(a => {\n        const data = a.payload.doc.data();\n        const id = a.payload.doc.id;\n        return { id, ...data };\n      });\n    }));\n  }\n\n  getSubcollection(docType: string, docId: string, subColName: string) {\n    return this.afs.collection(docType).doc(docId)\n      .collection(subColName)\n      .snapshotChanges().pipe(map(response => {\n        return response.map(a => {\n          const data = a.payload.doc.data();\n          const id = a.payload.doc.id;\n          return { id, ...data };\n        });\n      }));\n  }\n\n  getPendingSuborders(suborderId: string) {\n    // fetch data as an observable and attach document id to it\n    return this.afs.collection('suborders', ref => {\n      return ref\n        .where('pendingOnSuborderId', '==', suborderId);\n    }).snapshotChanges().pipe(map(response => {\n      return response.map(a => {\n        const data = a.payload.doc.data();\n        const id = a.payload.doc.id;\n        return { id, ...data };\n      });\n    }));\n  }\n\n  updatePendingSuborder(suborderId: string) {\n    let $subOrders, subOrders;\n    $subOrders = this.getPendingSuborders(suborderId).subscribe(data => {\n      $subOrders.unsubscribe();\n      _.each(data, function (subOrder: any) {\n        this.afs.collection('suborders').doc(subOrder.id).update({\n          status: 'processing'\n        });\n      }, this);\n    });\n  }\n\n  addSubCollectionDocument(parentType: string, parentId: string, subCollectionName: string, data: any) {\n    return new Promise(resolve => {\n      this.afs.collection(parentType).doc(parentId)\n        .collection(subCollectionName).add(data).then(() => {\n          console.log('Uploaded file reference added to subcollection');\n          resolve();\n        });\n    });\n  }\n\n  sendOrderCompletionEmail(subOrderId: string): void {\n    this.getSubOrder(subOrderId).subscribe(response => {\n      const subOrderDetails: any = response.payload.data();\n      subOrderDetails['subOrderId'] = subOrderId;\n      const data = {\n        subOrderDetails: subOrderDetails,\n        orderId: subOrderDetails['orderId'],\n        customerEmail: JSON.parse(sessionStorage.getItem('user')).email\n        // customerEmail: 'nandeesh.patel@imogent.com, peer.bausch@imogent.com'\n        // customerEmail: 'nandeesh.patel@imogent.com'\n      };\n      let subCollectionName = '';\n      subOrderDetails.description = subOrderDetails.description || 'Nicht angegeben';\n      switch (subOrderDetails.orderType) {\n        case 'dronemedia':\n          subCollectionName = 'dronePhotos';\n          subOrderDetails.optionalWishPilot = subOrderDetails.optionalWishPilot || 'Nicht angegeben';\n          break;\n        case 'retouching':\n          subCollectionName = 'retouchedPhotos';\n          break;\n        case 'vstaging':\n          subCollectionName = 'stagedPhotos';\n          break;\n        case 'floorplan':\n          subCollectionName = 'floorplans';\n          break;\n        case 'visualisation':\n          subCollectionName = 'visualisation';\n          break;\n        case 'hdphotos':\n          subCollectionName = 'hdphotos';\n          break;\n      }\n      this.getSubcollection('suborders', subOrderId, subCollectionName).subscribe(attachments => {\n        data.subOrderDetails['attachments'] = attachments;\n        console.log(JSON.stringify(data));\n        this.orderCompletionEmailCallable(data).subscribe();\n      });\n      /* if (subOrderDetails['orderType'] === 'floorplan') {\n        this.getSubcollection('suborders', subOrderId, subCollectionName).subscribe(attachments => {\n          data.subOrderDetails['attachments'] = attachments;\n          console.log(JSON.stringify(data));\n          //this.orderCompletionEmailCallable(data).subscribe();\n        });\n      } */\n    });\n  }\n\n  getAllSuborders(orderId: string) {\n    return new Promise(resolve => {\n      this.afs.collection('suborders', ref => {\n        return ref\n          .where('orderId', '==', orderId);\n      }).snapshotChanges().pipe(map(response => {\n        const subOrders = [];\n        response.forEach(a => {\n          const data = a.payload.doc.data();\n          const id = a.payload.doc.id;\n          if (data['orderType'] === 'floorplan') {\n            data['attachments'] = data['planImages'];\n            data['logoImage'] && data['attachments'].push(data['logoImage']);\n            subOrders.push({ id, ...data });\n            if (subOrders.length === response.length) {\n              resolve(subOrders);\n            }\n          } else if (data['orderType'] === 'dronemedia' || data['orderType'] === 'visualisation') {\n            data['attachments'] = [];\n            subOrders.push({ id, ...data });\n            if (subOrders.length === response.length) {\n              resolve(subOrders);\n            }\n          } else if (data['orderType'] === 'hdphotos') {\n            data['attachments'] = [data['logoImage']];\n            subOrders.push({ id, ...data });\n            if (subOrders.length === response.length) {\n              resolve(subOrders);\n            }\n          } else {\n            this.getSubcollection('suborders', id, 'originalPhotos').subscribe(attachments => {\n              data['attachments'] = attachments.map(file => {\n                return {\n                  'fileName': file['file_name'],\n                  'url': file['download_url']\n                };\n              });\n              subOrders.push({ id, ...data });\n              if (subOrders.length === response.length) {\n                resolve(subOrders);\n              }\n            });\n          }\n        });\n      })).subscribe();\n    });\n  }\n\n  /**\n   * This is a sample method to add new services to the firebase.\n   */\n  addServices() {\n    // var services = {\n    //   'expose': [{\n    //     'service_title': 'Expose',\n    //     'title': 'Exposé',\n    //     'name': 'Digitales Exposé',\n    //     'service_key': 'expose',\n    //     'disabled': true,\n    //     'package_key': '23',\n    //     'price': '0,00',\n    //     'price_pre_text': '',\n    //     'package_contents': ['Professionelles Design', 'Unterstützung verschiedener Medien', 'Optimiert für mobile Ansicht'],\n    //     'extra_details': '',\n    //     'package_images': ['Expose.jpg'],\n    //     'newProperty': true,\n    //     'phsysical_products': false\n    //   }]\n    // };\n    // Object.keys(services).forEach(service => {\n    //   let serviceData = {\n    //     id: service,\n    //     packages: services[service]\n    //   };\n    //   this.afs.collection('services').doc(service).set(serviceData).then(() => {\n    //     console.log(service + ' added.');\n    //   });\n    // });\n  }\n\n  getAllServices() {\n    return this.afs.collection('services').valueChanges();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreDocument, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { AuthService } from 'src/app/auth/auth.service';\nimport * as _ from 'underscore';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RealestateService {\n  realestates: AngularFirestoreCollection;\n  myRealestates: any;\n  allRealEstates: any;\n  currentRealestate: any;\n  $realestateSub: any;\n    // View States:\n    add = false;\n    edit = false;\n\n  public title: any = null;\n  constructor(private db: AngularFirestore, private authService: AuthService) {\n   }\n  getMyRealestates() {\n    const user = JSON.parse(sessionStorage.getItem('user'));\n    const userRef = user.uid;\n    return this.db.collection('realestates', ref => ref.where('ownerID', '==', userRef)).valueChanges();\n  }\n\n  getAllRealestates() {\n    return this.allRealEstates = this.db.collection('realestates').valueChanges();\n  }\n\n  getRealestate(realestateId: string) {\n    return this.db.collection('realestates').doc(`${realestateId}`);\n  }\n\n  getRealestateSubscription(realestateId: string) {\n    if (!_.isEmpty(this.$realestateSub)) {\n      this.$realestateSub.unsubscribe();\n    }\n    this.$realestateSub = this.db.doc(`realestates/${realestateId}`).snapshotChanges().subscribe(\n      {\n        next: response => {\n          const data = response.payload.data();\n          const id = response.payload.id;\n          this.currentRealestate = {id, ...data};\n        }\n      }\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument} from '@angular/fire/firestore';\nimport { AngularFireStorage, AngularFireStorageReference, AngularFireUploadTask } from '@angular/fire/storage';\nimport { finalize } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport { OrdersService } from './orders.service';\nimport * as _ from 'underscore';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UploadService {\n\n  fileRef: AngularFireStorageReference;\n  task: AngularFireUploadTask;\n  uploadState: Observable<string>;\n  uploadProgress: Observable<number>;\n\n  public downloadURL: any;\n\n  constructor(\n    private afStorage: AngularFireStorage,\n    private afs: AngularFirestore,\n    private os: OrdersService\n  ) {}\n\n  upload(event, filePath: any, fileName: any) {\n    return new Promise(async resolve => {\n      this.fileRef = this.afStorage.ref(`users/${filePath}/${fileName}`);\n      this.task = this.fileRef.put(event.target.files[0]);\n      this.uploadProgress = await this.task.percentageChanges();\n      await this.task.snapshotChanges().pipe(\n        finalize(() => {\n          this.fileRef.getDownloadURL().subscribe(data => {\n            this.downloadURL = data;\n            resolve();\n          });\n        }\n      )\n      )\n      .subscribe();\n    });\n  }\n/**\n * Uploading a file to firebase storage\n * @param filePath is the orderId. The files are stored in a folder named with order id\n */\n  uploadToOrder(event, filePath: any, fileName: any) {\n    return new Promise(async resolve => {\n      this.fileRef = this.afStorage.ref(`orders/${filePath}/${fileName}`);\n      this.task = this.fileRef.put(event.target.files[0]);\n      this.uploadProgress = await this.task.percentageChanges();\n      await this.task.snapshotChanges().pipe(\n        finalize(() => {\n          this.fileRef.getDownloadURL().subscribe(data => {\n            this.downloadURL = data;\n            resolve();\n          });\n        }\n      )\n      )\n      .subscribe();\n    });\n  }\n\n  uploadtoSubOrder(file, filePath: string, prefix?: string){\n    return new Promise(async resolve => {\n      let fileRef = this.afStorage.ref(`suborders/${filePath}/${prefix + file.name}`);\n      let task = fileRef.put(file);\n      await task.snapshotChanges().pipe(\n        finalize(() => {\n          fileRef.getDownloadURL().subscribe(data => {\n            resolve(data);\n          },\n          error => {\n            console.log(error);\n          });\n        }\n      )\n      )\n      .subscribe();\n    });\n  }\n\n  deleteAttachment(docType: string, docId: string, subColName: string, subColDocId, filePath: string) {\n    this.afs.collection(docType).doc(docId).collection(subColName).doc(subColDocId).delete()\n      .then(() => {\n        console.log('Document deleted, now deleting actual file');\n        this.afStorage.ref(filePath).delete();\n\n      })\n      .catch(error => console.log(error));\n  }\n\n  getAttachments(docType: string, docId: string, subColName: string) {\n    return this.os.getSubcollection(docType, docId, subColName);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport * as firebase from 'firebase/app';\nimport { AngularFireStorage, AngularFireStorageReference } from '@angular/fire/storage';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UsersService {\n  public allUsers: any;\n  public userDetails: any\n  public tutorialSkipped = false;\n  fileRef: AngularFireStorageReference;\n  cartItems: any[] = [];\n  selectedServices: any[] = [];\n\n  constructor(private afs: AngularFirestore,\n    private afStorage: AngularFireStorage) { }\n\n  getAllUsers(): Observable<any> {\n    return this.afs.collection('users').valueChanges();\n  }\n\n  getUserDetails(uid: string) {\n    return this.afs.collection('users').doc(uid).valueChanges();\n  }\n\n  setVerified(uid: string) {\n    return this.afs.collection('users').doc(uid).update({\n      pilotVerified: true,\n      verificationNeeded: false\n    });\n  }\n\n  updateUser(uid: string, data: object) {\n    return this.afs.collection('users').doc(uid).update(data);\n  }\n\n  deleteDoc(doc: string, uid: string) {\n    const confirmed = confirm('Das Dokument wird aus dem Profil gelöscht und der Nutzer auf unverifiziert gesetzt. Er kann die Plattform dann nicht mehr nutzen, falls er vorher bereits verifiziert war. Bitte nur nutzen, wenn bei der anfänglichen Verifikation falsche oder ungültige Dokumente hochgeladen wurden! Nach dem Löschvorgang wird der Nutzer darüber informiert, dass die Verifikation gescheitert ist und er betreffende Dokumente neu hochladen muss.');\n    if (confirmed) {\n      let docName = '';\n      switch (doc) {\n        case 'doc0':\n          docName = 'vertragliche-vereinbarung';\n          break;\n        case 'doc1':\n          docName = 'haftpflicht';\n          break;\n        case 'doc2':\n          docName = 'kenntnisnachweis';\n          break;\n        case 'doc3':\n          docName = 'aufstiegsgenehmigung';\n          break;\n      }\n      this.afStorage.ref(`users/${uid}/${docName}`).delete();\n      if (doc === 'doc0') {\n        return this.afs.collection('users').doc(uid).update({\n          verificationDocument0: firebase.firestore.FieldValue.delete(),\n          pilotVerified: false,\n          verificationNeeded: false,\n          verificationFailed: true\n        });\n      } else if (doc === 'doc1') {\n        return this.afs.collection('users').doc(uid).update({\n          verificationDocument1: firebase.firestore.FieldValue.delete(),\n          pilotVerified: false,\n          verificationNeeded: false,\n          verificationFailed: true\n        });\n      } else if (doc === 'doc2') {\n        return this.afs.collection('users').doc(uid).update({\n          verificationDocument2: firebase.firestore.FieldValue.delete(),\n          pilotVerified: false,\n          verificationNeeded: false,\n          verificationFailed: true\n        });\n      } else if (doc === 'doc3') {\n        return this.afs.collection('users').doc(uid).update({\n          verificationDocument3: firebase.firestore.FieldValue.delete(),\n          pilotVerified: false,\n          verificationNeeded: false,\n          verificationFailed: true\n        });\n      }\n    }\n  }\n}\n","module.exports = \".mp-no-login {\\n  width: 100%;\\n  background: #f6fafd;\\n}\\n.custom-spinner .spinner-overlay{\\n  position: fixed;\\n  width: 100%;\\n  height: 100%;\\n  background: black;\\n  top: 0;\\n  left: 0;\\n  z-index: 3000;\\n  opacity: 0.2;\\n}\\n.custom-spinner .lds-ring.ring-default{\\n  z-index: 3001;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0VBQ1gsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxlQUFlO0VBQ2YsV0FBVztFQUNYLFlBQVk7RUFDWixpQkFBaUI7RUFDakIsTUFBTTtFQUNOLE9BQU87RUFDUCxhQUFhO0VBQ2IsWUFBWTtBQUNkO0FBQ0E7RUFDRSxhQUFhO0FBQ2YiLCJmaWxlIjoic3JjL2FwcC9hcHAuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tcC1uby1sb2dpbiB7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kOiAjZjZmYWZkO1xufVxuLmN1c3RvbS1zcGlubmVyIC5zcGlubmVyLW92ZXJsYXl7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogYmxhY2s7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgei1pbmRleDogMzAwMDtcbiAgb3BhY2l0eTogMC4yO1xufVxuLmN1c3RvbS1zcGlubmVyIC5sZHMtcmluZy5yaW5nLWRlZmF1bHR7XG4gIHotaW5kZXg6IDMwMDE7XG59Il19 */\"","module.exports = \"<!-- Modals, included here so they are already loaded before we even render the home.component.html -->\\n<section>\\n  <ngx-smart-modal #emailVerificationModal identifier=\\\"emailVerificationModal\\\" [closable]=\\\"false\\\" [dismissable]=\\\"false\\\" [escapable]=\\\"false\\\">\\n    <!-- Modal Title -->\\n    <h2 class=\\\"card-title b\\\">E-Mail-Bestätigung</h2>\\n\\n    <!-- Modal Text -->\\n    <p>Bitte bestätigen Sie jetzt Ihre E-Mail und drücken Sie dann auf \\\"E-Mail bestätigt\\\".</p>\\n    <p>Danach können Sie die ersten Schritte auf der Plattform machen!</p>\\n\\n    <!-- Loading Spinner: It is shown while checking the e-mail verification status -->\\n    <ng-container *ngIf=\\\"auth.checkingEmail\\\">\\n      <div class=\\\"lds-ring ring-small\\\"><div></div><div></div><div></div><div></div></div>\\n    </ng-container>\\n\\n    <!-- Modal Buttons -->\\n    <div class=\\\"row\\\">\\n\\n      <!-- Button to tell app to check if E-Mail was verified -->\\n      <div class=\\\"col\\\">\\n        <button class=\\\"btn btn-primary btn-modal\\\" (click)=\\\"loader.verifyEmail()\\\" [disabled]=\\\"auth.emailVerificationFailed\\\" [hidden]=\\\"auth.checkingEmail\\\">E-Mail bestätigt</button>\\n      </div>\\n\\n      <!-- Resend Verification E-Mail Button -->\\n      <div class=\\\"col d-none-block d-sm-flex flex-wrap justify-content-end\\\">\\n        <button class=\\\"btn btn-warning btn-modal\\\" (click)=\\\"resendVerificationEmail()\\\" [hidden]=\\\"auth.checkingEmail\\\">E-Mail erneut senden</button>\\n      </div>\\n\\n    </div>\\n\\n    <!-- Verification Failed Alert -->\\n    <span *ngIf=\\\"auth.emailVerificationFailed === true\\\" [hidden]=\\\"auth.checkingEmail\\\"><br><br><span class=\\\"alert alert-danger\\\">Sie haben Ihre E-Mail noch nicht bestätigt!</span></span>\\n\\n    <!-- Verification E-Mail resent Alert -->\\n    <span *ngIf=\\\"emailResent === true\\\"><br><br><span class=\\\"alert alert-success\\\">E-Mail wurde erneut versendet!</span></span>\\n\\n  </ngx-smart-modal>\\n  <ngx-smart-modal #firstImmoModal identifier=\\\"firstImmoModal\\\" [closable]=\\\"false\\\" [dismissable]=\\\"false\\\" [escapable]=\\\"false\\\">\\n    <!-- Modal Title -->\\n    <h2 class=\\\"card-title b\\\">Willkommen!</h2>\\n\\n    <!-- Modal Text -->\\n    <p>Legen Sie jetzt Ihre erste Immobilie an, um loszulegen!</p>\\n    <p>Wenn Sie sich selbst umsehen möchten, können Sie das Tutorial überspringen.</p>\\n\\n    <!-- Modal Buttons -->\\n    <div class=\\\"row\\\">\\n\\n      <!-- Button to follow the tutorial -->\\n      <div class=\\\"col\\\">\\n        <button class=\\\"btn btn-primary btn-modal\\\" (click)=\\\"navigateToRealestates()\\\">\\n          <span>Immobilie anlegen</span>\\n        </button>\\n      </div>\\n\\n      <!-- Button to skip the tutorial -->\\n      <div class=\\\"col d-none-block d-sm-flex flex-wrap justify-content-end\\\">\\n        <button class=\\\"btn btn-danger btn-modal\\\" (click)=\\\"skipTutorial()\\\">\\n\\n          <!-- Longer Button Text on bigger devices -->\\n          <span class=\\\"d-none d-sm-block\\\">Tutorial überspringen</span>\\n          <!-- Shorter Button Text on small devices -->\\n          <span class=\\\"d-sm-none\\\">Überspringen</span>\\n\\n        </button>\\n      </div>\\n\\n    </div>\\n  </ngx-smart-modal>\\n  <ngx-smart-modal #newDienstleisterModal identifier=\\\"newDienstleisterModal\\\" [closable]=\\\"false\\\" [dismissable]=\\\"false\\\" [escapable]=\\\"false\\\">\\n    <!-- Modal Title -->\\n    <h2 class=\\\"card-title b\\\">Willkommen!</h2>\\n\\n    <!-- Modal text -->\\n    <p>Um als Dienstleister loszulegen, legen Sie bitte Ihr Profil an, geben Sie ihre angebotenen Dienstleistungen an und laden Sie gegebenenfalls die erforderlichen Dokumente hoch!</p>\\n\\n    <!-- Add profile data button -->\\n    <button class=\\\"btn btn-primary\\\" (click)=\\\"navigateToProfile()\\\">Profil anlegen</button>\\n  </ngx-smart-modal>\\n</section>\\n\\n<!-- This html is rendered on every page of the app. We include the sidebar and router here, and add some dynamic css \\nso that the login, register & password-reset-page have different background-colors and padding -->\\n\\n<!-- Only show content to the user if all necessary data is loaded, else show loading spinner -->\\n<ng-container *ngIf=\\\"loader.loaded; else loading\\\">\\n  \\n  <!-- Specific body styling for login/register/reset-page vs all other pages -->\\n  <div [className]=\\\"!(isLoggedIn) ? 'body-white' : 'tschau'\\\">\\n\\n    <!-- Detached Sidebar toggle button: \\n    Only show f the sidebar is actually rendered (all pages except login/register/reset-page) -->\\n    <ng-container *ngIf=\\\"isLoggedIn\\\">\\n\\n      <!-- The sidebar will only render if data is loaded and E-Mail is verified (defined inside the sidebar.component.html),\\n      because this toggle is detached we have to do it for it aswell -->\\n      <ng-container *ngIf=\\\"loader.loaded && auth.emailVerified\\\">\\n\\n        <!-- Toggle -->\\n        <!-- <a class=\\\"btn btn-sm\\\" (click)=\\\"toggleSidebar()\\\" style=\\\"margin-top: 0.2em; margin-left: 0.05em; position:fixed; top: 2.5em; left: 0em;\\\">\\n          <i class=\\\"fa fa-angle-right hovernavicon\\\" style=\\\"font-size: 1.3em; color: #f6fafd;\\\"></i>\\n        </a> -->\\n\\n      </ng-container>\\n\\n    </ng-container>\\n\\n    <!-- Styling wrapper for all pages, if sidebar is active, add css class toggled (see navcss.css) -->\\n    <div class=\\\"page-wrapper chiller-theme\\\" [ngClass]=\\\"{'toggled' : getSideBarState()}\\\">\\n        <div class=\\\"wrapper\\\">\\n          <!-- Only show the sidebar if user is logged in -->\\n          <div *ngIf=\\\"isLoggedIn\\\" class=\\\"sidebar\\\" data-color=\\\"white\\\" data-background-color=\\\"imogent-green\\\" data-image=\\\"./assets/img/sidebar-1.jpg\\\">\\n              <app-sidebar-cmp></app-sidebar-cmp>\\n          </div>\\n           <div class=\\\"main-panel\\\" [ngClass]=\\\"{'mp-no-login' : !isLoggedIn}\\\">\\n              <app-navbar-cmp *ngIf=\\\"isLoggedIn\\\"></app-navbar-cmp>\\n              <div class=\\\"main-content\\\">\\n                <div class=\\\"container-fluid\\\">\\n                  <router-outlet></router-outlet>\\n                </div>\\n              </div>\\n          </div>\\n      </div>\\n    </div>\\n\\n  </div>\\n\\n</ng-container>\\n\\n<!-- CSS Loading Spinner -->\\n<ng-template #loading><div class=\\\"lds-ring ring-default centered\\\"><div></div><div></div><div></div><div></div></div></ng-template>\\n\\n<div *ngIf=\\\"showLoader\\\" class=\\\"custom-spinner\\\">\\n  <div class=\\\"spinner-overlay\\\"></div>\\n  <div class=\\\"lds-ring ring-default centered\\\">\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n  </div>\\n</div>\"","﻿import { Component, OnInit, AfterViewInit, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { SidebarService } from '@app/sidebar/sidebar.service';\nimport { LoaderService } from '@app/_services/loader.service';\nimport { AuthService } from './auth/auth.service';\nimport { RealestateService } from './_services/realestate.service';\nimport { UsersService } from './_services/users.service';\nimport { NgxSmartModalService } from 'ngx-smart-modal';\nimport PerfectScrollbar from 'perfect-scrollbar';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'app',\n  templateUrl: 'app.component.html',\n  styleUrls: ['app.component.css']\n})\nexport class AppComponent implements OnInit, OnDestroy, AfterViewInit {\n  constructor(private sidebarservice: SidebarService,\n    public loader: LoaderService,\n    public auth: AuthService,\n    public res: RealestateService,\n    public us: UsersService,\n    public router: Router,\n    public ngxSmartModalService: NgxSmartModalService) {\n  }\n\n  public emailResent = false;\n  showLoader: boolean = false;\n\n  ngOnInit() {\n    console.log('App-Component initialised');\n    this.loader.getDataAfterAuthenticated();\n    this.auth.showLoader.subscribe(showLoader => {\n      this.showLoader = showLoader;\n    });\n  }\n\n  ngAfterViewInit() {\n    this.loader.initializeScroller.subscribe(() => {\n      setTimeout(() => {\n        if (!this.loader.scrollerInitialized) {\n          const elemMainPanel = <HTMLElement>document.querySelector('.main-panel');\n          const elemSidebar = <HTMLElement>document.querySelector('.sidebar .sidebar-wrapper');\n          const html = document.getElementsByTagName('html')[0];\n          if (!this.isMac() && window.matchMedia(`(min-width: 960px)`).matches) {\n            let ps;\n            if (elemMainPanel) {\n              ps = new PerfectScrollbar(elemMainPanel);\n            }\n            if (elemSidebar) {\n              ps = new PerfectScrollbar(elemSidebar);\n            }\n            html.classList.add('perfect-scrollbar-on');\n          }\n          else {\n            html.classList.add('perfect-scrollbar-off');\n          }\n          this.loader.scrollerInitialized = true;\n        }\n      }, 100);\n    });\n  }\n\n  isMac(): boolean {\n    let bool = false;\n    if (navigator.platform.toUpperCase().indexOf('MAC') >= 0 || navigator.platform.toUpperCase().indexOf('IPAD') >= 0) {\n      bool = true;\n    }\n    return bool;\n  }\n\n  toggleSidebar() {\n    this.sidebarservice.setSidebarState(!this.sidebarservice.getSidebarState());\n  }\n\n  getSideBarState() {\n    return this.sidebarservice.getSidebarState();\n  }\n\n  hideSidebar() {\n    this.sidebarservice.setSidebarState(true);\n  }\n\n  get isLoggedIn(): boolean {\n    const user = JSON.parse(sessionStorage.getItem('user'));\n    return (user !== null) ? true : false;\n  }\n\n  navigateToRealestates() {\n    this.res.add = true;\n    this.router.navigate(['/realestate']);\n    this.ngxSmartModalService.close('firstImmoModal');\n  }\n\n  navigateToProfile() {\n    this.router.navigate(['/profile']);\n    this.ngxSmartModalService.close('newDienstleisterModal');\n  }\n\n  reloadPage() {\n    location.reload();\n  }\n\n  resendVerificationEmail() {\n    try {\n      this.auth.SendVerificationMail().then(result => {\n        this.emailResent = true;\n      }).catch(error => {\n        window.alert(error);\n        this.emailResent = false;\n      });\n      setTimeout(() => {\n        this.emailResent = false;\n      }, 3500);\n    } catch (error) {\n      window.alert(error);\n    }\n  }\n\n  skipTutorial() {\n    this.ngxSmartModalService.close('firstImmoModal');\n    this.us.tutorialSkipped = true;\n  }\n\n  ngOnDestroy() {\n  }\n\n}\n","﻿import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { AngularFireModule } from '@angular/fire';\nimport { NgxSmartModalModule } from 'ngx-smart-modal';\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\nimport { AngularFireStorageModule } from '@angular/fire/storage';\nimport { AngularFireAuthModule } from '@angular/fire/auth';\nimport { environment } from '../environments/environment';\nimport { AuthService } from './auth/auth.service';\nimport { FormsModule } from '@angular/forms';\nimport { AuthGuard } from './_guards/auth.guard';\nimport { RealestateService } from './_services/realestate.service';\nimport { OrdersService } from './_services/orders.service';\nimport { UsersService } from './_services/users.service';\nimport { UploadService } from './_services/upload.service';\n\nimport { AppComponent } from './app.component';\nimport { routing } from './app.routing';\nimport { FaqComponent } from './faq';\nimport { HomeComponent } from './home';\nimport { LoginComponent } from './login/login.component';\nimport { RegisterComponent } from './register/register.component';\nimport { ProfileComponent } from './profile';\nimport { OrderoverviewComponent } from './orderoverview';\nimport { ServicesComponent } from './services';\nimport { RealestateComponent } from './realestate';\nimport { InboxComponent } from './inbox';\nimport { SettingsComponent } from './settings';\nimport { LogoutComponent } from './logout/logout.component';\nimport { ForgotComponent } from './forgot/forgot.component';\nimport { PaymentsComponent } from './payments/payments.component';\nimport { TermsComponent } from './terms/terms.component';\n//import { SidebarComponent } from './sidebar/sidebar.component';\nimport { UsersComponent } from './users/users.component';\n\n// Bootstrap Components [NGX]\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { ModalModule } from 'ngx-bootstrap/modal';\nimport { CollapseModule } from 'ngx-bootstrap/collapse';\n\nimport { SidebarService } from './sidebar/sidebar.service';\nimport { LoaderService } from './_services/loader.service';\n\nimport { FirestoreSettingsToken } from '@angular/fire/firestore';\nimport { PackageListComponent } from './package-list/package-list.component';\nimport { PackageComponent } from './package/package.component';\n\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { SuborderOverviewComponent } from './suborder-overview/suborder-overview.component';\nimport { SuborderListComponent } from './suborder-list/suborder-list.component';;\nimport { DronemediaSuborderOverviewComponent } from './dronemedia-suborder-overview/dronemedia-suborder-overview.component';\nimport { RetouchingSuborderOverviewComponent } from './retouching-suborder-overview/retouching-suborder-overview.component'; // for using bootstrap image slider (ngb-carousel)\n\n//For Angular material\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { from } from 'rxjs';\nimport { PackageEditorComponent } from './modals/package-editor/package-editor.component';\n\n//Angular Material module\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatCardModule, MatCheckboxModule, MatFormFieldModule, MatSelectModule } from '@angular/material';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\n// File upload module\nimport { FileUploadModule } from 'ng2-file-upload';\nimport { FloorplanSuborderOverviewComponent } from './floorplan-suborder-overview/floorplan-suborder-overview.component';\nimport { UploadTaskComponent } from './upload-task/upload-task.component';\nimport { FileUploadComponent } from './file-upload/file-upload.component';\nimport { RetouchingServiceComponent } from './retouching-service/retouching-service.component';\nimport { VirtualStagingServiceComponent } from './virtual-staging-service/virtual-staging-service.component';\nimport { VirtualStagingSuborderOverviewComponent } from './virtual-staging-suborder-overview/virtual-staging-suborder-overview.component';\n\nimport { AngularFireFunctionsModule } from '@angular/fire/functions';\nimport { GlobalService } from './_services/global.service';\n\nimport { SidebarModule } from './sidebar/sidebar.module';\nimport { NavbarModule } from './shared/navbar/navbar.module';\nimport { FixedCartModule } from './shared/fixed-cart/fixed-cart.module';\nimport { RxReactiveFormsModule } from '@rxweb/reactive-form-validators';\nimport { VisualisationServiceComponent } from './visualisation-service/visualisation-service.component';\nimport { VisualisationServiceOverviewComponent } from './visualisation-service-overview/visualisation-service-overview.component';\nimport { ChangePasswordComponent } from './change-password/change-password.component';\nimport { HdphotosServiceComponent } from './hdphotos-service/hdphotos-service.component';\nimport { HdphotosSuborderOverviewComponent } from './hdphotos-suborder-overview/hdphotos-suborder-overview.component';\nimport { ExposeServiceComponent } from './expose-service/expose-service.component';\nimport { ExposeServiceOverviewComponent } from './expose-service-overview/expose-service-overview.component';\n\n@NgModule({\n    imports: [\n        BrowserModule,\n        ReactiveFormsModule,\n        routing,\n        FormsModule,\n        NgxSmartModalModule.forRoot(),\n        BsDropdownModule.forRoot(),\n        TooltipModule.forRoot(),\n        ModalModule.forRoot(),\n        CollapseModule.forRoot(),\n        AngularFireModule.initializeApp(environment.firebase),\n        AngularFirestoreModule, // imports firebase/firestore, only needed for database features\n        AngularFireAuthModule, // imports firebase/auth, only needed for auth features,\n        AngularFireStorageModule, // imports firebase/storage only needed for storage features,\n        NgbModule,\n        BrowserAnimationsModule,\n        MatDialogModule,\n        MatCardModule,\n        MatCheckboxModule,\n        FileUploadModule,\n        AngularFireFunctionsModule,\n        SidebarModule,\n        MatSlideToggleModule,\n        NavbarModule,\n        MatTooltipModule,\n        MatFormFieldModule,\n        MatSelectModule,\n        FixedCartModule,\n        RxReactiveFormsModule\n    ],\n    declarations: [\n        AppComponent,\n        HomeComponent,\n        LoginComponent,\n        RegisterComponent,\n        ProfileComponent,\n        OrderoverviewComponent,\n        ServicesComponent,\n        RealestateComponent,\n        InboxComponent,\n        FaqComponent,\n        SettingsComponent,\n        LogoutComponent,\n        ForgotComponent,\n        PaymentsComponent,\n        TermsComponent,\n        //SidebarComponent,\n        UsersComponent,\n        PackageListComponent,\n        PackageComponent,\n        SuborderOverviewComponent,\n        SuborderListComponent,\n        DronemediaSuborderOverviewComponent,\n        RetouchingSuborderOverviewComponent,\n        PackageEditorComponent,\n        FloorplanSuborderOverviewComponent,\n        UploadTaskComponent,\n        FileUploadComponent,\n        FloorplanSuborderOverviewComponent,\n        RetouchingServiceComponent,\n        VirtualStagingServiceComponent,\n        VirtualStagingSuborderOverviewComponent,\n        VisualisationServiceOverviewComponent,\n        VisualisationServiceComponent,\n        ChangePasswordComponent,\n        HdphotosServiceComponent,\n        HdphotosSuborderOverviewComponent,\n        ExposeServiceComponent,\n        ExposeServiceOverviewComponent\n    ],\n    providers: [\n        AuthService,\n        AuthGuard,\n        RealestateService,\n        OrdersService,\n        UsersService,\n        LoaderService,\n        SidebarService,\n        UploadService,\n        GlobalService,\n        {\n            provide: FirestoreSettingsToken,\n            useValue: {}\n        }\n    ],\n    bootstrap: [AppComponent]\n})\n\nexport class AppModule { }\n","﻿import { Routes, RouterModule } from '@angular/router';\n\nimport { HomeComponent } from './home';\nimport { LoginComponent } from './login/login.component';\nimport { LogoutComponent } from './logout/logout.component';\nimport { RegisterComponent } from './register/register.component';\nimport { ProfileComponent } from './profile';\nimport { OrderoverviewComponent } from './orderoverview';\nimport { ServicesComponent } from './services';\nimport { InboxComponent } from './inbox';\nimport { SettingsComponent } from './settings';\nimport { RealestateComponent } from './realestate';\nimport { FaqComponent } from './faq';\nimport { ForgotComponent } from './forgot/forgot.component';\nimport { PaymentsComponent } from './payments/payments.component';\nimport { AuthGuard } from './_guards/auth.guard';\nimport { TermsComponent } from './terms/terms.component';\nimport { UsersComponent } from './users/users.component';\nimport { ChangePasswordComponent } from './change-password/change-password.component';\n\nconst appRoutes: Routes = [\n    { path: 'home', component: HomeComponent, canActivate: [AuthGuard]},\n    { path: 'login', component: LoginComponent },\n    { path: 'logout', component: LogoutComponent },\n    { path: 'register', component: RegisterComponent },\n    { path: 'profile', component: ProfileComponent, canActivate: [AuthGuard]},\n    { path: 'orderoverview', component: OrderoverviewComponent, canActivate: [AuthGuard] },\n    { path: 'services', component: ServicesComponent, canActivate: [AuthGuard] },\n    { path: 'realestate', component: RealestateComponent, canActivate: [AuthGuard]},\n    { path: 'faq', component: FaqComponent, canActivate: [AuthGuard] },\n    { path: 'inbox', component: InboxComponent, canActivate: [AuthGuard] },\n    { path: 'settings', component: SettingsComponent, canActivate: [AuthGuard] },\n    { path: 'forgot', component: ForgotComponent },\n    { path: 'payments', component: PaymentsComponent },\n    { path: 'terms', component: TermsComponent },\n    { path: 'users', component: UsersComponent},\n    { path: 'changepassword', component: ChangePasswordComponent},\n    { path: '**', redirectTo: 'home' }\n];\n\nexport const routing = RouterModule.forRoot(appRoutes);\n","import { Injectable, NgZone, EventEmitter } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestore, AngularFirestoreDocument } from '@angular/fire/firestore';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport { NgxSmartModalService } from 'ngx-smart-modal';\nimport * as _ from 'underscore';\nimport { AngularFireFunctions } from '@angular/fire/functions';\nimport { GlobalService } from '@app/_services/global.service';\nimport { reject } from 'q';\nimport * as firebase from 'firebase/app';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class AuthService {\n\n  public sessionEnded = false;\n  userData: any; // Save logged in user data\n  role: any;\n  emailSub: any;\n  userSub: any;\n  userAuthState: any;\n  checkStateSub: any;\n  emailVerificationFailed = false;\n  floorplan: any;\n  dronepilot: any;\n  retouching: any;\n  public emailVerified = false;\n  public profileCompleted = true;\n  public myUserObservable: any;\n  public authorised = false;\n  public checkingEmail = false;\n  public registering = false;\n  uid = null;\n  uSub: any;\n  public adminFlag: boolean;\n  private createUserCallable: any;\n  public showLoader: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  constructor(\n    public afs: AngularFirestore,\n    public afAuth: AngularFireAuth,\n    public router: Router,\n    public ngZone: NgZone,\n    public ngxSmartModalService: NgxSmartModalService,\n    private fns: AngularFireFunctions,\n    private gs: GlobalService\n  ) {\n    this.createUserCallable = this.fns.httpsCallable('createUser');\n  }\n\n  checkAuthState(): Promise<boolean> {\n    /* Since the router calls  the CanActivate() method on almost every route which in turn calls this,\n    we would have many superflous database calls on every route-change, thus we set authorised = true;\n    after the first AuthCheck, so we can catch every call after the successful-login with a simple if-statement.\n    When the user logs out, this.authorised has to be set to false, because the page is not reloaded.\n    */\n    if (this.authorised === true) {\n      // Not needed to ask Firebase\n      return new Promise<boolean>(resolve => {\n        console.log('[AUTH]: Logged-in! [*]');\n        resolve(true);\n      });\n    } else {\n      return new Promise<boolean>(resolve => {\n        this.afAuth.authState.subscribe(async user => {\n          if (user) {\n            this.authorised = true;\n            const currUser = JSON.parse(sessionStorage.getItem('user'));\n            if (!this.uid && currUser && currUser.uid) {\n              this.uid = currUser.uid;\n            }\n            if (this.uSub) {\n              this.uSub.unsubscribe();\n            }\n            this.uSub = this.afs.collection('users').doc(`${this.uid}`).valueChanges().subscribe(data => {\n              if (data) {\n                this.myUserObservable = data;\n                this.emailVerified = this.myUserObservable.emailVerified || user.emailVerified;\n              } else {\n                this.emailVerified = user.emailVerified;\n              }\n              console.log('[AUTH]: AuthState: Logged-in!');\n              // close email verify popup\n              _.each(this.ngxSmartModalService.getOpenedModals(), function (obj) {\n                if (obj.id === 'emailVerificationModal') {\n                  if (this.emailVerified) {\n                    this.ngxSmartModalService.close('emailVerificationModal');\n                  }\n                }\n              }, this);\n              resolve(true);\n            });\n            //this.emailVerified = user.emailVerified;\n            //resolve(true);\n          } else {\n            this.emailVerified = false;\n            console.log('[AUTH]: AuthState: Not logged-in!');\n            sessionStorage.setItem('user', null);\n            resolve(false);\n          }\n        });\n      });\n    }\n  }\n\n  /* Method used by the Loader-Service inside the getDataAfterAuthenticated(),\n  returns a promise, to ensure that we don't try to load data before the user is initialisied and\n  we can access his role and won't work with an undefined value for it. */\n  initializeUser(): Promise<boolean> {\n    return new Promise<boolean>(resolve => {\n      this.userAuthState = this.afAuth.authState.subscribe(async user => {\n        if (user) {\n          console.log('[3]: Initializing User-Values!');\n          this.userData = user;\n          this.authorised = true;\n          sessionStorage.setItem('user', JSON.stringify(this.userData));\n          this.userSub = this.getCustomUserDoc().valueChanges().subscribe(data => {\n            this.myUserObservable = data;\n          });\n          this.getCustomUserData().then(result => {\n            if (result === true) {\n              resolve(true);\n            } else {\n              //\n              window.alert('Fehler 18-5: Bitte kontaktieren Sie den Support!');\n            }\n          });\n        } else {\n          console.log('[3 & 4]: AuthState: Not logged-in!');\n          sessionStorage.setItem('user', null);\n          this.authorised = false;\n          resolve(false);\n        }\n        this.userAuthState.unsubscribe();\n      });\n    });\n  }\n  /**\n   * Use the angularfire auth service to check if the user email is verified. If it is verified, we updated the emailVerified bit to true\n   * in user document in the user collection.\n   */\n  verifyEmail() {\n    return new Promise<boolean>(resolve => {\n      this.checkingEmail = true;\n      setTimeout(() => {\n        /* We need to update the user to see if the E-Mail has been verified. The Auth User Object is not\n           updated automatically */\n        this.afAuth.auth.currentUser.reload()\n          .then((result => {\n            this.emailSub = this.afAuth.authState.subscribe(async user => {\n              // if the email is verified already in user document\n              if (this.myUserObservable && this.myUserObservable.emailVerified) {\n                console.log('[EMAIL]: Verified in user document!');\n                this.emailVerified = true;\n                this.emailSub.unsubscribe();\n                this.ngxSmartModalService.close('emailVerificationModal');\n                resolve(true);\n              } else if (user.emailVerified === true) {\n                console.log('[EMAIL]: Verified!');\n                this.emailVerified = true;\n                this.afs.collection('users').doc(user.uid).update({\n                  emailVerified: true\n                }).then(success => {\n                  this.emailSub.unsubscribe();\n                  this.ngxSmartModalService.close('emailVerificationModal');\n                  resolve(true);\n                });\n              } else {\n                console.warn('[EMAIL]: Not verified!');\n                this.emailVerificationFailed = true;\n                resolve(false);\n                this.emailSub.unsubscribe();\n                setTimeout(() => {\n                  this.emailVerificationFailed = false;\n                }, 3500);\n              }\n            });\n          }));\n        this.checkingEmail = false;\n      }, 1000); // cosmetic delay\n    });\n  }\n\n  // Getting the the user role, so it can be used by the loader's process to only load specific data\n  getCustomUserData() {\n    return new Promise<boolean>(resolve => {\n      this.getCustomUserDoc().get().toPromise().then(result => {\n        console.log('[4]: All values assigned');\n        this.role = result.data().role;\n        this.emailVerified = result.data().emailVerified;\n        this.profileCompleted = result.data().profileCompleted;\n        this.floorplan = result.data().floorplan;\n        this.dronepilot = result.data().dronepilot;\n        this.retouching = result.data().retouching;\n        resolve(true);\n      });\n    });\n  }\n\n  // Login with email & password\n  login(email, password) {\n    return this.afAuth.auth.signInWithEmailAndPassword(email, password)\n      .then((result) => {\n        this.ngZone.run(() => {\n          this.router.navigate(['/home']);\n        });\n      }).catch((error) => {\n        window.alert(error.message);\n      });\n  }\n\n  // Register with email & password\n  register(rFV) {\n    return new Promise<boolean>(resolve => {\n      try {\n        if (!this.adminFlag) {\n          this.afAuth.auth.createUserWithEmailAndPassword(rFV.email, rFV.password1)\n            .then((result) => {\n              this.SendVerificationMail();\n              this.uid = result.user.uid;\n              this.SetUserData(result.user, rFV)\n                .then((userdataset) => {\n                  this.registering = false;\n                  this.router.navigate(['/home']);\n                  resolve();\n                });\n            });\n        } else {\n          this.showLoader.emit(true);\n          this.createUserCallable({\n            'email': rFV.email,\n            'password': rFV.password1\n          }).subscribe(response => {\n            this.showLoader.emit(false);\n            if (!response.message) {\n              this.SetUserData(response, rFV)\n                .then((userdataset) => {\n                  this.gs.showNotification('User created successfully', 'success');\n                  resolve();\n                });\n            } else {\n              this.gs.showNotification(response.message, 'danger');\n              reject();\n            }\n          });\n        }\n      } catch (error) {\n        window.alert(error.message);\n      }\n    });\n  }\n\n  // Send Verfication-Email\n  SendVerificationMail() {\n    return this.afAuth.auth.currentUser.sendEmailVerification();\n  }\n\n  // Reset Forggot password\n  forgot(passwordResetEmail) {\n    return this.afAuth.auth.sendPasswordResetEmail(passwordResetEmail)\n      .then(() => {\n        window.alert('E-Mail wurde gesendet. Überprüfen Sie ihr E-Mail Postfach!');\n      }).catch((error) => {\n        window.alert(error);\n      });\n  }\n\n  // Just used by the Sidebar and for css classes, not needed to run any database checks.\n  get isLoggedIn(): boolean {\n    const user = JSON.parse(sessionStorage.getItem('user'));\n    return (user !== null) ? true : false;\n  }\n\n  /* Setting up user data when sign in with username/password,\n  sign up with username/password and sign in with social auth\n  provider in Firestore database using AngularFirestore + AngularFirestoreDocument service */\n  SetUserData(user, rFV) {\n    const userRef: AngularFirestoreDocument<any> = this.afs.doc(`users/${user.uid}`);\n    const userData = {\n      uid: user.uid,\n      email: user.email,\n      emailVerified: user.emailVerified,\n      role: rFV.role,\n      anrede: rFV.anrede,\n      firstName: rFV.firstName,\n      lastName: rFV.lastName,\n      registeredOn: new Date(),\n      pilotVerified: false,\n      verificationNeeded: false,\n      profileCompleted: false\n    };\n    return userRef.set(userData, {\n      merge: true\n    });\n  }\n\n  // Logging the user out\n  logout() {\n    this.userSub && this.userSub.unsubscribe();\n    this.uSub && this.uSub.unsubscribe();\n    this.authorised = false;\n    this.adminFlag = false;\n    return this.afAuth.auth.signOut()\n      .then((result) => {\n        this.router.navigate(['/logout']);\n      }).catch((error) => {\n        console.log(error.message);\n      });\n  }\n\n  // Getting the Document\n  getCustomUserDoc() {\n    const user = JSON.parse(sessionStorage.getItem('user'));\n    const uid = user.uid;\n    return this.afs.collection('users').doc(`${uid}`);\n  }\n\n  reAuthenticateUser(password: string) {\n    const credentials = firebase.auth.EmailAuthProvider.credential(this.userData.email, password);\n    return this.afAuth.auth.currentUser.reauthenticateAndRetrieveDataWithCredential(credentials);\n  }\n\n  changePassword(password){\n    return this.afAuth.auth.currentUser.updatePassword(password);\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoYW5nZS1wYXNzd29yZC9jaGFuZ2UtcGFzc3dvcmQuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div class=\\\"row justify-content-center\\\">\\n  <div class=\\\"col-12 col-md-8 col-lg-6\\\">\\n    <div class=\\\"card\\\">\\n      <div class=\\\"card-header\\\">\\n        <h5 class=\\\"card-title text-left wsn mb-0\\\">Passwort ändern</h5>\\n      </div>\\n      <div class=\\\"card-body\\\">\\n        <form [formGroup]=\\\"changePasswordForm\\\">\\n          <div class=\\\"form-group\\\">\\n            <input autocomplete=\\\"current-password\\\" type=\\\"password\\\" formControlName=\\\"currentPassword\\\" class=\\\"form-control\\\" #currentPwd\\n              placeholder=\\\"Aktuelles Passwort *\\\" (input)=\\\"validateOtherFields(['newPassword1'])\\\">\\n            <span *ngIf=\\\"currentPassword.invalid && currentPassword.touched\\\">\\n              <br>\\n              <span *ngIf=\\\"currentPassword.errors.required\\\" class=\\\"alert alert-warning\\\">Bitte geben Sie Ihr aktuelles\\n                Passwort ein!</span>\\n              <span *ngIf=\\\"!currentPassword.errors.required && currentPassword.errors.passwordError\\\"\\n                class=\\\"alert alert-warning\\\">{{currentPassword.errors.passwordError.value}}</span>\\n            </span>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <input autocomplete=\\\"new-password\\\" type=\\\"password\\\" formControlName=\\\"newPassword1\\\" class=\\\"form-control\\\" #newPwd\\n              placeholder=\\\"Neues Passwort *\\\" (input)=\\\"validateOtherFields(['newPassword2'])\\\">\\n            <span *ngIf=\\\"newPassword1.invalid && newPassword1.touched\\\">\\n              <br>\\n              <span *ngIf=\\\"newPassword1.errors.required\\\" class=\\\"alert alert-warning\\\">Bitte geben Sie ein neues\\n                Passwort ein!</span>\\n              <span *ngIf=\\\"!newPassword1.errors.required && newPassword1.errors.passwordError\\\"\\n                class=\\\"alert alert-warning\\\">{{newPassword1.errors.passwordError.value}}</span>\\n              <span\\n                *ngIf=\\\"!newPassword1.errors.required && !newPassword1.errors.passwordError && newPassword1.errors.noRepeatPasswordError\\\"\\n                class=\\\"alert alert-warning\\\">{{newPassword1.errors.noRepeatPasswordError.value}}</span>\\n            </span>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <input autocomplete=\\\"repeat-password\\\" type=\\\"password\\\" formControlName=\\\"newPassword2\\\" class=\\\"form-control\\\"\\n              placeholder=\\\"Neues Passwort wiederholen *\\\">\\n            <span *ngIf=\\\"newPassword2.invalid && newPassword2.touched\\\">\\n              <br>\\n              <span *ngIf=\\\"newPassword2.errors.required\\\" class=\\\"alert alert-warning\\\">Die eingegebenen Passwörter stimmen\\n                nicht\\n                überein!</span>\\n              <span *ngIf=\\\"!newPassword2.errors.required && newPassword2.errors.passwordError\\\"\\n                class=\\\"alert alert-warning\\\">{{newPassword2.errors.passwordError.value}}</span>\\n              <span\\n                *ngIf=\\\"!newPassword2.errors.required && !newPassword2.errors.passwordError && newPassword2.errors.repeatPasswordError\\\"\\n                class=\\\"alert alert-warning\\\">{{newPassword2.errors.repeatPasswordError.value}}</span>\\n            </span>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\\\"card-footer \\\">\\n        <button mat-raised-button type=\\\"submit\\\" (click)=\\\"changePassword()\\\" class=\\\"btn btn-fill btn-primary\\\">Passwort\\n          ändern</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit, ViewChild, AfterViewInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { passwordValidator, repeatPasswordValidator, noRepeatPasswordValidator } from '@app/shared/form.validators';\nimport { AuthService } from '@app/auth/auth.service';\nimport { GlobalService } from '@app/_services/global.service';\nimport { LoaderService } from '@app/_services/loader.service';\n\n@Component({\n  selector: 'app-change-password',\n  templateUrl: './change-password.component.html',\n  styleUrls: ['./change-password.component.css']\n})\nexport class ChangePasswordComponent implements OnInit, AfterViewInit {\n\n  changePasswordForm: FormGroup;\n  @ViewChild('currentPwd') currentPwd;\n  @ViewChild('newPwd') newPwd;\n\n  constructor(\n    private authService: AuthService,\n    private gs: GlobalService,\n    private loader: LoaderService\n  ) {\n    this.changePasswordForm = new FormGroup({\n      'currentPassword': new FormControl('', [\n        Validators.required\n      ]),\n      'newPassword1': new FormControl('', [Validators.required, passwordValidator()]),\n      'newPassword2': new FormControl('', [Validators.required, passwordValidator()])\n    });\n  }\n\n  ngOnInit() { }\n\n  ngAfterViewInit() {\n    const currentPwd = this.currentPwd.nativeElement;\n    const newPwd = this.newPwd.nativeElement;\n    this.newPassword1.setValidators([Validators.required, passwordValidator(), noRepeatPasswordValidator(currentPwd)]);\n    this.newPassword2.setValidators([Validators.required, passwordValidator(), repeatPasswordValidator(newPwd)]);\n  }\n\n  get currentPassword() {\n    return this.changePasswordForm.get('currentPassword');\n  }\n\n  get newPassword1() {\n    return this.changePasswordForm.get('newPassword1');\n  }\n\n  get newPassword2() {\n    return this.changePasswordForm.get('newPassword2');\n  }\n\n  changePassword(): void {\n    Object.keys(this.changePasswordForm.controls).forEach(control => {\n      this.changePasswordForm.controls[control].updateValueAndValidity();\n      this.changePasswordForm.controls[control].markAsTouched();\n    });\n    if (this.changePasswordForm.valid) {\n      this.authService.reAuthenticateUser(this.currentPassword.value).then(\n        success => {\n          this.authService.changePassword(this.newPassword1.value).then(\n            success => {\n              this.gs.showNotification('Password has been changed successfully. Please login with new credentials.', 'success');\n              this.loader.logout();\n            },\n            error => {\n              this.gs.showNotification('Password could not be changed. Please try again later.', 'danger');\n            }\n          );\n        },\n        error => {\n          this.gs.showNotification('Incorrect current password!', 'danger');\n        }\n      );\n    }\n  }\n\n  validateOtherFields(controls: string[]): void{\n    controls.forEach(control => {\n      if(this.changePasswordForm.controls[control].touched){\n        this.changePasswordForm.controls[control].updateValueAndValidity();\n      }\n    });\n  }\n}","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Ryb25lbWVkaWEtc3Vib3JkZXItb3ZlcnZpZXcvZHJvbmVtZWRpYS1zdWJvcmRlci1vdmVydmlldy5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<!-- Guide for Service provider -->\\n<ng-container *ngIf=\\\"auth.myUserObservable.role == 'Dienstleister' && os.currentSuborder.status == 'processing'\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-12\\\">\\n            <h5 class=\\\"card-title text-left wsn\\\">Kurz-Anleitung:</h5>\\n            <p class=\\\"mb-1\\\"><strong>1. Schritt:</strong> Kunde kontaktieren und Termin für die Aufnahmen ausmachen.</p>\\n            <p class=\\\"mb-1\\\"><strong>2. Schritt:</strong> Vor Ort (falls Aufnahmetermin ohne Kunde, vorab per E-Mail) die Einverständniserklärung des/der Eigentümer einfordern.</p>\\n            <p class=\\\"mb-1\\\"><strong>3. Schritt:</strong> Die Aufnahmen nach den Vorgaben für Aerial // Extended (siehe Anforderungen) machen. Evtl. Sonderwünsche des Kundes beachten.</p>\\n            <p class=\\\"mb-1\\\"><strong>4. Schritt:</strong> Die Aufnahmen unkomprimiert hier hochladen und anschließend auf \\\"Auftrag abschließen\\\" klicken.</p>\\n            <p><i>Genaue Anweisungen für die Art der Aufnahmen sind nach Auftragstyp sortiert unter dem Menüpunkt\\n          Anforderungen zu finden.</i></p>\\n        </div>\\n    </div>\\n</ng-container>\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-6\\\">\\n        <!-- Comment for Service provider -->\\n        <p class=\\\"mb-1\\\"><strong>Kommentar für den Piloten: </strong> <span *ngIf=\\\"os.currentSuborder.optionalWishPilot === ''\\\">Nicht\\n        angegeben</span>{{ os.currentSuborder.optionalWishPilot }}</p>\\n        <!-- Agreement for customer -->\\n        <div *ngIf=\\\"auth.myUserObservable.role === 'Kunde'\\\">\\n            <a class=\\\"btn btn-danger mb-2\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"../../assets//documents/customer/Einverstaendniserklaerung_Drohnenaufnahmen.pdf\\\">\\n                <i class=\\\"far fa-file-pdf\\\"></i> - Einverständniserklärung\\n            </a>\\n            <p style=\\\"color:#dc3545;\\\">Der Drohnenpilot benötigt diese Einverständniserklärung unterschrieben vom Immobilieneigentümer, um Aufnahmen anzufertigen. Bitte bringen Sie diese entweder zum Termin mit oder falls der Drohnenpilot die Aufnahmen alleine machen soll, lassen\\n                Sie diesem die unterzeichnete Erklärung vorher zukommen.</p>\\n        </div>\\n\\n    </div>\\n</div>\\n<!-- File upload component -->\\n<app-file-upload *ngIf=\\\"(auth.myUserObservable.role == 'Dienstleister' || auth.myUserObservable.role == 'Administrator') && \\n  os.currentSuborder.status === 'processing' || os.currentSuborder.status === 'uploaded' ||\\n  os.currentSuborder.status === 'completed'\\\" [parentId]=\\\"os.currentSuborder.id\\\" [allowedFileExt]=\\\"allowedFileExt\\\" (setSubmitDisabled)=\\\"setSubmitDisabledHanlder($event)\\\" [subFolderName]=\\\"'dronePhotos/'\\\" [parentType]=\\\"'suborders'\\\" [subCollectionName]=\\\"'dronePhotos'\\\"\\n    [parent]=\\\"this\\\">\\n</app-file-upload>\"","import { Component, OnInit, Input, ElementRef, ViewChild, Output } from '@angular/core';\nimport { OrdersService } from '@app/_services/orders.service';\nimport { AuthService } from '@app/auth/auth.service';\nimport * as _ from 'underscore';\nimport { UploadService } from '@app/_services/upload.service';\nimport { EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-dronemedia-suborder-overview',\n  templateUrl: './dronemedia-suborder-overview.component.html',\n  styleUrls: ['./dronemedia-suborder-overview.component.css']\n})\n\nexport class DronemediaSuborderOverviewComponent implements OnInit {\n\n  allowedFileExt = ['jpg', 'jpeg', 'png', 'JPG']; // allowed file extensions for drone photos\n  @Output() setSubmitDisabled = new EventEmitter<boolean>();\n\n  constructor(\n    public os: OrdersService,\n    public auth: AuthService,\n    private us: UploadService\n  ) {\n\n  }\n\n  ngOnInit() {\n  }\n\n  setSubmitDisabledHanlder(value: boolean) {\n    this.setSubmitDisabled.emit(value);\n  }\n\n  /**\n   * controls disabling of attachment deletion\n   */\n  deleteAttachmentDisabled() {\n    if (\n      this.os.currentSuborder.status === 'uploaded' ||\n      this.os.currentSuborder.status === 'completed') {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n * controls disabling of attachment upload\n */\n  isUploadDisabled() {\n    if (this.os.currentSuborder.status === 'uploaded' ||\n      this.os.currentSuborder.status === 'completed') {\n      return true;\n    }\n    return false;\n  }\n}\n","module.exports = \".details-list .row {\\n  padding: 5px 0 5px 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZXhwb3NlLXNlcnZpY2Utb3ZlcnZpZXcvZXhwb3NlLXNlcnZpY2Utb3ZlcnZpZXcuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG9CQUFvQjtBQUN0QiIsImZpbGUiOiJzcmMvYXBwL2V4cG9zZS1zZXJ2aWNlLW92ZXJ2aWV3L2V4cG9zZS1zZXJ2aWNlLW92ZXJ2aWV3LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZGV0YWlscy1saXN0IC5yb3cge1xuICBwYWRkaW5nOiA1cHggMCA1cHggMDtcbn0iXX0= */\"","module.exports = \"<div class=\\\"card-body\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-12 col-lg-2\\\">\\n      <div class=\\\"row plan\\\">\\n        <img class=\\\"card-img-top\\\" src=\\\"../../assets/images/Expose.jpg\\\">\\n      </div>\\n    </div>\\n    <div class=\\\"col-1\\\"></div>\\n    <div class=\\\"col-5 details-list\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-12\\\">\\n          <h5>Spezifikationen</h5>\\n        </div>\\n      </div>\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-6\\\">\\n          <strong>Kommentare</strong>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n          {{ subOrderDetails.description || '-' }}\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { OrdersService } from '@app/_services/orders.service';\n\n@Component({\n  selector: 'app-expose-service-overview',\n  templateUrl: './expose-service-overview.component.html',\n  styleUrls: ['./expose-service-overview.component.css']\n})\nexport class ExposeServiceOverviewComponent implements OnInit {\n  subOrderDetails: any;\n\n  constructor(\n    public orderService: OrdersService) {\n    this.subOrderDetails = this.orderService.currentSuborder;\n  }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2V4cG9zZS1zZXJ2aWNlL2V4cG9zZS1zZXJ2aWNlLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<!-- Description what the customer will get -->\\n<div class=\\\"row\\\">\\n  <div class=\\\"col\\\">\\n    <h4>Das erwartet Sie:</h4>\\n    <ul class=\\\"list-unstyled mt-3 mb-4\\\">\\n      <li *ngFor=\\\"let item of package.package_contents\\\" class=\\\"text-truncate\\\"> ✓ {{item}}</li>\\n    </ul>\\n    <!-- Border -->\\n    <div class=\\\"border-bottom bbcb mt-3 mb-3\\\"></div>\\n\\n    <!-- Form for special wishes of the customer -->\\n    <form [formGroup]=\\\"exposeForm\\\">\\n      <p>Digitales Exposé als eigene Objekthomepage. Stellt die von Ihnen zusätzlich ausgewählten Inhalte dynamisch dar.\\n      </p>\\n      <h4>Sonderwünsche:</h4>\\n      <p class=\\\"mb-0\\\">Sollten Sie besondere Bearbeitungswünsche für das Exposé haben, erläutern Sie diese bitte\\n        möglichst detailiert in dem Kommentarfeld für den Dienstleister.</p>\\n      <a href=\\\"../../assets/images/formulierungshilfe.svg\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\\n        class=\\\"my-link\\\">Formulierungshilfe</a>\\n\\n      <!-- Decription for vstaging -->\\n      <div class=\\\"form-group mt-4\\\">\\n        <p class=\\\"mb-0\\\">Kommentar für das Exposé:</p>\\n        <!-- placeholder for package 6 -->\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"{{package.description_placeholder}}\\\"\\n          formControlName=\\\"description\\\">\\n      </div>\\n    </form>\\n  </div>\\n</div>\\n<!-- Show price -->\\n<div class=\\\"row mb-2\\\">\\n  <div class=\\\"col-4\\\"></div>\\n  <div class=\\\"col-8\\\">\\n    <hr />\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-2\\\"></div>\\n      <div class=\\\"col-10 text-right font-sz-20\\\">Es fallen die vereinbarten Extrakosten je Exposé an</div>\\n      <!-- <div class=\\\"col-4 text-right font-sz-20\\\"> € {{calculatePrice()}} </div> -->\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit, Output, Input, EventEmitter } from '@angular/core';\nimport { Package } from '@app/models/package';\nimport { FormBuilder, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-expose-service',\n  templateUrl: './expose-service.component.html',\n  styleUrls: ['./expose-service.component.css']\n})\nexport class ExposeServiceComponent implements OnInit {\n  @Output() onFormChange = new EventEmitter();\n  @Input(\"package\") package: Package;\n  exposeForm: any;\n\n  constructor(private fb: FormBuilder) {\n    this.exposeForm = this.fb.group({\n      description: ['']\n    });\n  }\n\n  ngOnInit() {\n    this.package[\"validate\"] = true;\n    this.exposeForm.valueChanges.subscribe(() => {\n      let formValues = {};\n      formValues['description'] = this.exposeForm.value.description;\n      formValues['packageNum'] = this.package['package_key'];\n      this.onFormChange.emit(formValues);\n    });\n    this.package.form = this.exposeForm;\n  }\n\n  ngAfterViewInit() {\n\n  }\n\n  onChange(): void {\n    this.package.form = this.exposeForm;\n  }\n\n  get description() {\n    return this.exposeForm.get('description');\n  }\n\n  calculatePrice() {\n    return this.package.price;\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZhcS9mYXEuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div class=\\\"shadow card cgrid\\\">\\r\\n  <div class=\\\"card-header\\\">\\r\\n    <a class=\\\"my-link clickable\\\" (click)=\\\"active = !active\\\" [attr.aria-expanded]=\\\"active\\\" aria-controls=\\\"collapse1\\\">\\r\\n      <h5 class=\\\"card-title text-left wsn\\\">Aerial // Extended</h5>\\r\\n    </a>\\r\\n  </div>\\r\\n  <div [collapse]=\\\"!active\\\">\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <p class=\\\"card-text\\\">Wählt der Kunde keine speziellen Perspektiven und Höhen für die Luftaufnahmen aus,\\r\\n        beinhaltet das Extended Paket folgende Aufnahmen für den Kunden:</p>\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-sm-5\\\">\\r\\n          <p><strong>Luftaufnahmen:</strong></p>\\r\\n          <ul>\\r\\n            <li>1. Seitenansicht <strong>(P1, H1)</strong></li>\\r\\n            <li>2. Seitenansicht <strong>(P1, H2)</strong></li>\\r\\n            <li>3. Seitenansicht <strong>(P3, H2)</strong></li>\\r\\n            <li>4. Seitenansicht <strong>(P5, H2)</strong></li>\\r\\n            <li>5. Seitenansicht <strong>(P7, H2)</strong></li>\\r\\n            <li>6. Draufsicht <strong>H2</strong></li>\\r\\n            <li>7. Draufsicht <strong>H9</strong></li>\\r\\n          </ul>\\r\\n        </div>\\r\\n        <div class=\\\"col-4\\\">\\r\\n          <img class=\\\"img-fluid\\\" src=\\\"../../assets/images/perspektiven.png\\\" style=\\\"max-width: 195px;\\\">\\r\\n        </div>\\r\\n        <div class=\\\"col-3\\\">\\r\\n          <img class=\\\"img-fluid\\\" src=\\\"../../assets/images/draufsicht.png\\\" style=\\\"max-width: 140px;\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n      <p class=\\\"card-text\\\">Der Winkel und die Flughöhe sollen so gewählt werden, dass die Immobilie in einer\\r\\n        vorteilhaften Perspektive gezeigt wird und keine Teile der Immobilie abgeschnitten werden. Die optimale\\r\\n        Flughöhe bei Wohnhäusern liegt zwischen 20-30 Metern und bei Mehrfamilienhäusern zwischen 30-40 Metern.</p>\\r\\n      <p class=\\\"card-text mb-0 text-danger\\\"><strong>Wichtig!</strong> Die Haustür entspricht immer\\r\\n        der Perspektive P1.</p>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"shadow card cgrid\\\">\\r\\n  <div class=\\\"card-header\\\">\\r\\n    <a class=\\\"my-link clickable\\\" (click)=\\\"active2 = !active2\\\" [attr.aria-expanded]=\\\"active2\\\" aria-controls=\\\"collapse2\\\">\\r\\n      <h5 class=\\\"card-title text-left wsn\\\">Beispiele Seitenansichten</h5>\\r\\n    </a>\\r\\n  </div>\\r\\n  <div [collapse]=\\\"!active2\\\">\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-sm-4\\\">\\r\\n          <img class=\\\"img-fluid\\\" src=\\\"../../assets/images/seitenansicht.png\\\">\\r\\n        </div>\\r\\n        <div class=\\\"col-8\\\">\\r\\n          <img class=\\\"img-fluid\\\" src=\\\"../../assets/images/beispiele_seitenansicht.jpeg\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"shadow card cgrid\\\">\\r\\n  <div class=\\\"card-header\\\">\\r\\n    <a class=\\\"my-link clickable\\\" (click)=\\\"active3 = !active3\\\" [attr.aria-expanded]=\\\"active3\\\" aria-controls=\\\"collapse2\\\">\\r\\n      <h5 class=\\\"card-title text-left wsn\\\">Beispiele Draufsichten</h5>\\r\\n    </a>\\r\\n  </div>\\r\\n  <div [collapse]=\\\"!active3\\\">\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-sm-4\\\">\\r\\n          <img class=\\\"img-fluid\\\" src=\\\"../../assets/images/draufsicht1.png\\\">\\r\\n        </div>\\r\\n        <div class=\\\"col-8\\\">\\r\\n          <img class=\\\"img-fluid\\\" src=\\\"../../assets/images/beispiele_draufsicht.jpeg\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-faq',\n  templateUrl: './faq.component.html',\n  styleUrls: ['./faq.component.css']\n})\nexport class FaqComponent implements OnInit {\n\n  active = true; // Initial States der einklappbaren Cards\n  active2 = true;\n  active3 = true;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","export * from './faq.component';\r\n","module.exports = \".fileContainer {\\n  overflow: hidden;\\n  position: relative;\\n}\\n\\n.fileContainer [type=file] {\\n  cursor: inherit;\\n  display: block;\\n  font-size: 999px;\\n  filter: alpha(opacity=0);\\n  min-height: 100%;\\n  min-width: 100%;\\n  opacity: 0;\\n  position: absolute;\\n  right: 0;\\n  text-align: right;\\n  top: 0;\\n}\\n\\n.file-list .file-entry{\\n  border-radius: 5%;\\n  padding: 5px 0 5px 0;\\n}\\n\\n.file-list .file-entry:nth-child(odd){\\n  background-color: #e5f9f6;\\n}\\n\\n.file-list .file-entry .file-name{\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.file-list:not(.logo-file){\\n  height: 123px;\\n  overflow-y: auto;\\n}\\n\\n.upload-button-container{\\n  padding-top: 40px;\\n}\\n\\n.file-list .file-entry .file-remove{\\n  cursor: pointer;\\n}\\n\\nh1, h2, h3, h4, h5, h6\\n{\\n  color: #50535b !important;\\n  font-weight: initial !important;\\n}\\n\\n/* .uploaded-img {\\n  width: 100px;\\n  height: 80px;\\n  border: 1px red solid;\\n} */\\n\\n.img-wrap {\\n  position: relative;\\n  display: inline-block;\\n  margin-left: 1%;\\n}\\n\\n.img-wrap .close {\\n  position: absolute;\\n  top: 2px;\\n  right: 2px;\\n  z-index: 100;\\n  background-color: #FFF;\\n  padding: 5px 2px 2px;\\n  color: #000;\\n  font-weight: bold;\\n  cursor: pointer;\\n  opacity: .5;\\n  text-align: center;\\n  font-size: 22px;\\n  line-height: 10px;\\n  border-radius: 50%;\\n}\\n\\n.img-wrap:hover .close {\\n  opacity: 1;\\n}\\n\\n.img-download {\\n  overflow: hidden;\\n  white-space: nowrap;\\n  width: 100px;\\n  text-overflow: ellipsis;\\n}\\n\\n.uploaded-img,\\n.download-layer{\\n    height: 110px;\\n    width: 110px;\\n}\\n\\n.download-layer{\\n    z-index: 10;\\n    opacity: 0;\\n    position: absolute;\\n    background: rgba(0, 0, 0, 0.5);\\n    color: #FFF;\\n    font-size: 0.8rem;\\n    top: 0;\\n    padding-left: 5px;\\n}\\n\\n.download-layer:hover{\\n    opacity: 1;\\n}\\n\\n.file-delete,\\n.file-download{\\n    position: absolute;\\n    color: #FFF;\\n    cursor: pointer;\\n}\\n\\n.file-download{\\n  bottom: 5px;\\n  left: 20px;\\n}\\n\\n.file-delete{\\n  left: 50px;\\n  bottom: 10px;\\n}\\n\\n.attachment{\\n    margin-right: 15px;\\n    position: relative;\\n    border: 1px solid;\\n    border-radius: 10%;\\n    overflow: hidden;\\n}\\n\\n.details-list .row.style-image{\\n    background-color: #FFF;\\n    font-size: 0.7rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZmlsZS11cGxvYWQvZmlsZS11cGxvYWQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsY0FBYztFQUNkLGdCQUFnQjtFQUNoQix3QkFBd0I7RUFDeEIsZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixVQUFVO0VBQ1Ysa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixpQkFBaUI7RUFDakIsTUFBTTtBQUNSOztBQUNBO0VBQ0UsaUJBQWlCO0VBQ2pCLG9CQUFvQjtBQUN0Qjs7QUFDQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFDQTtFQUNFLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFDaEIsdUJBQXVCO0FBQ3pCOztBQUNBO0VBQ0UsYUFBYTtFQUNiLGdCQUFnQjtBQUNsQjs7QUFDQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFDQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7O0VBRUUseUJBQXlCO0VBQ3pCLCtCQUErQjtBQUNqQzs7QUFFQTs7OztHQUlHOztBQUVIO0VBQ0Usa0JBQWtCO0VBQ2xCLHFCQUFxQjtFQUNyQixlQUFlO0FBQ2pCOztBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixVQUFVO0VBQ1YsWUFBWTtFQUNaLHNCQUFzQjtFQUN0QixvQkFBb0I7RUFDcEIsV0FBVztFQUNYLGlCQUFpQjtFQUNqQixlQUFlO0VBQ2YsV0FBVztFQUNYLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLGtCQUFrQjtBQUNwQjs7QUFDQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixtQkFBbUI7RUFDbkIsWUFBWTtFQUNaLHVCQUF1QjtBQUN6Qjs7QUFFQTs7SUFFSSxhQUFhO0lBQ2IsWUFBWTtBQUNoQjs7QUFDQTtJQUNJLFdBQVc7SUFDWCxVQUFVO0lBQ1Ysa0JBQWtCO0lBQ2xCLDhCQUE4QjtJQUM5QixXQUFXO0lBQ1gsaUJBQWlCO0lBQ2pCLE1BQU07SUFDTixpQkFBaUI7QUFDckI7O0FBQ0E7SUFDSSxVQUFVO0FBQ2Q7O0FBQ0E7O0lBRUksa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxlQUFlO0FBQ25COztBQUNBO0VBQ0UsV0FBVztFQUNYLFVBQVU7QUFDWjs7QUFDQTtFQUNFLFVBQVU7RUFDVixZQUFZO0FBQ2Q7O0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsZ0JBQWdCO0FBQ3BCOztBQUNBO0lBQ0ksc0JBQXNCO0lBQ3RCLGlCQUFpQjtBQUNyQiIsImZpbGUiOiJzcmMvYXBwL2ZpbGUtdXBsb2FkL2ZpbGUtdXBsb2FkLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZmlsZUNvbnRhaW5lciB7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLmZpbGVDb250YWluZXIgW3R5cGU9ZmlsZV0ge1xuICBjdXJzb3I6IGluaGVyaXQ7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBmb250LXNpemU6IDk5OXB4O1xuICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MCk7XG4gIG1pbi1oZWlnaHQ6IDEwMCU7XG4gIG1pbi13aWR0aDogMTAwJTtcbiAgb3BhY2l0eTogMDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIHRvcDogMDtcbn1cbi5maWxlLWxpc3QgLmZpbGUtZW50cnl7XG4gIGJvcmRlci1yYWRpdXM6IDUlO1xuICBwYWRkaW5nOiA1cHggMCA1cHggMDtcbn1cbi5maWxlLWxpc3QgLmZpbGUtZW50cnk6bnRoLWNoaWxkKG9kZCl7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlNWY5ZjY7XG59XG4uZmlsZS1saXN0IC5maWxlLWVudHJ5IC5maWxlLW5hbWV7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xufVxuLmZpbGUtbGlzdDpub3QoLmxvZ28tZmlsZSl7XG4gIGhlaWdodDogMTIzcHg7XG4gIG92ZXJmbG93LXk6IGF1dG87XG59XG4udXBsb2FkLWJ1dHRvbi1jb250YWluZXJ7XG4gIHBhZGRpbmctdG9wOiA0MHB4O1xufVxuLmZpbGUtbGlzdCAuZmlsZS1lbnRyeSAuZmlsZS1yZW1vdmV7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuaDEsIGgyLCBoMywgaDQsIGg1LCBoNlxue1xuICBjb2xvcjogIzUwNTM1YiAhaW1wb3J0YW50O1xuICBmb250LXdlaWdodDogaW5pdGlhbCAhaW1wb3J0YW50O1xufVxuXG4vKiAudXBsb2FkZWQtaW1nIHtcbiAgd2lkdGg6IDEwMHB4O1xuICBoZWlnaHQ6IDgwcHg7XG4gIGJvcmRlcjogMXB4IHJlZCBzb2xpZDtcbn0gKi9cblxuLmltZy13cmFwIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAxJTtcbn1cbi5pbWctd3JhcCAuY2xvc2Uge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMnB4O1xuICByaWdodDogMnB4O1xuICB6LWluZGV4OiAxMDA7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkY7XG4gIHBhZGRpbmc6IDVweCAycHggMnB4O1xuICBjb2xvcjogIzAwMDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgb3BhY2l0eTogLjU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1zaXplOiAyMnB4O1xuICBsaW5lLWhlaWdodDogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xufVxuLmltZy13cmFwOmhvdmVyIC5jbG9zZSB7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi5pbWctZG93bmxvYWQge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICB3aWR0aDogMTAwcHg7XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xufVxuXG4udXBsb2FkZWQtaW1nLFxuLmRvd25sb2FkLWxheWVye1xuICAgIGhlaWdodDogMTEwcHg7XG4gICAgd2lkdGg6IDExMHB4O1xufVxuLmRvd25sb2FkLWxheWVye1xuICAgIHotaW5kZXg6IDEwO1xuICAgIG9wYWNpdHk6IDA7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICBjb2xvcjogI0ZGRjtcbiAgICBmb250LXNpemU6IDAuOHJlbTtcbiAgICB0b3A6IDA7XG4gICAgcGFkZGluZy1sZWZ0OiA1cHg7XG59XG4uZG93bmxvYWQtbGF5ZXI6aG92ZXJ7XG4gICAgb3BhY2l0eTogMTtcbn1cbi5maWxlLWRlbGV0ZSxcbi5maWxlLWRvd25sb2Fke1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBjb2xvcjogI0ZGRjtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG4uZmlsZS1kb3dubG9hZHtcbiAgYm90dG9tOiA1cHg7XG4gIGxlZnQ6IDIwcHg7XG59XG4uZmlsZS1kZWxldGV7XG4gIGxlZnQ6IDUwcHg7XG4gIGJvdHRvbTogMTBweDtcbn1cbi5hdHRhY2htZW50e1xuICAgIG1hcmdpbi1yaWdodDogMTVweDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgYm9yZGVyOiAxcHggc29saWQ7XG4gICAgYm9yZGVyLXJhZGl1czogMTAlO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG59XG4uZGV0YWlscy1saXN0IC5yb3cuc3R5bGUtaW1hZ2V7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRjtcbiAgICBmb250LXNpemU6IDAuN3JlbTtcbn0iXX0= */\"","module.exports = \"<div class=\\\"row\\\" *ngIf=\\\"auth.myUserObservable.role != 'Kunde' && status != 'completed'\\\">\\n    <div class=\\\"col-6\\\">\\n        <form [formGroup]=\\\"filesForm\\\">\\n            <h5 class=\\\"font-weight-light\\\">Fotos ({{allowedFileExt.toString()}})</h5>\\n            <div class=\\\"form-group row mt-3\\\">\\n                <div class=\\\"col-3 upload-button-container\\\">\\n                    <label class=\\\"fileContainer btn btn-dark btn-sm text-white\\\">\\n                        Datei auswählen\\n                        <input type=\\\"file\\\" [writeFile]=\\\"true\\\" formControlName=\\\"uploadedFiles\\\" multiple=\\\"true\\\"\\n                            #uploadFileElem (change)=\\\"onChange()\\\" accept=\\\".png,.jpeg,.pdf,.jpg\\\" ng2FileSelect\\n                            [uploader]=\\\"uploader\\\" />\\n                    </label>\\n                </div>\\n                <div class=\\\"col-9 file-list\\\">\\n                    <div class=\\\"file-entry row\\\" *ngFor=\\\"let file of uploader.queue\\\">\\n                        <div class=\\\"col-8 file-name\\\">\\n                            {{ file?.file?.name }}\\n                        </div>\\n                        <div class=\\\"col-4 text-right\\\">\\n                            <span class=\\\"fas fa-trash-alt text-danger file-remove\\\" (click)=\\\"onRemoveFile(file)\\\"></span>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div *ngIf=\\\"uploadedFiles.invalid && (uploadedFiles.dirty || uploadedFiles.touched)\\\"\\n                    class=\\\"alert alert-danger col-12\\\">\\n                    <div *ngIf=\\\"uploadedFiles.errors.required\\\">\\n                        Bitte geben Sie ein (gültiges) Foto ein!\\n                    </div>\\n                    <div *ngIf=\\\"uploadedFiles.errors.forbiddenFile\\\">\\n                        Bitte laden Sie ein gültiges Dateiformat hoch\\n                    </div>\\n                    <div *ngIf=\\\"!uploadedFiles.errors.required && uploadedFiles.errors.fileRequired\\\">\\n                        Bitte geben Sie ein (gültiges) Foto ein!\\n                    </div>\\n                </div>\\n            </div>\\n            <button class=\\\"fileContainer btn btn-dark btn-sm\\\" [disabled]=\\\"uploadedFiles.invalid || isUploadDisabled()\\\"\\n                (click)=\\\"initiateUpload()\\\">Datei hochladen</button>\\n        </form>\\n        <!-- Individual file upload tasks -->\\n        <ng-container *ngIf=\\\"startUpload\\\">\\n            <ng-container *ngFor=\\\"let file of files\\\">\\n                <app-upload-task (removeFileFromQueue)=\\\"onRemoveFile($event)\\\" [file]=\\\"file\\\"\\n                    [path]=\\\"parentType + '/' + parentId + '/' + subFolderName + file.name\\\" [parentId]=\\\"parentId\\\"\\n                    [parentType]=\\\"parentType\\\" [subCollectionName]=\\\"subCollectionName\\\"></app-upload-task>\\n            </ng-container>\\n        </ng-container>\\n    </div>\\n</div>\\n<!-- Fetch uploaded photos by async pipe -->\\n<!-- <ng-container *ngIf=\\\"attachments; else loading\\\">\\n  <div class=\\\"row mt-2\\\">\\n    <div class=\\\"col-12\\\">\\n      <h5 class=\\\"mb-2\\\">Uploaded Photos</h5>\\n      <div class=\\\"img-wrap\\\" *ngFor='let attachment of attachments'>\\n        <span [ngStyle]=\\\"getDelAttachmentStyle()\\\" class=\\\"close\\\"\\n          (click)=\\\"deleteAttachement(attachment?.id, attachment?.file_name)\\\">&times;</span>\\n        <img class=\\\"uploaded-img\\\" [src]=\\\"attachment?.download_url\\\" *ngIf=\\\"attachment?.file_name.indexOf('.pdf') < 0\\\">\\n        <img class=\\\"uploaded-img\\\" src=\\\"../../assets/images/PDF_file_icon.svg\\\"\\n          *ngIf=\\\"attachment?.file_name.indexOf('.pdf') >= 0\\\">\\n        <br>\\n        <p class=\\\"img-download\\\"><a [href]=\\\"attachment?.download_url\\\" target=\\\"_blank\\\"\\n            rel=\\\"noopener\\\">{{attachment?.file_name}}</a></p>\\n      </div>\\n    </div>\\n  </div>\\n</ng-container> -->\\n\\n<div class=\\\"row mt-4 mb-4\\\" *ngIf=\\\"attachments && attachments.length > 0\\\">\\n    <div class=\\\"col-12 row\\\">\\n        <div class=\\\"col-12\\\">\\n            <h5>Hochgeladene Dateien</h5>\\n        </div>\\n        <div class=\\\"col-12 mt-3\\\">\\n            <div class=\\\"row container\\\">\\n                <div *ngFor='let attachment of attachments' class=\\\"attachment\\\">\\n                    <div class=\\\"uploaded-img\\\">\\n                        <img class=\\\"uploaded-img\\\" [src]=\\\"attachment?.download_url\\\"\\n                            *ngIf=\\\"attachment?.file_name.indexOf('.pdf') < 0\\\">\\n                        <img class=\\\"uploaded-img\\\" src=\\\"../../assets/images/PDF_file_icon.svg\\\"\\n                            *ngIf=\\\"attachment?.file_name.indexOf('.pdf') >= 0\\\">\\n                        <div class=\\\"download-layer\\\">\\n                            <span class=\\\"file-name\\\">\\n                                {{attachment.file_name}}\\n                            </span>\\n                            <a class=\\\"file-download\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" [href]=\\\"attachment?.download_url\\\">\\n                                <i class=\\\"fas fa-cloud-download-alt\\\"></i>\\n                            </a>\\n                            <i [ngStyle]=\\\"getDelAttachmentStyle()\\\" class=\\\"fas fa-trash file-delete\\\"\\n                                (click)=\\\"deleteAttachement(attachment?.id, attachment?.file_name)\\\"></i>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"","import { Component, OnInit, ViewChild, ElementRef, Input, EventEmitter, Output } from '@angular/core';\nimport { FileUploader } from 'ng2-file-upload';\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\nimport { fileRequiredValidator } from '../modals/package-editor/package-editor.component';\nimport { forbiddenFileValidator } from '../modals/package-editor/package-editor.component';\nimport { OrdersService } from '@app/_services/orders.service';\nimport { Observable } from 'rxjs';\nimport { UploadService } from '@app/_services/upload.service';\nimport * as _ from 'underscore';\nimport { AuthService } from '@app/auth/auth.service';\n\n@Component({\n  selector: 'app-file-upload',\n  templateUrl: './file-upload.component.html',\n  styleUrls: ['./file-upload.component.css']\n})\nexport class FileUploadComponent implements OnInit {\n  @ViewChild(\"uploadFileElem\") uploadFileElem: ElementRef<any>;\n  @Input('parentId') parentId: string; // if of the parent reocrd to which files are linked\n  @Input('parentType') parentType: string; // Collection name of the parent reocrd to which files are linked\n  @Input('subCollectionName') subCollectionName: string; // name for the files subcollection\n  @Input('allowedFileExt') allowedFileExt: []; // allowed file extensions\n  @Input('parent') parent: any; // context (this) of the parent component\n  @Input('readOnly') readOnly: any = false; // if the component should only show the files and not allow any actions\n  @Input('subFolderName') subFolderName: any = ''; // subfolder name in the suborder main folder\n\n  @Output() setSubmitDisabled = new EventEmitter<boolean>();\n\n  startUpload: boolean = false;\n  $attachments: any; // subuscription for attachments\n  attachments: any; // data for attachments\n\n  public uploader: FileUploader = new FileUploader({});\n  filesForm: FormGroup;\n  filesElem: ElementRef;\n  files = [];\n  public status: string = \"\";\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private os: OrdersService,\n    private us: UploadService,\n    public auth: AuthService\n  ) {\n    this.initializeForm();\n  }\n\n  initializeForm() {\n    this.filesForm = this.formBuilder.group({\n      uploadedFiles: ['', [\n        Validators.required,\n        forbiddenFileValidator(this.allowedFileExt, this.filesElem),\n        fileRequiredValidator(this.uploader.queue)\n      ]]\n    });\n  }\n\n  ngOnInit() {\n    // fetch already uploaded files\n    this.$attachments = this.us.getAttachments(this.parentType, this.parentId, this.subCollectionName)\n      .subscribe(data => {\n        this.attachments = data;\n        // handle enabling/disabled state of submit button in this function\n        this.setSubmitDisabledHanlder();\n      });\n    if (!_.isEmpty(this.parent) && !_.isEmpty(this.parent.os)\n      && !_.isEmpty(this.parent.os.currentSuborder)) {\n      this.status = this.parent.os.currentSuborder.status;\n    } else if (this.parent && this.parent.orderService && this.parent.orderService.currentSuborder) {\n      this.status = this.parent.orderService.currentSuborder.status;\n    }\n  }\n  get uploadedFiles() {\n    return this.filesForm.get('uploadedFiles');\n  }\n\n  /**\n   * add condition to disable submit button according to your suborder type\n   */\n  setSubmitDisabledHanlder() {\n    let disabled = false;\n\n    if (!_.isEmpty(this.parent) && !_.isEmpty(this.parent.os)\n      && !_.isEmpty(this.parent.os.currentSuborder)) {\n      // condition for dronemedia and retouching suborder package number 2\n      if ((this.parent.os.currentSuborder.orderType === 'dronemedia' ||\n        this.parent.os.currentSuborder.orderType === 'retouching') &&\n        String(this.parent.os.currentSuborder.packageNum) === '2' && this.attachments.length !== 7) {\n        console.log('disabled is true: ', this.parent.os.currentSuborder.packageNum);\n        disabled = true;\n      } else if ((['6', '7', '8', '9'].indexOf(String(this.parent.os.currentSuborder.packageNum), 0) != -1) &&\n        this.attachments.length !== this.parent.os.currentSuborder.requiredUploads) {\n        // retouching and virtual staging suborders\n        disabled = true;\n      }\n    }\n    if (this.parent && this.parent.orderService && this.parent.orderService.currentSuborder && this.parent.orderService.currentSuborder.orderType === 'floorplan' && this.attachments.length <= 0) {\n      disabled = true;\n    }\n    if (this.parent && this.parent.orderService && this.parent.orderService.currentSuborder && this.parent.orderService.currentSuborder.orderType === 'hdphotos' && this.attachments.length <= 0) {\n      disabled = true;\n    }\n    this.setSubmitDisabled.emit(disabled);\n  }\n\n\n  ngAfterViewInit() {\n    if (_.isEmpty(this.uploadFileElem)) {\n      return;\n    }\n    let self = this;\n    this.filesElem = this.uploadFileElem.nativeElement;\n    this.filesForm = this.formBuilder.group({\n      uploadedFiles: ['', [\n        Validators.required,\n        forbiddenFileValidator(this.allowedFileExt, this.filesElem),\n        fileRequiredValidator(this.uploader.queue)\n      ]]\n    });\n    this.filesForm.valueChanges.subscribe(() => {\n      let formValues = {};\n      Object.keys(self.filesForm.controls).forEach(control => {\n        if (control === 'uploadedFiles') {\n          self.files = [];\n          self.uploader.queue.forEach(entry => self.files.push(entry.file.rawFile));\n        }\n      });\n    });\n  }\n\n\n  onChange(): void {\n    const fileListLength = this.uploader.queue.length;\n    let lastFile = this.uploader.queue[fileListLength - 1];\n    for (let i = 0; i < fileListLength - 1; i++) {\n      if (lastFile.file.name === this.uploader.queue[i].file.name && lastFile.file.size === this.uploader.queue[i].file.size) {\n        lastFile.remove();\n      }\n    }\n    // fix for Internet Explorer. Manually set the file value\n    if (this.uploader.queue.length > 0 && _.isEmpty(this.filesForm.get('uploadedFiles').value)) {\n      this.filesForm.controls['uploadedFiles'].setValue(this.uploader.queue[0].file.name);\n    }\n    this.filesForm.controls.uploadedFiles.updateValueAndValidity();\n  }\n\n  initiateUpload() {\n    if (!_.isEmpty(this.uploader.queue)) {\n      this.startUpload = true;\n    }\n  }\n  /**\n   * Remove the file from upload queue\n   */\n  onRemoveFile(file, type?: string): void {\n    if (_.isFunction(file.remove)) {\n      file.remove();\n    } else {\n      this.uploader.queue.forEach(entry => {\n        if (entry.file.name === file.name) {\n          entry.remove();\n        }\n        if (_.isEmpty(this.uploader.queue)) {\n          this.startUpload = false;\n        }\n      }\n      );\n      // when uploader queue is empty reset the form touch state to remove\n      // validation errors as the form is submitted\n      if (this.uploader.queue.length === 0) {\n        Object.keys(this.filesForm.controls).forEach(control => {\n          this.filesForm.controls[control].markAsUntouched();\n          this.filesForm.controls[control].markAsPristine();\n        });\n      }\n    }\n    this.filesForm.controls.uploadedFiles.updateValueAndValidity();\n  }\n\n  /**\n   * Delete the uploaded filed\n   */\n  deleteAttachement(subColDocId: string, fileName: string) {\n    if (this.readOnly || (!_.isEmpty(this.parent) && _.isFunction(this.parent.deleteAttachmentDisabled) &&\n      this.parent.deleteAttachmentDisabled())) {\n      return;\n    }\n    const confirmed = confirm('Sind Sie sicher, dass Sie diese Datei löschen möchten? Diese Aktion kann nicht rückgängig gemacht werden!');\n    if (confirmed) {\n      const path = `${this.parentType}/${this.parentId}/${this.subFolderName}${fileName}`;\n      this.us.deleteAttachment(this.parentType, this.parentId, this.subCollectionName, subColDocId, path);\n    } else {\n      alert('Löschvorgang abgebrochen!');\n    }\n  }\n  /**\n   * Disable the delete attachment icon conditionally\n   */\n  getDelAttachmentStyle() {\n    let style = {};\n    if (this.readOnly) {\n      style = { 'cursor': 'not-allowed' };\n    }\n    if (!_.isEmpty(this.parent) && _.isFunction(this.parent.deleteAttachmentDisabled) &&\n      this.parent.deleteAttachmentDisabled()) {\n      style = { 'cursor': 'not-allowed' };\n    }\n    return style;\n  }\n  /**\n   * Disable the upload files button conditionally\n   */\n  isUploadDisabled() {\n    if (this.readOnly) {\n      return true;\n    }\n    if (!_.isEmpty(this.parent) && _.isFunction(this.parent.isUploadDisabled) &&\n      this.parent.isUploadDisabled()) {\n      return true;\n    }\n    return false;\n  }\n\n  ngOnDestroy() {\n    // unsubscripte the obeservables when the view is destroyed\n    if (!_.isEmpty(this.$attachments)) {\n      console.log('un subscribing from attachments')\n      this.$attachments.unsubscribe();\n      this.attachments = null;\n    }\n  }\n\n}\n","module.exports = \".details-list .row{\\n    padding: 5px 0 5px 0;\\n}\\n.details-list .row:nth-child(even){\\n    background-color: #f6fafd;\\n}\\n.comments-section{\\n    border: 1px solid;\\n    padding-top: 10px;\\n    padding-bottom: 10px;\\n    border-radius: 5px;\\n}\\n.file-thumbnail,\\n.download-layer{\\n    height: 110px;\\n    width: 110px;\\n}\\n.download-layer{\\n    z-index: 10;\\n    opacity: 0;\\n    position: absolute;\\n    background: rgba(0, 0, 0, 0.5);\\n    color: #FFF;\\n    font-size: 0.8rem;\\n    top: 0;\\n    padding-left: 5px;\\n}\\n.download-layer:hover{\\n    opacity: 1;\\n}\\n.file-download{\\n    position: absolute;\\n    bottom: 5px;\\n    left: 20px;\\n    color: #FFF;\\n}\\n.attachment{\\n    margin-right: 15px;\\n    position: relative;\\n    border: 1px solid;\\n    border-radius: 10%;\\n    overflow: hidden;\\n}\\n.details-list .row.style-image{\\n    background-color: #FFF;\\n    font-size: 0.7rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZmxvb3JwbGFuLXN1Ym9yZGVyLW92ZXJ2aWV3L2Zsb29ycGxhbi1zdWJvcmRlci1vdmVydmlldy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksb0JBQW9CO0FBQ3hCO0FBQ0E7SUFDSSx5QkFBeUI7QUFDN0I7QUFDQTtJQUNJLGlCQUFpQjtJQUNqQixpQkFBaUI7SUFDakIsb0JBQW9CO0lBQ3BCLGtCQUFrQjtBQUN0QjtBQUNBOztJQUVJLGFBQWE7SUFDYixZQUFZO0FBQ2hCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsVUFBVTtJQUNWLGtCQUFrQjtJQUNsQiw4QkFBOEI7SUFDOUIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixNQUFNO0lBQ04saUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSSxVQUFVO0FBQ2Q7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsVUFBVTtJQUNWLFdBQVc7QUFDZjtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLGdCQUFnQjtBQUNwQjtBQUNBO0lBQ0ksc0JBQXNCO0lBQ3RCLGlCQUFpQjtBQUNyQiIsImZpbGUiOiJzcmMvYXBwL2Zsb29ycGxhbi1zdWJvcmRlci1vdmVydmlldy9mbG9vcnBsYW4tc3Vib3JkZXItb3ZlcnZpZXcuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kZXRhaWxzLWxpc3QgLnJvd3tcbiAgICBwYWRkaW5nOiA1cHggMCA1cHggMDtcbn1cbi5kZXRhaWxzLWxpc3QgLnJvdzpudGgtY2hpbGQoZXZlbil7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y2ZmFmZDtcbn1cbi5jb21tZW50cy1zZWN0aW9ue1xuICAgIGJvcmRlcjogMXB4IHNvbGlkO1xuICAgIHBhZGRpbmctdG9wOiAxMHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cbi5maWxlLXRodW1ibmFpbCxcbi5kb3dubG9hZC1sYXllcntcbiAgICBoZWlnaHQ6IDExMHB4O1xuICAgIHdpZHRoOiAxMTBweDtcbn1cbi5kb3dubG9hZC1sYXllcntcbiAgICB6LWluZGV4OiAxMDtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNSk7XG4gICAgY29sb3I6ICNGRkY7XG4gICAgZm9udC1zaXplOiAwLjhyZW07XG4gICAgdG9wOiAwO1xuICAgIHBhZGRpbmctbGVmdDogNXB4O1xufVxuLmRvd25sb2FkLWxheWVyOmhvdmVye1xuICAgIG9wYWNpdHk6IDE7XG59XG4uZmlsZS1kb3dubG9hZHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm90dG9tOiA1cHg7XG4gICAgbGVmdDogMjBweDtcbiAgICBjb2xvcjogI0ZGRjtcbn1cbi5hdHRhY2htZW50e1xuICAgIG1hcmdpbi1yaWdodDogMTVweDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgYm9yZGVyOiAxcHggc29saWQ7XG4gICAgYm9yZGVyLXJhZGl1czogMTAlO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG59XG4uZGV0YWlscy1saXN0IC5yb3cuc3R5bGUtaW1hZ2V7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRjtcbiAgICBmb250LXNpemU6IDAuN3JlbTtcbn0iXX0= */\"","module.exports = \"<div class=\\\"row\\\">\\n  <div class=\\\"col-12 col-md-6 details-list\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-12\\\">\\n        <h5>Spezifikationen</h5>\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-6 text-right\\\">\\n        <strong>Möbliert</strong>\\n      </div>\\n      <div class=\\\"col-6\\\">\\n        <i class=\\\"fas\\\" [ngClass]=\\\"{\\n          'fa-check text-success': subOrderDetails.mobliert,\\n          'fa-times text-danger': !subOrderDetails.mobliert\\n        }\\\"></i>\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-6 text-right\\\">\\n        <strong>Bemaßung</strong>\\n      </div>\\n      <div class=\\\"col-6\\\">\\n        <i class=\\\"fas\\\" [ngClass]=\\\"{\\n            'fa-check text-success': subOrderDetails.bemasung,\\n            'fa-times text-danger': !subOrderDetails.bemasung\\n          }\\\"></i>\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-6 text-right\\\">\\n        <strong>Nordpfeil</strong>\\n      </div>\\n      <div class=\\\"col-6\\\">\\n        <i class=\\\"fas\\\" [ngClass]=\\\"{\\n            'fa-check text-success': subOrderDetails.nordpfeil,\\n            'fa-times text-danger': !subOrderDetails.nordpfeil\\n          }\\\"></i>\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-6 text-right\\\">\\n        <strong>Raumbezeichnung</strong>\\n      </div>\\n      <div class=\\\"col-6\\\">\\n        <i class=\\\"fas\\\" [ngClass]=\\\"{\\n            'fa-check text-success': subOrderDetails.raumbezeichnung,\\n            'fa-times text-danger': !subOrderDetails.raumbezeichnung\\n          }\\\"></i>\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-6 text-right\\\">\\n        <strong>Wie immer?</strong>\\n      </div>\\n      <div class=\\\"col-6\\\">\\n        <i class=\\\"fas\\\" [ngClass]=\\\"{\\n            'fa-check text-success': subOrderDetails.allRooms,\\n            'fa-times text-danger': !subOrderDetails.allRooms\\n          }\\\"></i>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"col-12 col-md-6 mt-3 mt-md-0 details-list\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-12\\\">\\n        <h5>Produktdetails anzeigen</h5>\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-6 text-right\\\">\\n        <strong>zusätzliche Etage: </strong>\\n      </div>\\n      <div class=\\\"col-6\\\">\\n        {{subOrderDetails.additionalFloor}}\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-6 text-right\\\">\\n        <strong>Isometrische Ansicht</strong>\\n      </div>\\n      <div class=\\\"col-6\\\">\\n        <i class=\\\"fas\\\" [ngClass]=\\\"{\\n            'fa-check text-success': subOrderDetails.isometric,\\n            'fa-times text-danger': !subOrderDetails.isometric\\n          }\\\"></i>\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-6 text-right\\\">\\n        <strong>Produkt: </strong>\\n      </div>\\n      <div class=\\\"col-6\\\">\\n        {{subOrderDetails.packageName}}\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-6 text-right\\\">\\n        <strong>Style: </strong>\\n      </div>\\n      <div class=\\\"col-6\\\">\\n        {{subOrderDetails.styleName}}\\n      </div>\\n    </div>\\n    <div class=\\\"row style-image\\\">\\n      <div class=\\\"col-6 text-right\\\">\\n        <img src=\\\"{{subOrderDetails.imgUrl}}\\\" class=\\\"file-thumbnail\\\">\\n      </div>\\n      <div class=\\\"col-6\\\">\\n        *Nur zu Anschaungszwecken. Ihr Grundriss kann auf Basis Ihrer Auswahl abweichen.\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<div class=\\\"row mt-4 align-items-center\\\">\\n  <div class=\\\"col-12 col-md-4 col-xl-2 text-md-right\\\">\\n    <strong>Kommentare/Anmerkungen: </strong>\\n  </div>\\n  <div class=\\\"col-12 col-md-8 comments-section\\\">\\n    {{subOrderDetails.comments || 'N/A'}}\\n  </div>\\n</div>\\n<div class=\\\"row mt-4\\\">\\n  <div class=\\\"col-12 col-md-8 col-lg-6 row\\\" *ngIf=\\\"subOrderDetails.planImages?.length > 0\\\">\\n    <div class=\\\"col-12\\\">\\n      <h5>Grundrisse</h5>\\n    </div>\\n    <div class=\\\"col-12\\\">\\n      <div class=\\\"row container\\\">\\n        <div *ngFor=\\\"let file of subOrderDetails.planImages\\\" class=\\\"attachment\\\">\\n          <div class=\\\"uploaded-img\\\">\\n            <img src=\\\"{{file.url}}\\\" class=\\\"file-thumbnail\\\">\\n            <div class=\\\"download-layer\\\">\\n              <span class=\\\"file-name\\\">\\n                {{file.fileName}}\\n              </span>\\n              <a class=\\\"file-download\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" download=\\\"{{file.fileName}}\\\" [href]=\\\"file.url\\\">\\n                <i class=\\\"fas fa-cloud-download-alt\\\"></i>\\n              </a>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"col-12 col-md-8 col-lg-6 row\\\" *ngIf=\\\"subOrderDetails.logoImage\\\">\\n    <div class=\\\"col-12\\\">\\n      <h5>Logo</h5>\\n    </div>\\n    <div class=\\\"col-12\\\">\\n      <div class=\\\"row container\\\">\\n        <div class=\\\"attachment\\\">\\n          <div class=\\\"uploaded-img\\\">\\n            <img src=\\\"{{subOrderDetails.logoImage.url}}\\\" class=\\\"file-thumbnail\\\">\\n            <div class=\\\"download-layer\\\">\\n              <span class=\\\"file-name\\\">\\n                {{subOrderDetails.logoImage.fileName}}\\n              </span>\\n              <a class=\\\"file-download\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" download=\\\"{{subOrderDetails.logoImage.fileName}}\\\"\\n                [href]=\\\"subOrderDetails.logoImage.url\\\">\\n                <i class=\\\"fas fa-cloud-download-alt\\\"></i>\\n              </a>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<!-- File upload component -->\\n<div class=\\\"mt-5 mb-5\\\">\\n  <app-file-upload *ngIf=\\\"(auth.myUserObservable.role == 'Dienstleister' || auth.myUserObservable.role == 'Administrator') && \\n    orderService.currentSuborder.status === 'processing' || orderService.currentSuborder.status === 'uploaded' ||\\n    orderService.currentSuborder.status === 'completed'\\\" [parentId]=\\\"orderService.currentSuborder.id\\\"\\n    [allowedFileExt]=\\\"allowedFileExt\\\" (setSubmitDisabled)=\\\"setSubmitDisabledHanlder($event)\\\"\\n    [subFolderName]=\\\"'floorplans/'\\\" [parentType]=\\\"'suborders'\\\" [subCollectionName]=\\\"'floorplans'\\\" [parent]=\\\"this\\\">\\n  </app-file-upload>\\n</div>\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { OrdersService } from '@app/_services/orders.service';\nimport { AuthService } from '@app/auth/auth.service';\n\n@Component({\n  selector: 'app-floorplan-suborder-overview',\n  templateUrl: './floorplan-suborder-overview.component.html',\n  styleUrls: ['./floorplan-suborder-overview.component.css']\n})\nexport class FloorplanSuborderOverviewComponent implements OnInit {\n  subOrderDetails;\n  public allowedFileExt: string[] = ['pdf', 'jpeg', 'png', 'jpg', 'JPG'];\n  @Output() setSubmitDisabled = new EventEmitter<boolean>();\n\n  constructor(\n    public orderService: OrdersService,\n    public auth: AuthService\n  ) {\n    this.subOrderDetails = this.orderService.currentSuborder;\n  }\n\n  ngOnInit() {\n  }\n\n  setSubmitDisabledHanlder(value: boolean) {\n    this.setSubmitDisabled.emit(value);\n  }\n\n  /**\n   * controls disabling of attachment deletion\n   */\n  deleteAttachmentDisabled() {\n    if (\n      this.orderService.currentSuborder.status === 'uploaded' ||\n      this.orderService.currentSuborder.status === 'completed') {\n      return true;\n    }\n    return false;\n  }\n\n    /**\n   * controls disabling of attachment upload\n   */\n  isUploadDisabled() {\n    if (this.orderService.currentSuborder.status === 'uploaded' ||\n    this.orderService.currentSuborder.status === 'completed') {\n      return true;\n    }\n    return false;\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZvcmdvdC9mb3Jnb3QuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<!-- Page-Content -->\\n<div id=\\\"paddingdiv\\\">\\n\\n  <!-- Aligining content with Logo -->\\n  <div style=\\\"max-width: 300px; width: 100%; height: auto; margin: 0 auto;\\\">\\n\\n    <!-- Logo -->\\n    <img class=\\\"mb-4\\\" src=\\\"assets/images/Logo-IMOGENT-mit-Schrift-300x94.png\\\">\\n\\n    <!-- Password Reset Form -->\\n    <h3 class=\\\"b\\\">Passwort vergessen</h3>\\n    <form>\\n\\n      <!-- E-Mail -->\\n      <div class=\\\"form-group\\\">\\n\\n        <!-- E-Mail Input -->\\n        <label class=\\\"font-italic b sr-only\\\" for=\\\"email\\\">E-Mail</label>\\n        <input type=\\\"text\\\" class=\\\"form-control mb-2\\\" placeholder=\\\"Email\\\" #userEmail required autofocus>\\n\\n      </div>\\n\\n      <!-- Form Buttons: Reset & Cancel -->\\n      <div class=\\\"form-group\\\">\\n\\n        <!-- Reset -->\\n        <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"authService.forgot(userEmail.value)\\\">Zurücksetzen</button>\\n        <!-- Cancel -->\\n        <a routerLink=\\\"/login\\\" class=\\\"btn btn-link\\\">Abbrechen</a>\\n\\n      </div>\\n\\n    </form>\\n\\n    <!-- Footer -->\\n    <section>\\n      <p class=\\\"b nomarbot\\\">&copy;2019 IMOGENT GmbH</p>\\n      <!-- Privacy Policy & Imprint -->\\n      <a href=\\\"https://www.imogent.de/datenschutz\\\" class=\\\"my-link\\\">Datenschutz</a><span> | </span><a class=\\\"my-link\\\" href=\\\"https:www.imogent.de/impressum\\\">Impressum</a>\\n    </section>\\n    \\n  </div>\\n  \\n</div>\\n  \"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../auth/auth.service';\n\n@Component({\n  selector: 'app-forgot',\n  templateUrl: './forgot.component.html',\n  styleUrls: ['./forgot.component.css']\n})\nexport class ForgotComponent implements OnInit {\n\n  constructor(public authService: AuthService) {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \".card-header{\\n    border-radius: 5px;\\n    background: rgba(44,179,160,0.5);\\n    padding: 7px 7px;\\n}\\n\\nlabel,\\n:host ::ng-deep .mat-checkbox-layout {\\n  color: #333333;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaGRwaG90b3Mtc2VydmljZS9oZHBob3Rvcy1zZXJ2aWNlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7SUFDbEIsZ0NBQWdDO0lBQ2hDLGdCQUFnQjtBQUNwQjs7QUFFQTs7RUFFRSxjQUFjO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvaGRwaG90b3Mtc2VydmljZS9oZHBob3Rvcy1zZXJ2aWNlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZC1oZWFkZXJ7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIGJhY2tncm91bmQ6IHJnYmEoNDQsMTc5LDE2MCwwLjUpO1xuICAgIHBhZGRpbmc6IDdweCA3cHg7XG59XG5cbmxhYmVsLFxuOmhvc3QgOjpuZy1kZWVwIC5tYXQtY2hlY2tib3gtbGF5b3V0IHtcbiAgY29sb3I6ICMzMzMzMzM7XG59Il19 */\"","module.exports = \"<div class=\\\"row\\\">\\n  <div class=\\\"col-12 col-lg-4\\\">\\n    <img class=\\\"card-img-top\\\" src=\\\"../../assets/images/{{package.package_images[0]}}\\\">\\n  </div>\\n  <div class=\\\"col-12 col-lg-8\\\">\\n    <form [formGroup]=\\\"photosForm\\\">\\n      <div class=\\\"card cgrid margin\\\">\\n        <div class=\\\"card-header\\\">\\n          <a class=\\\"my-link clickable\\\" (click)=\\\"active1 = !active1\\\" [attr.aria-expanded]=\\\"active1\\\"\\n            aria-controls=\\\"collapse1\\\">\\n            <h5 class=\\\"card-title text-white text-left wsn row\\\">\\n              <span class=\\\"col\\\">\\n                <span class=\\\"fas text-left mr-2\\\" [ngClass]=\\\"{\\n              'fa-chevron-right': !active1,\\n              'fa-chevron-down': active1\\n            }\\\">\\n                </span> Produktdetails anzeigen\\n              </span>\\n            </h5>\\n          </a>\\n        </div>\\n        <div [collapse]=\\\"!active1\\\">\\n          <div class=\\\"card-body\\\">\\n            <ul class=\\\"list-unstyled font-500\\\">\\n              <li>✓ Anfahrt bis 150 Kilometer</li>\\n              <li>✓ Auflösung min. 4 Megapixel</li>\\n              <li>✓ 2 Fotoformate 16:9 und 4:3</li>\\n              <li>✓ Professionelle Nachbearbeitung</li>\\n            </ul>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-12 col-md-8 col-lg-9 pl-4\\\">\\n          <h4 class=\\\"mb-0\\\"><b>7 professionelle Fotos</b></h4>\\n          <span>aus verschiedenen Perspektiven</span>\\n        </div>\\n        <div class=\\\"col-12 col-md-4 col-lg-3 text-md-right pl-4\\\">\\n          <strong>{{package.pack_price + \\\" €\\\"}}</strong>\\n        </div>\\n      </div>\\n      <hr>\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-4 col-md-2\\\">\\n          <input type=\\\"number\\\" id=\\\"additionalFloor\\\" matTooltip=\\\"{{errorMsg}}\\\" [matTooltipClass]=\\\"{'error-tooltip':true}\\\"\\n            formControlName=\\\"additionalPhotos\\\" class=\\\"form-control numberText text-center\\\" min=\\\"0\\\"\\n            (change)=\\\"calculateSum()\\\" value=\\\"0\\\">\\n        </div>\\n        <div class=\\\"col-4 col-md-2\\\">\\n          <div class=\\\"font-200 text-center\\\">\\n            {{package.price}} € <br> je Foto\\n          </div>\\n        </div>\\n        <div class=\\\"col-4 d-block d-md-none text-right\\\">\\n          <p class=\\\"font-300\\\">\\n            {{num_photos_price}} €\\n          </p>\\n        </div>\\n        <div class=\\\"col-12 col-md-6 pt-3 pt-md-0\\\">\\n          <div class=\\\"font-300\\\">\\n            <strong>5 zusätzliche Fotos</strong>\\n          </div>\\n          <div class=\\\"font-200 text-justify\\\">\\n            Handelt es sich um eine sehr große Immobilie und Sie wünschen weitere Fotoaufnahmen, können Sie an dieser\\n            Stelle noch weitere Aufnahmen der Bestellung hinzufügen.\\n          </div>\\n        </div>\\n        <div class=\\\"col-2 d-none d-md-block text-right\\\">\\n          <p class=\\\"font-300\\\">\\n            {{num_photos_price}} €\\n          </p>\\n        </div>\\n      </div>\\n      <div class=\\\"row mt-4\\\">\\n        <div class=\\\"col-4 col-md-2\\\">\\n          <div class=\\\"checkbox_align text-center\\\">\\n            <mat-checkbox #postprocessingCheck formControlName=\\\"postProcessing\\\" color=\\\"primary\\\"\\n              id=\\\"postprocessing-check\\\" (change)=\\\"onPostProcessingChange($event)\\\">\\n            </mat-checkbox>\\n            <div class=\\\"font-200\\\">hinzufügen</div>\\n          </div>\\n        </div>\\n        <div class=\\\"col-4 col-md-2\\\">\\n        </div>\\n        <div class=\\\"col-4 d-block d-md-none text-right text-primary\\\">\\n          <span>gratis</span>\\n        </div>\\n        <div class=\\\"col-10 col-md-6 pt-3 pt-md-0\\\">\\n          <div class=\\\"font-300\\\">\\n            <strong>Nachbearbeitung</strong>\\n          </div>\\n          <div class=\\\"font-200\\\">\\n            Farbkorrekturen, Licht-und Winkelanpassungen\\n          </div>\\n        </div>\\n        <div class=\\\"col-2 d-none d-md-block text-right text-primary\\\">\\n          <span>gratis</span>\\n        </div>\\n      </div>\\n      <hr>\\n      <div class=\\\"card cgrid margin\\\">\\n        <div class=\\\"card-header\\\">\\n          <a class=\\\"my-link clickable\\\" (click)=\\\"active2 = !active2\\\" [attr.aria-expanded]=\\\"active2\\\"\\n            aria-controls=\\\"collapse2\\\">\\n            <h5 class=\\\"card-title text-white text-left wsn row\\\">\\n              <span class=\\\"col\\\">\\n                <span class=\\\"fas text-left mr-2\\\" [ngClass]=\\\"{\\n                'fa-chevron-right': !active2,\\n                'fa-chevron-down': active2\\n              }\\\">\\n                </span> Produktdetails anzeigen\\n              </span>\\n            </h5>\\n          </a>\\n        </div>\\n        <div [collapse]=\\\"!active2\\\">\\n          <div class=\\\"card-body\\\">\\n            <div class=\\\"row\\\">\\n              <div class=\\\"col-12 col-md-3\\\">\\n                <mat-checkbox #logocheck formControlName=\\\"logo\\\" class=\\\"example-margin\\\" color=\\\"primary\\\"\\n                  (change)=\\\"onLogoCheck()\\\">Logo\\n                </mat-checkbox>\\n                <br />\\n                <mat-checkbox #blurcheck formControlName=\\\"blurred\\\" class=\\\"example-margin\\\" color=\\\"primary\\\">Blurren\\n                </mat-checkbox>\\n                <br />\\n              </div>\\n              <div class=\\\"col-12 col-md-9\\\" [hidden]=\\\"!postProcessing.value\\\">\\n                <ng-container class=\\\"mt-2\\\">\\n                  <h5 class=\\\"mb-2 font-weight-light\\\">Bitte laden Sie Ihr Logo im PNG-Format hoch</h5>\\n                  <div class=\\\"mb-4 form-group row uploadArea\\\">\\n                    <div class=\\\"col-12 col-sm-3 buttonUpload\\\">\\n                      <label class=\\\"fileContainer btn btn-dark btn-sm text-white\\\">\\n                        Datei hochladen\\n                        <input type=\\\"file\\\" [writeFile]=\\\"true\\\" formControlName=\\\"logoImage\\\" #logoImg (change)=\\\"onChange()\\\"\\n                          accept=\\\".png\\\" ng2FileSelect [uploader]=\\\"logoUploader\\\" />\\n                      </label>\\n                    </div>\\n                    <div *ngIf=\\\"logoUploader.queue.length > 0\\\" class=\\\"col-12 col-sm-9 mt-2\\\">\\n                      <div class=\\\"file-entry row\\\" *ngFor=\\\"let file of logoUploader.queue\\\">\\n                        <div class=\\\"col-8 file-name\\\">\\n                          {{ file?.file?.name }}\\n                        </div>\\n                        <div class=\\\"col-4 text-right\\\">\\n                          <span class=\\\"fas fa-trash-alt text-danger file-remove\\\" (click)=\\\"onRemoveFile(file)\\\"></span>\\n                        </div>\\n                      </div>\\n                    </div>\\n                    <div *ngIf=\\\"logoImage.invalid && (logoImage.dirty || logoImage.touched)\\\"\\n                      class=\\\"alert alert-danger col-12\\\">\\n                      <div *ngIf=\\\"logoImage.errors.required\\\">\\n                        Bitte laden Sie das Logo in einem unterstützten Format hoch!\\n                      </div>\\n                      <div *ngIf=\\\"logoImage.errors.forbiddenFile\\\">\\n                        Bitte laden Sie ein gültiges Format hoch (PNG)\\n                      </div>\\n                      <div *ngIf=\\\"!logoImage.errors.required && logoImage.errors.fileRequired\\\">\\n                        Bitte laden Sie das Logo in einem unterstützten Format hoch!\\n                      </div>\\n                    </div>\\n                  </div>\\n                </ng-container>\\n              </div>\\n              <div class=\\\"col-12 mt-4 mb-4\\\">\\n                <div class=\\\"form-group col-12\\\">\\n                  <textarea class=\\\"form-control\\\" formControlName=\\\"postprocessingComments\\\"\\n                    placeholder=\\\"Kommentare/Anmerkungen für Nachbearbeitung\\\" #postprocessingComments></textarea>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"row mt-4\\\">\\n        <div class=\\\"form-group col-12\\\">\\n          <textarea class=\\\"form-control\\\" formControlName=\\\"photographerComments\\\"\\n            placeholder=\\\"Kommentare/Anmerkungen für Fotografen\\\" #photographerComments></textarea>\\n        </div>\\n      </div>\\n      <hr class=\\\"hr_floorplan\\\">\\n      <div class=\\\"row mb-4\\\">\\n        <div class=\\\"col-8\\\">\\n          <h4>Summe</h4>\\n        </div>\\n        <div class=\\\"col-4 font-sz-20 text-right\\\">\\n          {{total_price}} €\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n</div>\"","import { Component, OnInit, Input, Output, EventEmitter, ViewChild, ElementRef, AfterViewInit, AfterContentInit, DoCheck } from '@angular/core';\nimport { Package } from '@app/models/package';\nimport * as accounting from 'accounting';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { FileUploader } from 'ng2-file-upload';\nimport * as _ from 'underscore';\nimport { forbiddenFileValidator, fileRequiredValidator } from '@app/modals/package-editor/package-editor.component';\n\n@Component({\n  selector: 'app-hdphotos-service',\n  templateUrl: './hdphotos-service.component.html',\n  styleUrls: ['./hdphotos-service.component.css']\n})\nexport class HdphotosServiceComponent implements OnInit, AfterViewInit, AfterContentInit, DoCheck {\n\n  @Input(\"imoPackage\") package: Package;\n  @Output() onFormChange = new EventEmitter();\n  num_photos_price: any;\n  errorMsg: string = '';\n  additional_photos: number = 1;\n  photosForm: any;\n  sum: any;\n  total_price: any;\n  active2: boolean = false;\n  active1: boolean = false;\n  public logoUploader: FileUploader = new FileUploader({});\n  @ViewChild(\"logoImg\") logoImg: ElementRef<any>;\n  logoImgElem: ElementRef;\n  oldValidate: boolean;\n  isPostProcessing: boolean = false;\n\n  constructor(\n    private formBuilder: FormBuilder\n  ) { \n    this.photosForm = this.formBuilder.group({\n      'additionalPhotos': [0],\n      'postProcessing': [false],\n      'blurred': [{\n        value: false,\n        disabled: true\n      }],\n      'logo': [{\n        value: false,\n        disabled: true\n      }],\n      'photographerComments': [''],\n      'postprocessingComments': [{\n        value: '',\n        disabled: true\n      }],\n      'logoImage': ['']\n    });\n  }\n\n  get additionalPhotos(){\n    return this.photosForm.get('additionalPhotos');\n  }\n\n  get postProcessing(){\n    return this.photosForm.get('postProcessing');\n  }\n\n  get blurred(){\n    return this.photosForm.get('blurred');\n  }\n\n  get photographerComments(){\n    return this.photosForm.get('photographerComments');\n  }\n\n  get postprocessingComments(){\n    return this.photosForm.get('postprocessingComments');\n  }\n\n  get logoImage(){\n    return this.photosForm.get('logoImage');\n  }\n\n  get logo(){\n    return this.photosForm.get('logo');\n  }\n\n  ngOnInit() {\n    this.package['photo_price'] = accounting.unformat(this.package['price'], ',');\n    this.num_photos_price = this.additional_photos * this.package['photo_price'];\n    this.package.form = this.photosForm;\n    this.package[\"validate\"] = true;\n    this.oldValidate = this.package[\"validate\"];\n    this.sum = this.package['pack_price'];\n    this.package['total_price'] = accounting.formatMoney(this.sum, '', 2, '.', ',');\n    this.total_price = this.package['total_price'];\n  }\n\n  ngAfterViewInit(){\n    let self = this;\n    this.logoImgElem = this.logoImg.nativeElement;\n    this.photosForm = this.formBuilder.group({\n      'additionalPhotos': [0],\n      'postProcessing': [false],\n      'blurred': [false],\n      'logo': [false],\n      'photographerComments': [''],\n      'postprocessingComments': [{\n        value: '',\n        disabled: !this.isPostProcessing\n      }],\n      'logoImage': ['', [\n        forbiddenFileValidator([\"png\"], this.logoImgElem)\n      ]]\n    });\n    self.photosForm.valueChanges.subscribe(() => {\n      self.emitFormValues();\n    });\n  }\n\n  ngAfterContentInit(): void {\n    this.calculateSum();\n  }\n\n  ngDoCheck(): void {\n    if (this.package[\"validate\"] != this.oldValidate) {\n      Object.keys(this.photosForm.controls).forEach(control => {\n        this.photosForm.controls[control].markAsTouched();\n      });\n    }\n  }\n\n  calculateSum(): void {\n    if(this.additionalPhotos.value < 0){\n      this.additionalPhotos.setValue(0);\n      return;\n    }\n    this.num_photos_price = accounting.formatMoney(this.additionalPhotos.value * this.package['photo_price'], '', 2, '.', ',');\n    this.sum = (this.additionalPhotos.value * this.package['photo_price']) + accounting.unformat(this.package['pack_price'], ',');\n    this.package['total_price'] = accounting.formatMoney(this.sum, '', 2, '.', ',');\n    this.total_price = this.package['total_price'];\n  }\n\n  onLogoCheck(): void {\n    if (this.photosForm.controls.logo.value) {\n      this.logoImage.setValidators([Validators.required, forbiddenFileValidator([\"png\"], this.logoImgElem), fileRequiredValidator(this.logoUploader.queue)]);\n    } else {\n      this.logoImage.setValidators([forbiddenFileValidator([\"png\"], this.logoImgElem)]);\n    }\n    this.logoImage.updateValueAndValidity();\n    this.package.form = this.photosForm;\n  }\n\n  onChange(): void {\n    this.package.form = this.photosForm;\n    if (this.logoUploader.queue.length > 1) {\n      this.logoUploader.queue[0].remove();\n    }\n    if (this.logoUploader.queue.length > 0 && _.isEmpty(this.photosForm.get('logoImage').value)) {\n      this.photosForm.controls['logoImage'].setValue(this.logoUploader.queue[0].file.name);\n    }\n    this.logoImage.updateValueAndValidity();\n  }\n\n  onRemoveFile(file): void {\n    file.remove();\n    this.logoImage.setValue(\"\");\n    this.logoImage.updateValueAndValidity();\n  }\n\n  emitFormValues(): void {\n    var self = this;\n    let formValues = {};\n    let fileList = [];\n    Object.keys(self.photosForm.controls).forEach(control => {\n      if (control !== 'planImages' && control !== 'logoImage') {\n        formValues[control] = self.photosForm.get(control).value;\n      }else {\n        fileList = [];\n        self.logoUploader.queue.forEach(entry => fileList.push(entry.file.rawFile));\n        formValues[control] = fileList;\n      }\n    });\n    formValues[\"orderType\"] = this.package.service_key;\n    formValues['packageNum'] = this.package['package_key'];\n    self.onFormChange.emit(formValues);\n  }\n\n  onPostProcessingChange(event): void{\n    if(!event.checked){\n      this.logo.reset(false);\n      this.logo.disable()\n      this.blurred.reset(false);\n      this.blurred.disable();\n      this.logoImage.reset();\n      this.logoImage.disable();\n      this.logoUploader.clearQueue();\n      this.postprocessingComments.reset();\n      this.postprocessingComments.disable();\n    }else{\n      this.logo.enable();\n      this.blurred.enable();\n      this.logoImage.enable();\n      this.postprocessingComments.enable();\n      this.active2 = true;\n    }\n    this.emitFormValues();\n  }\n}\n","module.exports = \".suborder-details .row:nth-child(odd){\\n    background-color: #f6fafd;\\n}\\n.logo-img{\\n    width: 50%;\\n}\\n.comments-section{\\n    border: 1px solid;\\n    padding-top: 10px;\\n    padding-bottom: 10px;\\n    border-radius: 5px;\\n}\\n.file-thumbnail,\\n.download-layer{\\n    height: 110px;\\n    width: 110px;\\n}\\n.download-layer{\\n    z-index: 10;\\n    opacity: 0;\\n    position: absolute;\\n    background: rgba(0, 0, 0, 0.5);\\n    color: #FFF;\\n    font-size: 0.8rem;\\n    top: 0;\\n    padding-left: 5px;\\n}\\n.download-layer:hover{\\n    opacity: 1;\\n}\\n.file-download{\\n    position: absolute;\\n    bottom: 5px;\\n    left: 20px;\\n    color: #FFF;\\n}\\n.attachment{\\n    margin-right: 15px;\\n    position: relative;\\n    border: 1px solid;\\n    border-radius: 10%;\\n    overflow: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaGRwaG90b3Mtc3Vib3JkZXItb3ZlcnZpZXcvaGRwaG90b3Mtc3Vib3JkZXItb3ZlcnZpZXcuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHlCQUF5QjtBQUM3QjtBQUNBO0lBQ0ksVUFBVTtBQUNkO0FBQ0E7SUFDSSxpQkFBaUI7SUFDakIsaUJBQWlCO0lBQ2pCLG9CQUFvQjtJQUNwQixrQkFBa0I7QUFDdEI7QUFDQTs7SUFFSSxhQUFhO0lBQ2IsWUFBWTtBQUNoQjtBQUNBO0lBQ0ksV0FBVztJQUNYLFVBQVU7SUFDVixrQkFBa0I7SUFDbEIsOEJBQThCO0lBQzlCLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsTUFBTTtJQUNOLGlCQUFpQjtBQUNyQjtBQUNBO0lBQ0ksVUFBVTtBQUNkO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsV0FBVztJQUNYLFVBQVU7SUFDVixXQUFXO0FBQ2Y7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixnQkFBZ0I7QUFDcEIiLCJmaWxlIjoic3JjL2FwcC9oZHBob3Rvcy1zdWJvcmRlci1vdmVydmlldy9oZHBob3Rvcy1zdWJvcmRlci1vdmVydmlldy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnN1Ym9yZGVyLWRldGFpbHMgLnJvdzpudGgtY2hpbGQob2RkKXtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZmYWZkO1xufVxuLmxvZ28taW1ne1xuICAgIHdpZHRoOiA1MCU7XG59XG4uY29tbWVudHMtc2VjdGlvbntcbiAgICBib3JkZXI6IDFweCBzb2xpZDtcbiAgICBwYWRkaW5nLXRvcDogMTBweDtcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG4uZmlsZS10aHVtYm5haWwsXG4uZG93bmxvYWQtbGF5ZXJ7XG4gICAgaGVpZ2h0OiAxMTBweDtcbiAgICB3aWR0aDogMTEwcHg7XG59XG4uZG93bmxvYWQtbGF5ZXJ7XG4gICAgei1pbmRleDogMTA7XG4gICAgb3BhY2l0eTogMDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICAgIGNvbG9yOiAjRkZGO1xuICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuICAgIHRvcDogMDtcbiAgICBwYWRkaW5nLWxlZnQ6IDVweDtcbn1cbi5kb3dubG9hZC1sYXllcjpob3ZlcntcbiAgICBvcGFjaXR5OiAxO1xufVxuLmZpbGUtZG93bmxvYWR7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJvdHRvbTogNXB4O1xuICAgIGxlZnQ6IDIwcHg7XG4gICAgY29sb3I6ICNGRkY7XG59XG4uYXR0YWNobWVudHtcbiAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkO1xuICAgIGJvcmRlci1yYWRpdXM6IDEwJTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xufSJdfQ== */\"","module.exports = \"<div class=\\\"row mt-4\\\">\\n  <div class=\\\"col-12 col-md-4 col-lg-2\\\">\\n    <img class=\\\"card-img-top\\\" src=\\\"../../assets/images/hd_fotos/hd_photos_inside.jpg\\\">\\n  </div>\\n  <div class=\\\"col-12 col-md-8 col-lg-10\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-12 col-md-6 suborder-details pt-3\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-6 text-right\\\">\\n            <strong>5 zusätzliche Fotos:</strong>\\n          </div>\\n          <div class=\\\"col-6\\\">\\n            <span>{{subOrderDetails.additionalPhotos}}</span>\\n          </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-6 text-right\\\">\\n            <strong>Nachbearbeitung:</strong>\\n          </div>\\n          <div class=\\\"col-6\\\">\\n            <i class=\\\"fas\\\" [ngClass]=\\\"{\\n                'fa-check text-success': subOrderDetails.postProcessing,\\n                'fa-times text-danger': !subOrderDetails.postProcessing\\n              }\\\"></i>\\n          </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-6 text-right\\\">\\n            <strong>Blurren:</strong>\\n          </div>\\n          <div class=\\\"col-6\\\">\\n            <i class=\\\"fas\\\" [ngClass]=\\\"{\\n                'fa-check text-success': subOrderDetails.blurred,\\n                'fa-times text-danger': !subOrderDetails.blurred\\n              }\\\"></i>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"col-12 col-md-6 pt-3\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-6 text-right\\\">\\n            <strong>Logo:</strong>\\n          </div>\\n          <div class=\\\"col-6\\\">\\n            <img src=\\\"{{subOrderDetails.logoImage.url}}\\\" class=\\\"logo-img\\\" alt=\\\"logo\\\" *ngIf=\\\"subOrderDetails.logo\\\">\\n            <i class=\\\"fas fa-times text-danger\\\" *ngIf=\\\"!subOrderDetails.logo\\\"></i>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"row mt-4 align-items-center\\\">\\n      <div class=\\\"col-12 col-md-4 text-md-right\\\">\\n        <strong>Kommentare/Anmerkungen für Fotografen: </strong>\\n      </div>\\n      <div class=\\\"col-12 col-md-8 comments-section\\\">\\n        {{subOrderDetails.photographerComments || 'N/A'}}\\n      </div>\\n    </div>\\n    <div class=\\\"row mt-4 align-items-center\\\">\\n      <div class=\\\"col-12 col-md-4 text-md-right\\\">\\n        <strong>Kommentare/Anmerkungen für Nachbearbeitung: </strong>\\n      </div>\\n      <div class=\\\"col-12 col-md-8 comments-section\\\">\\n        {{subOrderDetails.postprocessingComments || 'N/A'}}\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<div class=\\\"mt-5 mb-5\\\">\\n  <app-file-upload *ngIf=\\\"(auth.myUserObservable.role == 'Dienstleister' || auth.myUserObservable.role == 'Administrator') && \\n      orderService.currentSuborder.status === 'processing' || orderService.currentSuborder.status === 'uploaded' ||\\n      orderService.currentSuborder.status === 'completed'\\\" [parentId]=\\\"orderService.currentSuborder.id\\\"\\n    [allowedFileExt]=\\\"allowedFileExt\\\" (setSubmitDisabled)=\\\"setSubmitDisabledHanlder($event)\\\"\\n    [subFolderName]=\\\"'hdphotos/'\\\" [parentType]=\\\"'suborders'\\\" [subCollectionName]=\\\"'hdphotos'\\\" [parent]=\\\"this\\\">\\n  </app-file-upload>\\n</div>\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { OrdersService } from '@app/_services/orders.service';\nimport { AuthService } from '@app/auth/auth.service';\n\n@Component({\n  selector: 'app-hdphotos-suborder-overview',\n  templateUrl: './hdphotos-suborder-overview.component.html',\n  styleUrls: ['./hdphotos-suborder-overview.component.css']\n})\nexport class HdphotosSuborderOverviewComponent implements OnInit {\n\n  subOrderDetails: any;\n  allowedFileExt: string[] = ['jpeg', 'png', 'jpg', 'JPG'];\n  @Output() setSubmitDisabled = new EventEmitter<boolean>();\n\n  constructor(\n    private orderService: OrdersService,\n    public auth: AuthService\n  ) { \n    this.subOrderDetails = this.orderService.currentSuborder;\n  }\n\n  ngOnInit() {\n  }\n\n  setSubmitDisabledHanlder(value: boolean) {\n    this.setSubmitDisabled.emit(value);\n  }\n\n  /**\n   * controls disabling of attachment deletion\n   */\n  deleteAttachmentDisabled() {\n    if (\n      this.orderService.currentSuborder.status === 'uploaded' ||\n      this.orderService.currentSuborder.status === 'completed') {\n      return true;\n    }\n    return false;\n  }\n\n    /**\n   * controls disabling of attachment upload\n   */\n  isUploadDisabled() {\n    if (this.orderService.currentSuborder.status === 'uploaded' ||\n    this.orderService.currentSuborder.status === 'completed') {\n      return true;\n    }\n    return false;\n  }\n}\n","module.exports = \"<!-- Only showing content after new-user registration if user verified his e-mail. While he hasn't verified it, there will be a blank page with a loading spinner behind the verification modal. -->\\r\\n<ng-container *ngIf=\\\"(!auth.registering && auth.emailVerified)\\\">\\r\\n  <!-- Page-Content -->\\r\\n  <div class=\\\"row\\\">\\r\\n\\r\\n    <!-- Column for the greetings and role specific information -->\\r\\n    <div class=\\\"col\\\">\\r\\n      <div class=\\\"shadow card fluid cgrid\\\">\\r\\n        <div class=\\\"card-body\\\">\\r\\n          <ng-container *ngIf=\\\"auth.myUserObservable as user\\\">\\r\\n            <ng-container *ngIf=\\\"user.profileCompleted === true || user.role === 'Kunde'; else profiledata\\\">\\r\\n\\r\\n              <!-- Customer greeting -->\\r\\n              <ng-container *ngIf=\\\"user.role === 'Kunde'\\\">\\r\\n                <h3 *ngIf=\\\"user.lastName !== undefined\\\" class=\\\"card-title b\\\">Herzlich willkommen {{user.anrede}}\\r\\n                  {{user.lastName}}!</h3>\\r\\n                <p class=\\\"card-text\\\">Vielen Dank, dass Sie die IMOGENT-Plattform nutzen, um Ihre Immobilien besser zu\\r\\n                  präsentieren.</p>\\r\\n                <p class=\\\"card-text\\\">Um einen Service buchen zu können, müssen Sie als erstes unter dem Menüpunkt\\r\\n                  \\\"Immobilien\\\" eine Immobilie anlegen.</p>\\r\\n                <p *ngIf=\\\"user.profileCompleted\\\" class=\\\"card-text\\\"\\r\\n                  style=\\\"color: #2cb3a0; padding-top: 0.5em; margin-bottom: 0em;\\\">Viel Spaß!</p>\\r\\n              </ng-container>\\r\\n\\r\\n              <!-- Pilot greeting -->\\r\\n              <ng-container *ngIf=\\\"user.role === 'Dienstleister'\\\">\\r\\n                <h3 *ngIf=\\\"user.lastName !== undefined\\\" class=\\\"card-title b\\\">Herzlich willkommen {{user.anrede}}\\r\\n                  {{user.lastName}}!</h3>\\r\\n                <p class=\\\"card-text\\\">Um als Dienstleister auf der Plattform loszulegen, müssen Sie sich als erstes einen\\r\\n                  Auftrag aus der globalen Auftragsdatenbank zuweisen.</p>\\r\\n                <p class=\\\"card-text\\\">Diese finden Sie unter dem Menüpunkt \\\"Aufträge\\\".</p>\\r\\n                <div *ngIf=\\\"user.dronepilot === true\\\">\\r\\n                  <p *ngIf=\\\"user.verificationNeeded === false && user.pilotVerified === false\\\" class=\\\"card-text\\\"\\r\\n                    style=\\\"color: #dc3545;\\\">Sie haben noch nicht alle erforderliche Dokumente\\r\\n                    hochgeladen. Dies können Sie unter dem Menüpunkt \\\"Profil\\\" erledigen. Erst dann können Sie sich\\r\\n                    Aufträge zuweisen und bearbeiten.</p>\\r\\n                  <p *ngIf=\\\"user.verificationNeeded === true && user.pilotVerified === false\\\" class=\\\"card-text\\\"\\r\\n                    style=\\\"color: orange;\\\">Wir überprüfen aktuell Ihre hochgeladenen Dokumente. In\\r\\n                    kurzer Zeit können Sie die Plattform uneingeschränkt nutzen.</p>\\r\\n                  <p *ngIf=\\\"user.verificationFailed === true\\\" class=\\\"card-text font-weight-bold\\\"\\r\\n                    style=\\\"color: #dc3545;\\\">Die Verifikation Ihrer Dokumente war\\r\\n                    nicht erfolgreich. Bitte laden Sie gültige Dokumente hoch in den wieder offenen Upload-Feldern.</p>\\r\\n                  <p *ngIf=\\\"user.pilotVerified === true\\\" class=\\\"card-text\\\"\\r\\n                    style=\\\"color: #2cb3a0; padding-top: 0.5em; margin-bottom: 0em;\\\">Viel Spaß!</p>\\r\\n                </div>\\r\\n              </ng-container>\\r\\n\\r\\n              <!-- Admin greeting -->\\r\\n              <ng-container *ngIf=\\\"user.role === 'Administrator'\\\">\\r\\n                <h3 class=\\\"card-title b\\\">Hallo {{user.firstName}}!</h3>\\r\\n                <p class=\\\"card-text\\\" style=\\\"color: #dc3545;\\\">Du hast Administratoren-Berechtigungen!</p>\\r\\n                <p class=\\\"card-text\\\" style=\\\"color: #dc3545;\\\">Du kannst unter \\\"Aufträge\\\" alle jemals erstellen Aufträge\\r\\n                  einsehen. Von Kunden neu erstellte Aufträge müssen von dir erst geprüft werden, bezüglich eventueller\\r\\n                  Flugverbote. Wenn du in einem Auftrag auf geprüft klickst, wird dieser in der Liste offener Aufträge\\r\\n                  den Drohnenpiloten angezeigt und Sie können sich diesen zuweisen.</p>\\r\\n                <p class=\\\"card-text\\\" style=\\\"color: #dc3545;\\\">Außerdem hast du einen weiteren Menüpunkt:\\r\\n                  \\\"User-Management\\\". Hier kannst du alle registrierten User einsehen. Drohnenpiloten deren Dokumente\\r\\n                  noch nicht überprüft wurden werden in dieser Ansicht mit einem Tag markiert. Du hast die Aufgabe diese\\r\\n                  Dokumente zu überprüfen und dann den Status des Piloten auf verifziert zu setzen. Vorher werden dem\\r\\n                  Drohnenpiloten keine Aufträge angezeigt!</p>\\r\\n              </ng-container>\\r\\n\\r\\n            </ng-container>\\r\\n\\r\\n            <!-- Card which is shown to all users except customers, if they have not yet completed their profile on the profile page. -->\\r\\n            <ng-template #profiledata>\\r\\n              <h3 class=\\\"card-title b\\\">Hallo {{user.anrede}} {{user.lastName}}!</h3>\\r\\n              <p class=\\\"card-text\\\" style=\\\"color: #dc3545;\\\">Sie haben Ihre persönlichen Daten noch nicht eingepflegt. Um\\r\\n                die Plattform vollumfänglich nutzen zu können, pflegen Sie bitte Ihre persönlichen Daten unter dem\\r\\n                Menüpunkt \\\"Profil\\\" ein.</p>\\r\\n            </ng-template>\\r\\n\\r\\n          </ng-container>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Card to show some other information, currently shown to everybody. -->\\r\\n      <div class=\\\"shadow card fluid cgrid\\\">\\r\\n        <div class=\\\"card-header\\\">\\r\\n          <h4 class=\\\"card-title m\\\">Allgemeine Information</h4>\\r\\n        </div>\\r\\n        <div class=\\\"card-body\\\">\\r\\n          <p class=\\\"card-text\\\">Wir freuen uns, dass Sie an unserem Projekt teilnehmen möchten. Vorab soll schon einmal\\r\\n            gesagt sein, dass sich diese Plattform noch im Aufbau befindet, also durchaus noch Fehler auftreten können.\\r\\n          </p>\\r\\n          <p class=\\\"card-text\\\">Daher betonen wir von Beginn an: Wenn Sie Verbesserungsvorschläge für oder Fragen an uns\\r\\n            haben, kommen jederzeit gerne auf uns zu. Gemeinsam können wir die Plattform perfektionieren!</p>\\r\\n        </div>\\r\\n        <!-- Use this to create a new service (order.service.ts -> addServices()) -->\\r\\n        <!-- <button class=\\\"btn btn-primary\\\" (click)=\\\"os.addServices()\\\">neuen Service anlegen</button> -->\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <!-- Column for general information which is not user/role specific -->\\r\\n    <div class=\\\"col-sm-4 d-none d-lg-block\\\">\\r\\n\\r\\n      <!-- Featured quote -->\\r\\n      <div class=\\\"shadow card fluid cgrid\\\">\\r\\n        <div class=\\\"card-header\\\">\\r\\n          <i class=\\\"fas fa-quote-left\\\"></i>\\r\\n        </div>\\r\\n        <div class=\\\"card-body\\\">\\r\\n          <blockquote class=\\\"blockquote mb-0\\\">\\r\\n            <p>Modernste Digitaltechnik macht's möglich. Die „virtuelle“ Immobilien-Besichtigung spart jede Menge Zeit\\r\\n              und bringt Spaß.</p>\\r\\n            <footer class=\\\"blockquote-footer\\\">Robin Kroll, Gründer von IMOGENT</footer>\\r\\n          </blockquote>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Featured blog-entry from www.imogent.de/blog -->\\r\\n      <div class=\\\"shadow card fluid cgrid\\\">\\r\\n        <div class=\\\"card-header\\\">\\r\\n          <h4 class=\\\"card-title m\\\">Blogeintrag zur Plattform</h4>\\r\\n        </div>\\r\\n        <div class=\\\"card-body\\\">\\r\\n          <p class=\\\"card-text nomarbot\\\">Eine digitale rundum Lösung für das Immobilienmarketing: innovativ,\\r\\n            zentralisiert, automatisiert – das schafft IMOGENT mit seiner Plattform zur ... <span><a\\r\\n                href=\\\"https://www.imogent.de/blogbeitrag/wie-sie-ihre-immobilienvermarktung-effizienter-gestalten/\\\"\\r\\n                class=\\\"my-link\\\">weiterlesen</a></span></p>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"shadow card fluid cgrid\\\">\\r\\n        <div class=\\\"card-body\\\">\\r\\n          <h5 class=\\\"card-title text-left wsn\\\">Zum Showcase</h5>\\r\\n          <p class=\\\"card-text text-left\\\">Lassen Sie sich von unseren virtuellen Rundgängen und\\r\\n            Drohnenaufnahmen von verschiedenen Immobilien, öffentlichen Gebäuden und Working\\r\\n            Spaces begeistern und überzeugen Sie Ihre Kunden!\\r\\n          </p>\\r\\n          <a href=\\\"https://www.imogent.de/show-case/\\\" class=\\\"btn btn-primary\\\">Jetzt\\r\\n            ansehen</a>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <ng-template #loading>\\r\\n    <!-- CSS Loading Spinner -->\\r\\n    <div class=\\\"lds-ring ring-default centered\\\">\\r\\n      <div></div>\\r\\n      <div></div>\\r\\n      <div></div>\\r\\n      <div></div>\\r\\n    </div>\\r\\n  </ng-template>\\r\\n\\r\\n</ng-container>\\r\\n\\r\\n<!-- <ng-template #loading>\\r\\n  <div class=\\\"lds-ring ring-default centered\\\">\\r\\n    <div></div>\\r\\n    <div></div>\\r\\n    <div></div>\\r\\n    <div></div>\\r\\n  </div>\\r\\n</ng-template> -->\"","import { Component, OnInit } from '@angular/core';\nimport { LoaderService } from '@app/_services/loader.service';\nimport { AuthService } from '@app/auth/auth.service';\nimport { NgxSmartModalService } from 'ngx-smart-modal';\nimport { RealestateService } from '@app/_services/realestate.service';\nimport { UsersService } from '@app/_services/users.service';\nimport { Router } from '@angular/router';\nimport { OrdersService } from '@app/_services/orders.service';\n\n@Component({ templateUrl: 'home.component.html' })\nexport class HomeComponent implements OnInit {\n\n  public emailResent = false;\n\n  constructor(public auth: AuthService,\n    private loader: LoaderService,\n    public ngxSmartModalService: NgxSmartModalService,\n    public res: RealestateService,\n    public us: UsersService,\n    public router: Router,\n    public os: OrdersService) {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","﻿export * from './home.component';","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2luYm94L2luYm94LmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-1 border-bottom bbcg\\\">\\n  <h2>Benachrichtigungen</h2>\\n  <div class=\\\"btn-group float-right\\\">\\n    <!-- <button class=\\\"btn btn-sm btn-outline-secondary\\\">Änderungen speichern</button> -->\\n  </div>\\n</div>\\n<div class=\\\"shadow card cgrid\\\">\\n  <div class=\\\"card-header\\\">\\n    <a class=\\\"my-link\\\" (click)=\\\"active = !active\\\" [attr.aria-expanded]=\\\"true\\\" aria-controls=\\\"collapse1\\\">\\n      <h5 class=\\\"card-title text-left wsn\\\">Information</h5>\\n    </a>\\n  </div>\\n  <div id=\\\"collapse1\\\" [collapse]=\\\"!active\\\">\\n    <div class=\\\"card-body\\\">\\n      <p class=\\\"card-text\\\">Hier können Sie alle für Sie relevanten Benachrichtigungen einsehen.</p>\\n      <p class=\\\"card-text mb-0\\\">Dieses Feature befindet sich noch in der Entwicklung. Vielen Dank für Ihr Verständnis.\\n      </p>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-inbox',\n  templateUrl: './inbox.component.html',\n  styleUrls: ['./inbox.component.css']\n})\nexport class InboxComponent implements OnInit {\n  active = true; // Initial State der einklappbaren Card\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","export * from './inbox.component';\r\n","export const LANGUAGE = {\n  'app_list_strings': {\n    'order_type_list': {\n      'dronemedia': 'Drohnenaufnahmen',\n      'retouching': 'Bildbearbeitung',\n      'floorplan': 'Grundrisse',\n      'vstaging': 'Virtual Staging',\n      'visualisation': '3D Visualisierung',\n      'hdphotos': 'HD Fotos',\n      'expose': 'Exposé'\n    }\n  },\n  'app_strings': {\n    // add standalone translations in this object e.g 'foo' : 'bar'\n  }\n};\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div id=\\\"paddingdiv\\\">\\n\\n  <!-- Aligning the contents of the page with the logo -->\\n  <div style=\\\"max-width: 300px; width: 100%; height: auto; margin: 0 auto;\\\">\\n\\n    <!-- Logo -->\\n    <img class=\\\"mb-4\\\" src=\\\"assets/images/Logo-IMOGENT-mit-Schrift-300x94.png\\\">\\n\\n    <!-- Login-Form -->\\n    <h3 class=\\\"b text-center\\\">Bitte anmelden!</h3>\\n    <form>\\n\\n      <!-- E-Mail -->\\n      <div class=\\\"form-group\\\">\\n\\n        <!-- E-Mail Input -->\\n        <label class=\\\"font-italic b sr-only\\\" for=\\\"email\\\">E-Mail</label>\\n        <input type=\\\"text\\\" class=\\\"form-control mb-2\\\" autocomplete=\\\"username\\\" placeholder=\\\"Email\\\" #userEmail autofocus>\\n\\n      </div>\\n\\n      <!-- Password -->\\n      <div class=\\\"form-group\\\">\\n\\n        <!-- Password Input -->\\n        <label class=\\\"font-italic b sr-only\\\" for=\\\"password\\\">Passwort</label>\\n        <input type=\\\"password\\\" class=\\\"form-control mb-2\\\" autocomplete=\\\"current-password\\\" placeholder=\\\"Passwort\\\" #userPassword>\\n\\n      </div>\\n\\n      <!-- Form Buttons -->\\n      <div class=\\\"form-group\\\">\\n\\n        <!-- Login -->\\n        <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"login(userEmail.value, userPassword.value);\\\">Einloggen</button>\\n        <!-- Go to register-page -->\\n        <a routerLink=\\\"/register\\\" class=\\\"btn btn-link\\\">Registrieren</a>\\n\\n      </div>\\n\\n      <!-- Link to Reset-Password Page -->\\n      <a routerLink=\\\"/forgot\\\" class=\\\"btn btn-link\\\" style=\\\"padding-left: 0em;\\\">Passwort zurücksetzen</a>\\n\\n    </form>\\n\\n    <!-- Footer -->\\n    <p class=\\\"b nomarbot\\\">&copy;2019 IMOGENT GmbH</p>\\n    <!-- Privacy Policy & Imprint -->\\n    <a href=\\\"https://www.imogent.de/datenschutz\\\" class=\\\"my-link\\\">Datenschutz</a><span> | </span><a class=\\\"my-link\\\" href=\\\"https:www.imogent.de/impressum\\\">Impressum</a>\\n\\n  </div>\\n\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { LoaderService } from '@app/_services/loader.service';\nimport { AuthService } from '@app/auth/auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  constructor(public authService: AuthService, public loader: LoaderService) {\n}\n  ngOnInit() {\n    console.log('Login-Component initialised');\n  }\n  /**\n   * Called when login button is pressed. Uses the auth service to login.\n   */\n  login(email, password) {\n    this.loader.loaded = false;\n    this.authService.login(email, password).then(result => {\n\n      /* Important, since this method loads user specific data,\n      if you switch accounts without page refreshing,\n      this method would not be called again otherwise */\n      this.loader.getDataAfterAuthenticated();\n    });\n\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ291dC9sb2dvdXQuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div id=\\\"paddingdiv\\\">\\n<div style=\\\"max-width: 300px; width: 100%; height: auto; margin: 0 auto;\\\">\\n<img class=\\\"mb-4\\\" src=\\\"assets/images/Logo-IMOGENT-mit-Schrift-300x94.png\\\">\\n  <ng-container *ngIf=\\\"authservice.sessionEnded === true; else forbidden\\\">\\n  <h4 class=\\\"mb-2\\\">Du hast dich erfolgreich ausgeloggt.</h4>\\n  <h4>Bis zum nächsten Mal!</h4>\\n  <br>\\n  </ng-container>\\n  <ng-template #forbidden>  \\n    <h4 class=\\\"b mb-2\\\">Du bist nicht eingeloggt!</h4>\\n    <h4>Bitte logge dich zuerst ein.</h4>\\n    <br>\\n  </ng-template>\\n  <a class=\\\"btn btn-link\\\" routerLink=\\\"/login\\\" style=\\\"padding-left: 0em;\\\">Einloggen</a>\\n  <p class=\\\"b nomarbot\\\">&copy;2019 IMOGENT GmbH</p>\\n  <a href=\\\"https://www.imogent.de/datenschutz\\\" class=\\\"my-link\\\">Datenschutz</a><span> | </span><a class=\\\"my-link\\\" href=\\\"https:www.imogent.de/impressum\\\">Impressum</a>\\n</div>\\n\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '@app/auth/auth.service';\n\n@Component({\n  selector: 'app-logout',\n  templateUrl: './logout.component.html',\n  styleUrls: ['./logout.component.css']\n})\nexport class LogoutComponent implements OnInit {\n\n  public sessionCompleted;\n\n  constructor(public authservice: AuthService) { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"label, :host ::ng-deep .mat-checkbox-layout {\\n  color: #000;\\n}\\n\\n.plan img {\\n    position: absolute;\\n    left: 0;\\n    width: 80%;\\n    margin-left: 3vh;\\n}\\n\\n.plan img:first-child {\\n    position: relative;\\n    padding: 0;\\n    height: 50%;\\n}\\n\\n.plan {\\n    margin-top: 30px;\\n}\\n\\n.style-card .img-thumb {\\n    height: 200px;\\n}\\n\\n:host ::ng-deep .carousel-row {\\n    padding: 0 15px 0 15px;\\n}\\n\\n:host ::ng-deep .carousel-indicators {\\n    bottom: -30px !important;\\n}\\n\\n:host ::ng-deep .carousel-indicators li {\\n    background-color: rgba(0, 0, 0, 0.5) !important;\\n    height: 6px;\\n}\\n\\n:host ::ng-deep .carousel-indicators li.active {\\n    background-color: #2cb3a0 !important;\\n}\\n\\n:host ::ng-deep .carousel-item .style-card {\\n    cursor: pointer;\\n}\\n\\n:focus {\\n    outline: none;\\n}\\n\\n:host ::ng-deep .carousel-item .style-card {\\n    border: 1px solid rgba(0, 0, 0, 0.1);\\n}\\n\\n:host ::ng-deep .carousel-item .style-card.active {\\n    border: 3px solid #2cb3a0;\\n    color: #000 !important;\\n}\\n\\n:host ::ng-deep .carousel-item .style-card .mat-card-content {\\n    text-align: center;\\n    margin-top: 10px;\\n    font-size: 12px;\\n}\\n\\n.font-300 {\\n    font-weight: 300;\\n    font-size: large;\\n}\\n\\n.font-200 {\\n    font-weight: 200;\\n    font-size: small;\\n}\\n\\n.text-primary {\\n    color: #2cb3a0 !important;\\n}\\n\\n.numberText {\\n    text-align: center;\\n}\\n\\n.font-sz-20 {\\n    font-size: 20px;\\n}\\n\\n.fileName {\\n    color: #FFF;\\n    outline: none;\\n}\\n\\n.fileContainer {\\n    overflow: hidden;\\n    position: relative;\\n}\\n\\n.fileContainer [type=file] {\\n    cursor: inherit;\\n    display: block;\\n    font-size: 999px;\\n    filter: alpha(opacity=0);\\n    min-height: 100%;\\n    min-width: 100%;\\n    opacity: 0;\\n    position: absolute;\\n    right: 0;\\n    text-align: right;\\n    top: 0;\\n}\\n\\n.file-list .file-entry {\\n    border-radius: 5%;\\n    padding: 5px 0 5px 0;\\n}\\n\\n.file-list .file-entry:nth-child(odd) {\\n    background-color: #e5f9f6;\\n}\\n\\n.file-list .file-entry .file-name {\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n\\n.file-list {\\n    height: 120px;\\n    overflow-y: auto;\\n}\\n\\n.file-list .file-entry .file-remove {\\n    cursor: pointer;\\n}\\n\\n.uploadArea {\\n    margin: 0px;\\n}\\n\\n:host ::ng-deep .carousel-control-next, :host ::ng-deep .carousel-control-prev {\\n    width: 4% !important;\\n    background-color: #2cb3a0;\\n    height: 20%;\\n    top: 37%;\\n}\\n\\n.card-package {\\n    padding: 10px;\\n}\\n\\n.margin {\\n    margin-bottom: 10px;\\n}\\n\\n.buttonUpload {\\n    padding: 0px;\\n}\\n\\n.checkbox_align {\\n    text-align: center;\\n    /* center checkbox horizontally */\\n    margin-top: 5px;\\n}\\n\\n.no_padding {\\n    padding: 0px;\\n}\\n\\n.vertical_align {\\n    -webkit-box-align: center;\\n            align-items: center;\\n}\\n\\n.card-header{\\n    border-radius: 5px;\\n    background: rgba(44,179,160,0.5);\\n    padding: 7px 7px;\\n}\\n\\n.form-control.ng-invalid{\\n    background-size: 100% 100%, 100% 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kYWxzL3BhY2thZ2UtZWRpdG9yL3BhY2thZ2UtZWRpdG9yLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsT0FBTztJQUNQLFVBQVU7SUFDVixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSx3QkFBd0I7QUFDNUI7O0FBRUE7SUFDSSwrQ0FBK0M7SUFDL0MsV0FBVztBQUNmOztBQUVBO0lBQ0ksb0NBQW9DO0FBQ3hDOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxvQ0FBb0M7QUFDeEM7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixlQUFlO0FBQ25COztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxlQUFlO0FBQ25COztBQUVBO0lBQ0ksV0FBVztJQUNYLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGNBQWM7SUFDZCxnQkFBZ0I7SUFDaEIsd0JBQXdCO0lBQ3hCLGdCQUFnQjtJQUNoQixlQUFlO0lBQ2YsVUFBVTtJQUNWLGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsaUJBQWlCO0lBQ2pCLE1BQU07QUFDVjs7QUFFQTtJQUNJLGlCQUFpQjtJQUNqQixvQkFBb0I7QUFDeEI7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxlQUFlO0FBQ25COztBQUVBO0lBQ0ksV0FBVztBQUNmOztBQUVBO0lBQ0ksb0JBQW9CO0lBQ3BCLHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsUUFBUTtBQUNaOztBQUVBO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsaUNBQWlDO0lBQ2pDLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0kseUJBQW1CO1lBQW5CLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixnQ0FBZ0M7SUFDaEMsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0kscUNBQXFDO0FBQ3pDIiwiZmlsZSI6InNyYy9hcHAvbW9kYWxzL3BhY2thZ2UtZWRpdG9yL3BhY2thZ2UtZWRpdG9yLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJsYWJlbCwgOmhvc3QgOjpuZy1kZWVwIC5tYXQtY2hlY2tib3gtbGF5b3V0IHtcbiAgY29sb3I6ICMwMDA7XG59XG5cbi5wbGFuIGltZyB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDA7XG4gICAgd2lkdGg6IDgwJTtcbiAgICBtYXJnaW4tbGVmdDogM3ZoO1xufVxuXG4ucGxhbiBpbWc6Zmlyc3QtY2hpbGQge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBwYWRkaW5nOiAwO1xuICAgIGhlaWdodDogNTAlO1xufVxuXG4ucGxhbiB7XG4gICAgbWFyZ2luLXRvcDogMzBweDtcbn1cblxuLnN0eWxlLWNhcmQgLmltZy10aHVtYiB7XG4gICAgaGVpZ2h0OiAyMDBweDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5jYXJvdXNlbC1yb3cge1xuICAgIHBhZGRpbmc6IDAgMTVweCAwIDE1cHg7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuY2Fyb3VzZWwtaW5kaWNhdG9ycyB7XG4gICAgYm90dG9tOiAtMzBweCAhaW1wb3J0YW50O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmNhcm91c2VsLWluZGljYXRvcnMgbGkge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KSAhaW1wb3J0YW50O1xuICAgIGhlaWdodDogNnB4O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmNhcm91c2VsLWluZGljYXRvcnMgbGkuYWN0aXZlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmNiM2EwICFpbXBvcnRhbnQ7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuY2Fyb3VzZWwtaXRlbSAuc3R5bGUtY2FyZCB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG46Zm9jdXMge1xuICAgIG91dGxpbmU6IG5vbmU7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuY2Fyb3VzZWwtaXRlbSAuc3R5bGUtY2FyZCB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmNhcm91c2VsLWl0ZW0gLnN0eWxlLWNhcmQuYWN0aXZlIHtcbiAgICBib3JkZXI6IDNweCBzb2xpZCAjMmNiM2EwO1xuICAgIGNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuY2Fyb3VzZWwtaXRlbSAuc3R5bGUtY2FyZCAubWF0LWNhcmQtY29udGVudCB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgZm9udC1zaXplOiAxMnB4O1xufVxuXG4uZm9udC0zMDAge1xuICAgIGZvbnQtd2VpZ2h0OiAzMDA7XG4gICAgZm9udC1zaXplOiBsYXJnZTtcbn1cblxuLmZvbnQtMjAwIHtcbiAgICBmb250LXdlaWdodDogMjAwO1xuICAgIGZvbnQtc2l6ZTogc21hbGw7XG59XG5cbi50ZXh0LXByaW1hcnkge1xuICAgIGNvbG9yOiAjMmNiM2EwICFpbXBvcnRhbnQ7XG59XG5cbi5udW1iZXJUZXh0IHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5mb250LXN6LTIwIHtcbiAgICBmb250LXNpemU6IDIwcHg7XG59XG5cbi5maWxlTmFtZSB7XG4gICAgY29sb3I6ICNGRkY7XG4gICAgb3V0bGluZTogbm9uZTtcbn1cblxuLmZpbGVDb250YWluZXIge1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uZmlsZUNvbnRhaW5lciBbdHlwZT1maWxlXSB7XG4gICAgY3Vyc29yOiBpbmhlcml0O1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGZvbnQtc2l6ZTogOTk5cHg7XG4gICAgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTApO1xuICAgIG1pbi1oZWlnaHQ6IDEwMCU7XG4gICAgbWluLXdpZHRoOiAxMDAlO1xuICAgIG9wYWNpdHk6IDA7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAwO1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIHRvcDogMDtcbn1cblxuLmZpbGUtbGlzdCAuZmlsZS1lbnRyeSB7XG4gICAgYm9yZGVyLXJhZGl1czogNSU7XG4gICAgcGFkZGluZzogNXB4IDAgNXB4IDA7XG59XG5cbi5maWxlLWxpc3QgLmZpbGUtZW50cnk6bnRoLWNoaWxkKG9kZCkge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlNWY5ZjY7XG59XG5cbi5maWxlLWxpc3QgLmZpbGUtZW50cnkgLmZpbGUtbmFtZSB7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xufVxuXG4uZmlsZS1saXN0IHtcbiAgICBoZWlnaHQ6IDEyMHB4O1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG59XG5cbi5maWxlLWxpc3QgLmZpbGUtZW50cnkgLmZpbGUtcmVtb3ZlIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi51cGxvYWRBcmVhIHtcbiAgICBtYXJnaW46IDBweDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5jYXJvdXNlbC1jb250cm9sLW5leHQsIDpob3N0IDo6bmctZGVlcCAuY2Fyb3VzZWwtY29udHJvbC1wcmV2IHtcbiAgICB3aWR0aDogNCUgIWltcG9ydGFudDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmNiM2EwO1xuICAgIGhlaWdodDogMjAlO1xuICAgIHRvcDogMzclO1xufVxuXG4uY2FyZC1wYWNrYWdlIHtcbiAgICBwYWRkaW5nOiAxMHB4O1xufVxuXG4ubWFyZ2luIHtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG4uYnV0dG9uVXBsb2FkIHtcbiAgICBwYWRkaW5nOiAwcHg7XG59XG5cbi5jaGVja2JveF9hbGlnbiB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIC8qIGNlbnRlciBjaGVja2JveCBob3Jpem9udGFsbHkgKi9cbiAgICBtYXJnaW4tdG9wOiA1cHg7XG59XG5cbi5ub19wYWRkaW5nIHtcbiAgICBwYWRkaW5nOiAwcHg7XG59XG5cbi52ZXJ0aWNhbF9hbGlnbiB7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLmNhcmQtaGVhZGVye1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDQ0LDE3OSwxNjAsMC41KTtcbiAgICBwYWRkaW5nOiA3cHggN3B4O1xufVxuXG4uZm9ybS1jb250cm9sLm5nLWludmFsaWR7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCUsIDEwMCUgMTAwJTtcbn0iXX0= */\"","module.exports = \"<div class=\\\"row\\\">\\n    <div class=\\\"col-12 col-lg-4\\\">\\n        <ngb-carousel>\\n            <ng-template *ngFor=\\\"let entry of carouselStyles\\\" ngbSlide>\\n                <div class=\\\"row justify-content-center carousel-row\\\">\\n                    <mat-card *ngFor=\\\"let style of entry; let i = index\\\" class=\\\"style-card col-3 card-package\\\"\\n                        (click)=\\\"selected(style.index, style.name)\\\" [ngClass]=\\\"{\\n                'active': selectedStyleIndex == style.index\\n              }\\\">\\n                        <img src=\\\"{{style.baseUrl + 'Grundriss_unmoebliert.jpeg'}}\\\" alt=\\\"{{style.name || 'style'}}\\\"\\n                            class=\\\"img-fluid\\\">\\n                        <mat-card-content>\\n                            {{style.name}}\\n                        </mat-card-content>\\n                    </mat-card>\\n                </div>\\n            </ng-template>\\n        </ngb-carousel>\\n        <div class=\\\"row plan\\\">\\n            <img class=\\\"card-img-top\\\" src=\\\"../../assets/images/blank.png\\\">\\n            <img class=\\\"card-img-top\\\" src=\\\"{{ styles[selectedStyleIndex].baseUrl + 'Grundriss_unmoebliert.jpeg'}}\\\">\\n            <img *ngIf=\\\"mobliertcheck.checked\\\" class=\\\"card-img-top\\\"\\n                src=\\\"{{ styles[selectedStyleIndex].baseUrl + 'Grundriss_moebliert.jpeg'}}\\\">\\n            <img class=\\\"card-img-top\\\" src=\\\"{{ styles[selectedStyleIndex].featuresUrl + 'eingangspfeil.png'}}\\\">\\n            <img *ngIf=\\\"qmcheck.checked && !mobliertcheck.checked\\\" class=\\\"card-img-top\\\"\\n                src=\\\"{{ styles[selectedStyleIndex].featuresUrl + 'unmoebliert_QM.png'}}\\\">\\n            <img *ngIf=\\\"qmcheck.checked && mobliertcheck.checked\\\" class=\\\"card-img-top\\\"\\n                src=\\\"{{ styles[selectedStyleIndex].featuresUrl + 'moebliert_QM.png'}}\\\">\\n            <img *ngIf=\\\"rbcheck.checked && !mobliertcheck.checked\\\" class=\\\"card-img-top\\\"\\n                src=\\\"{{ styles[selectedStyleIndex].featuresUrl + 'unmoebliert_RB.png'}}\\\">\\n            <img *ngIf=\\\"rbcheck.checked && mobliertcheck.checked\\\" class=\\\"card-img-top\\\"\\n                src=\\\"{{ styles[selectedStyleIndex].featuresUrl + 'moebliert_RB.png'}}\\\">\\n            <img *ngIf=\\\"nordpfeilcheck.checked\\\" class=\\\"card-img-top\\\"\\n                src=\\\"{{ styles[selectedStyleIndex].featuresUrl + 'nordfpeil.png'}}\\\">\\n            <img *ngIf=\\\"logocheck.checked\\\" class=\\\"card-img-top\\\"\\n                src=\\\"{{ styles[selectedStyleIndex].featuresUrl + 'logo.png'}}\\\">\\n        </div>\\n        <div id=\\\"test\\\">\\n\\n        </div>\\n        <div style=\\\"clear: both;\\\"></div>\\n    </div>\\n    <div class=\\\"col-12 col-lg-8 scroll-section\\\">\\n        <form [formGroup]=\\\"filesForm\\\" class=\\\"\\\">\\n            <div class=\\\"card cgrid margin\\\">\\n                <div class=\\\"card-header\\\">\\n                    <a class=\\\"my-link clickable\\\" (click)=\\\"active1 = !active1\\\" [attr.aria-expanded]=\\\"active1\\\"\\n                        aria-controls=\\\"collapse1\\\">\\n                        <h5 class=\\\"card-title text-white text-left wsn row\\\">\\n                            <span class=\\\"col\\\">\\n                                <span class=\\\"fas text-left mr-2\\\" [ngClass]=\\\"{\\n                      'fa-chevron-right': !active1,\\n                      'fa-chevron-down': active1\\n                    }\\\">\\n                                </span> Produktdetails anzeigen\\n                            </span>\\n                        </h5>\\n                    </a>\\n                </div>\\n                <div [collapse]=\\\"!active1\\\">\\n                    <div class=\\\"card-body\\\">\\n                        <ul class=\\\"list-unstyled font-500\\\">\\n                            <li>✓ ein Grundriss pro Etage</li>\\n                            <li>✓ Output je Grundriss: PDF, JPEG</li>\\n                            <li>✓ Zwei Auflösungsstufen (Web optimiert, hochauflösend)</li>\\n                        </ul>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"row vertical_align\\\">\\n                <div class=\\\"col-4 col-md-2\\\">\\n                    <input type=\\\"number\\\" id=\\\"additionalFloor\\\" matTooltip=\\\"{{errorMsg}}\\\"\\n                        [matTooltipClass]=\\\"{'error-tooltip':true}\\\" formControlName=\\\"additionalFloor\\\"\\n                        class=\\\"form-control numberText\\\" min=\\\"1\\\" (change)=\\\"calculateSum()\\\" value=\\\"1\\\">\\n                </div>\\n                <div class=\\\"col-4 col-md-2\\\">\\n                    <div class=\\\"font-200\\\">\\n                        {{imoPackage.price}} € je Grundriss\\n                    </div>\\n                </div>\\n                <div class=\\\"col-4 d-block d-md-none text-center\\\">\\n                    <p class=\\\"font-300\\\">\\n                        {{num_floorplans_price}} €\\n                    </p>\\n                </div>\\n                <div class=\\\"col-12 col-md-6 pt-3 pt-md-0\\\">\\n                    <div class=\\\"font-300\\\">\\n                        Anzahl der Grundrisse\\n                    </div>\\n                    <div class=\\\"font-200\\\">\\n                        Bitte geben Sie die gewünschte Anzahl an Grundrissen an\\n                    </div>\\n                </div>\\n                <div class=\\\"col-2 d-none d-md-block text-center\\\">\\n                    <p class=\\\"font-300\\\">\\n                        {{num_floorplans_price}} €\\n                    </p>\\n                </div>\\n            </div>\\n            <hr class=\\\"hr_floorplan\\\">\\n            <div class=\\\"row vertical_align\\\" *ngIf=\\\"imoPackage.dimension !== '2d'\\\">\\n                <div class=\\\"col-4 col-md-2\\\">\\n                    <div class=\\\"checkbox_align\\\">\\n                        <mat-checkbox #isoCheck formControlName=\\\"isometric\\\" color=\\\"primary\\\" (change)=\\\"calculateSum()\\\"\\n                            id=\\\"iso-check\\\">\\n                        </mat-checkbox>\\n\\n                        <div class=\\\"font-200\\\">hinzufügen</div>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-4 col-md-2\\\">\\n                    <div class=\\\"font-200\\\">\\n                        5,90 € je Grundriss\\n                    </div>\\n                </div>\\n                <div class=\\\"col-4 d-block d-md-none text-center\\\">\\n                    <p class=\\\"font-300\\\" [hidden]=\\\"!isoCheck.checked\\\">\\n                        {{additional_views_price_sum}} €\\n                    </p>\\n                    <p class=\\\"font-300\\\" [hidden]=\\\"isoCheck.checked\\\">\\n                        0,00 €\\n                    </p>\\n                </div>\\n                <div class=\\\"col-10 col-md-4 pt-3 pt-md-0\\\">\\n                    <div class=\\\"font-300\\\">\\n                        isometrische Ansicht\\n                    </div>\\n                    <div class=\\\"font-200\\\">\\n                        erweitertes natürliches Raumgefühl, perfekte Kombination mit dem 3D Grundriss\\n                    </div>\\n                </div>\\n                <div class=\\\"col-2 no_padding pt-3 pt-md-0\\\">\\n                    <img class=\\\"img-fluid\\\" *ngIf=\\\"!mobliertcheck.checked\\\"\\n                        src=\\\"{{ styles[selectedStyleIndex].baseUrl + 'Seitenansicht_unmoebliert.jpeg'}}\\\">\\n                    <img *ngIf=\\\"mobliertcheck.checked\\\" class=\\\"img-fluid\\\"\\n                        src=\\\"{{ styles[selectedStyleIndex].baseUrl + 'Seitenansicht_moebliert.jpeg'}}\\\">\\n                </div>\\n                <div class=\\\"col-2 d-none d-md-block text-center\\\">\\n                    <p class=\\\"font-300\\\" [hidden]=\\\"!isoCheck.checked\\\">\\n                        {{additional_views_price_sum}} €\\n                    </p>\\n                    <p class=\\\"font-300\\\" [hidden]=\\\"isoCheck.checked\\\">\\n                        0,00 €\\n                    </p>\\n                </div>\\n            </div>\\n            <div class=\\\"card cgrid\\\">\\n                <div class=\\\"card-header\\\">\\n                    <a class=\\\"my-link clickable\\\" (click)=\\\"active2 = !active2\\\" [attr.aria-expanded]=\\\"active2\\\"\\n                        aria-controls=\\\"collapse2\\\">\\n                        <h5 class=\\\"card-title text-white text-left wsn row\\\">\\n                            <span class=\\\"col-12\\\">\\n                                <span class=\\\"fas text-left mr-1\\\" [ngClass]=\\\"{\\n                      'fa-chevron-right': !active2,\\n                      'fa-chevron-down': active2\\n                    }\\\">\\n                                </span> Spezifikationen\\n                            </span>\\n                        </h5>\\n                    </a>\\n                </div>\\n                <div [collapse]=\\\"!active2\\\">\\n                    <div class=\\\"card-body\\\">\\n                        <div class=\\\"row\\\">\\n                            <div class=\\\"col-12 col-sm-3\\\">\\n                                <mat-checkbox #mobliertcheck formControlName=\\\"mobliert\\\" class=\\\"example-margin\\\"\\n                                    color=\\\"primary\\\">Möbliert\\n                                </mat-checkbox><br />\\n                                <mat-checkbox #qmcheck formControlName=\\\"bemasung\\\" class=\\\"example-margin\\\"\\n                                    color=\\\"primary\\\">Bemaßung\\n                                </mat-checkbox>\\n                                <br />\\n                                <mat-checkbox #nordpfeilcheck formControlName=\\\"nordpfeil\\\" class=\\\"example-margin\\\"\\n                                    color=\\\"primary\\\">\\n                                    Nordpfeil\\n                                </mat-checkbox><br />\\n                                <mat-checkbox #rbcheck formControlName=\\\"raumbezeichnung\\\" class=\\\"example-margin\\\"\\n                                    color=\\\"primary\\\">\\n                                    Raumbezeichnung\\n                                </mat-checkbox><br />\\n                                <mat-checkbox #logocheck formControlName=\\\"logo\\\" class=\\\"example-margin\\\" color=\\\"primary\\\"\\n                                    (change)=\\\"onLogoCheck()\\\">Auftraggeber Logo\\n                                </mat-checkbox><br />\\n                            </div>\\n                            <div class=\\\"col-12 col-sm-9 pt-3 pt-md-0\\\">\\n                                <ng-container class=\\\"mt-2\\\">\\n                                    <h5 class=\\\"mb-2 font-weight-light\\\">Bitte laden Sie Ihre Grundrisse im passenden\\n                                        Format hoch (PDF, PNG, JPEG)</h5>\\n                                    <div class=\\\"mb-4 form-group row uploadArea\\\">\\n                                        <div class=\\\"col-12 col-md-3 buttonUpload\\\">\\n                                            <label class=\\\"fileContainer btn btn-dark btn-sm text-white\\\">\\n                                                Datei hochladen\\n                                                <input type=\\\"file\\\" [writeFile]=\\\"true\\\" formControlName=\\\"planImages\\\"\\n                                                    multiple=\\\"true\\\" #plnImages (change)=\\\"onChange()\\\"\\n                                                    accept=\\\".png,.jpeg,.pdf,.jpg\\\" ng2FileSelect [uploader]=\\\"uploader\\\" />\\n                                            </label>\\n                                        </div>\\n                                        <div *ngIf=\\\"uploader.queue.length > 0\\\" class=\\\"col-12 col-md-9 file-list\\\">\\n                                            <div class=\\\"file-entry row\\\" *ngFor=\\\"let file of uploader.queue\\\">\\n                                                <div class=\\\"col-8 file-name\\\">\\n                                                    {{ file?.file?.name }}\\n                                                </div>\\n                                                <div class=\\\"col-4 text-right\\\">\\n                                                    <span class=\\\"fas fa-trash-alt text-danger file-remove\\\"\\n                                                        (click)=\\\"onRemoveFile(file)\\\"></span>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div *ngIf=\\\"planImages.invalid && (planImages.dirty || planImages.touched)\\\"\\n                                            class=\\\"alert alert-danger col-12\\\">\\n                                            <div *ngIf=\\\"planImages.errors.required\\\">\\n                                                Bitte laden Sie die Grundrisse in einem unterstützten Format hoch!\\n                                            </div>\\n                                            <div *ngIf=\\\"planImages.errors.forbiddenFile\\\">\\n                                                Bitte laden Sie ein gültiges Format hoch (PDF, PNG, JPEG)\\n                                            </div>\\n                                            <div *ngIf=\\\"!planImages.errors.required && planImages.errors.fileRequired\\\">\\n                                                Bitte laden Sie die Grundrisse in einem unterstützten Format hoch!\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </ng-container>\\n                                <ng-container class=\\\"mt-2\\\">\\n                                    <h5 class=\\\"mb-2 font-weight-light\\\">Bitte laden Sie Ihr Logo im PNG-Format hoch</h5>\\n                                    <div class=\\\"mb-4 form-group row uploadArea\\\">\\n                                        <div class=\\\"col-12 col-sm-3 buttonUpload\\\">\\n                                            <label class=\\\"fileContainer btn btn-dark btn-sm text-white\\\">\\n                                                Datei hochladen\\n                                                <input type=\\\"file\\\" [writeFile]=\\\"true\\\" formControlName=\\\"logoImage\\\"\\n                                                    #logoImg (change)=\\\"onChange()\\\" accept=\\\".png\\\" ng2FileSelect\\n                                                    [uploader]=\\\"logoUploader\\\" />\\n                                            </label>\\n                                        </div>\\n                                        <div *ngIf=\\\"logoUploader.queue.length > 0\\\"\\n                                            class=\\\"col-12 col-sm-9 logo-file file-list\\\">\\n                                            <div class=\\\"file-entry row\\\" *ngFor=\\\"let file of logoUploader.queue\\\">\\n                                                <div class=\\\"col-8 file-name\\\">\\n                                                    {{ file?.file?.name }}\\n                                                </div>\\n                                                <div class=\\\"col-4 text-right\\\">\\n                                                    <span class=\\\"fas fa-trash-alt text-danger file-remove\\\"\\n                                                        (click)=\\\"onRemoveFile(file, 'logo')\\\"></span>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div *ngIf=\\\"logoImage.invalid && (logoImage.dirty || logoImage.touched)\\\"\\n                                            class=\\\"alert alert-danger col-12\\\">\\n                                            <div *ngIf=\\\"logoImage.errors.required\\\">\\n                                                Bitte laden Sie das Logo in einem unterstützten Format hoch!\\n                                            </div>\\n                                            <div *ngIf=\\\"logoImage.errors.forbiddenFile\\\">\\n                                                Bitte laden Sie ein gültiges Format hoch (PNG)\\n                                            </div>\\n                                            <div *ngIf=\\\"!logoImage.errors.required && logoImage.errors.fileRequired\\\">\\n                                                Bitte laden Sie das Logo in einem unterstützten Format hoch!\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </ng-container>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"mb-4\\\">\\n                <div class=\\\"form-group\\\">\\n                    <textarea class=\\\"form-control\\\" formControlName=\\\"comments\\\"\\n                        placeholder=\\\"Kommentare/Anmerkungen für den Dienstleister\\\" #comments></textarea>\\n                </div>\\n            </div>\\n            <hr class=\\\"hr_floorplan\\\">\\n            <div class=\\\"row mb-4\\\">\\n                <div class=\\\"col-8\\\">\\n                    <h4>Summe</h4>\\n                </div>\\n                <div class=\\\"col-4 font-sz-20 text-right\\\">\\n                    {{total_price}} €\\n                </div>\\n            </div>\\n        </form>\\n    </div>\\n</div>\"","import { Component, OnInit, ViewChild, AfterViewInit, ElementRef, Input, DoCheck, Output, EventEmitter, AfterContentInit } from '@angular/core';\nimport { NgbCarouselConfig } from '@ng-bootstrap/ng-bootstrap';\nimport { Package } from '@app/models/package';\nimport { FormBuilder, FormGroup, Validators, ValidatorFn, AbstractControl } from '@angular/forms';\nimport { FileUploader } from 'ng2-file-upload';\nimport * as accounting from 'accounting';\nimport * as _ from 'underscore';\ndeclare const $: any;\n\n@Component({\n  selector: 'app-package-editor',\n  templateUrl: './package-editor.component.html',\n  styleUrls: ['./package-editor.component.css'],\n  providers: [NgbCarouselConfig]\n})\nexport class PackageEditorComponent implements OnInit, AfterViewInit, DoCheck, AfterContentInit {\n\n  public uploader: FileUploader = new FileUploader({});\n  public logoUploader: FileUploader = new FileUploader({});\n  @Input(\"imoPackage\") imoPackage: Package;\n  @ViewChild(\"plnImages\") planImgs: ElementRef<any>;\n  @ViewChild(\"logoImg\") logoImg: ElementRef<any>;\n  @Output() onFormChange = new EventEmitter();\n  carouselStyles = [];\n  selectedStyleIndex = 0;\n  styles: [{\n    name: String,\n    baseUrl: String,\n    featuresUrl: String,\n    index: number\n  }];\n  isoCount: number = 1;\n  active2: boolean = true;\n  active1: boolean = false;\n  filesForm: FormGroup;\n  planImgElem: ElementRef;\n  logoImgElem: ElementRef;\n  logo: boolean;\n  oldValidate: boolean;\n  sum: number = 0;\n  needIso: boolean = false;\n  selectedStyleName: string = '';\n  num_floorplans_price: any;\n  additional_view_price = 5.90;\n  additional_views_price_sum: any;\n  total_price: any;\n  errorMsg: string = '';\n\n  constructor(\n    private config: NgbCarouselConfig,\n    private formBuilder: FormBuilder\n  ) {\n    config.interval = 100000;\n    //config.showNavigationArrows = false;\n    config.showNavigationIndicators = true;\n    this.filesForm = this.formBuilder.group({\n      planImages: ['', [\n        Validators.required,\n        forbiddenFileValidator([\"png\", \"jpeg\", \"pdf\", \"jpg\"], this.planImgElem),\n        fileRequiredValidator(this.uploader.queue)\n      ]],\n      logoImage: [''],\n      additionalFloor: [1, [Validators.min(1)]],\n      isometric: [''],\n      mobliert: [''],\n      bemasung: [''],\n      nordpfeil: [''],\n      raumbezeichnung: [''],\n      logo: [''],\n      allRooms: [''],\n      comments: ['']\n    });\n  }\n\n  get planImages() {\n    return this.filesForm.get(\"planImages\");\n  }\n\n  get logoImage() {\n    return this.filesForm.get(\"logoImage\");\n  }\n\n  get additionalFloor() {\n    return this.filesForm.get('additionalFloor');\n  }\n\n  ngOnInit() {\n    this.imoPackage['pack_price'] = accounting.unformat(this.imoPackage['price'], ',');\n    this.num_floorplans_price = this.isoCount * this.imoPackage['pack_price'];\n    this.additional_views_price_sum = accounting.formatMoney(this.isoCount * this.additional_view_price, '', 2, '.', ',');\n    this.styles = this.imoPackage.styles ? this.imoPackage.styles : [{ name: '', baseUrl: '', featuresUrl: '', index: null }];\n    for (let i = 0; i < this.styles.length; i += 4) {\n      let list = [];\n      list.push(this.styles[i]);\n      this.styles[i + 1] && list.push(this.styles[i + 1]);\n      this.styles[i + 2] && list.push(this.styles[i + 2]);\n      this.styles[i + 3] && list.push(this.styles[i + 3]);\n      this.carouselStyles.push(list);\n    }\n    if (this.carouselStyles.length > 2) {\n      this.config.showNavigationIndicators = true;\n    }\n    this.imoPackage.form = this.filesForm;\n    this.imoPackage[\"validate\"] = true;\n    this.oldValidate = this.imoPackage[\"validate\"];\n    this.selectedStyleName = this.styles[0].name.toString();\n    this.sum = this.imoPackage['pack_price'];\n    this.imoPackage['total_price'] = accounting.formatMoney(this.sum, '', 2, '.', ',');\n    this.total_price = this.imoPackage['total_price'];\n    // this.calculateSum();\n  }\n\n  ngAfterViewInit() {\n    var self = this;\n    this.planImgElem = this.planImgs.nativeElement;\n    this.logoImgElem = this.logoImg.nativeElement;\n    this.filesForm = this.formBuilder.group({\n      planImages: ['', [\n        Validators.required,\n        forbiddenFileValidator([\"png\", \"jpeg\", \"pdf\", \"jpg\"], this.planImgElem),\n        fileRequiredValidator(this.uploader.queue)\n      ]],\n      logoImage: ['', [\n        forbiddenFileValidator([\"png\"], this.logoImgElem)\n      ]],\n      additionalFloor: [1, [Validators.min(1)]],\n      isometric: [false],\n      mobliert: [false],\n      bemasung: [false],\n      nordpfeil: [false],\n      raumbezeichnung: [false],\n      logo: [false],\n      allRooms: [false],\n      comments: ['']\n    });\n    this.filesForm.valueChanges.subscribe(() => {\n      /* let formValues = {};\n      let fileList = [];\n      Object.keys(self.filesForm.controls).forEach(control => {\n        if (control !== 'planImages' && control !== 'logoImage') {\n          formValues[control] = self.filesForm.get(control).value;\n        } else if (control == 'planImages') {\n          fileList = [];\n          self.uploader.queue.forEach(entry => fileList.push(entry.file.rawFile));\n          formValues[control] = fileList;\n        } else {\n          fileList = [];\n          self.logoUploader.queue.forEach(entry => fileList.push(entry.file.rawFile));\n          formValues[control] = fileList;\n        }\n      });\n      formValues[\"orderType\"] = this.imoPackage.service_key;\n      formValues['packageNum'] = this.imoPackage['package_key'];\n      formValues['styleName'] = this.selectedStyleName;\n      self.onFormChange.emit(formValues); */\n      self.emitFormValues();\n    });\n    // this.calculateSum();\n  }\n\n  ngAfterContentInit(): void {\n    this.calculateSum();\n  }\n\n  ngDoCheck(): void {\n    if (this.imoPackage[\"validate\"] != this.oldValidate) {\n      Object.keys(this.filesForm.controls).forEach(control => {\n        this.filesForm.controls[control].markAsTouched();\n      });\n    }\n  }\n\n  selected(index: number, name: string) {\n    var self = this;\n    this.selectedStyleIndex = index;\n    this.selectedStyleName = name;\n    this.emitFormValues();\n  }\n\n  onLogoCheck(): void {\n    if (this.filesForm.controls.logo.value) {\n      this.logoImage.setValidators([Validators.required, forbiddenFileValidator([\"png\"], this.logoImgElem), fileRequiredValidator(this.logoUploader.queue)]);\n    } else {\n      this.logoImage.setValidators([forbiddenFileValidator([\"png\"], this.logoImgElem)]);\n    }\n    this.logoImage.updateValueAndValidity();\n  }\n\n  onChange(): void {\n    this.imoPackage.form = this.filesForm;\n    let fileListLength = this.uploader.queue.length;\n    let lastFile = this.uploader.queue[fileListLength - 1];\n    for (let i = 0; i < fileListLength - 1; i++) {\n      if (lastFile.file.name === this.uploader.queue[i].file.name && lastFile.file.size === this.uploader.queue[i].file.size) {\n        lastFile.remove();\n      }\n    }\n    if (this.logoUploader.queue.length > 1) {\n      this.logoUploader.queue[0].remove();\n    }\n    // fix for Internet Explorer. Manually set the file value\n    if (this.uploader.queue.length > 0 && _.isEmpty(this.filesForm.get('planImages').value)) {\n      this.filesForm.controls['planImages'].setValue(this.uploader.queue[0].file.name);\n    }\n    if (this.logoUploader.queue.length > 0 && _.isEmpty(this.filesForm.get('logoImage').value)) {\n      this.filesForm.controls['logoImage'].setValue(this.logoUploader.queue[0].file.name);\n    }\n    this.logoImage.updateValueAndValidity();\n    this.filesForm.controls.planImages.updateValueAndValidity();\n  }\n\n  calculateSum(): void {\n    this.isoCount = this.filesForm.get(\"additionalFloor\").value;\n    if (this.isoCount <= 0) {\n      this.errorMsg = 'Mindestens ein Grundriss muss bestellt werden.';\n    } else if (this.isoCount > 0) {\n      this.errorMsg = '';\n    }\n    if (!this.isoCount) {\n      this.isoCount = 1;\n    }\n    this.num_floorplans_price = accounting.formatMoney(this.isoCount * this.imoPackage['pack_price'], '', 2, '.', ',');\n    this.additional_views_price_sum = accounting.formatMoney(this.isoCount * this.additional_view_price, '', 2, '.', ',');\n    if (this.imoPackage.service_key !== '2dfloorplan' && this.filesForm.get(\"isometric\").value == true) {\n      this.sum = this.isoCount * this.imoPackage[\"pack_price\"] + this.isoCount * 5.90;\n    } else {\n      this.sum = this.isoCount * this.imoPackage[\"pack_price\"];\n    }\n    this.imoPackage['total_price'] = accounting.formatMoney(this.sum, '', 2, '.', ',');\n    this.total_price = this.imoPackage['total_price'];\n  }\n\n  onRemoveFile(file, type?: string): void {\n    file.remove();\n    if (type === 'logo') {\n      this.logoImage.setValue(\"\");\n    }\n    this.filesForm.controls.planImages.updateValueAndValidity();\n    this.logoImage.updateValueAndValidity();\n  }\n\n  emitFormValues(): void {\n    var self = this;\n    let formValues = {};\n    let fileList = [];\n    Object.keys(self.filesForm.controls).forEach(control => {\n      if (control !== 'planImages' && control !== 'logoImage') {\n        formValues[control] = self.filesForm.get(control).value;\n      } else if (control == 'planImages') {\n        fileList = [];\n        self.uploader.queue.forEach(entry => fileList.push(entry.file.rawFile));\n        formValues[control] = fileList;\n      } else {\n        fileList = [];\n        self.logoUploader.queue.forEach(entry => fileList.push(entry.file.rawFile));\n        formValues[control] = fileList;\n      }\n    });\n    formValues[\"orderType\"] = this.imoPackage.service_key;\n    formValues['packageNum'] = this.imoPackage['package_key'];\n    formValues['styleName'] = this.selectedStyleName;\n    formValues['dimension'] = this.imoPackage.dimension;\n    formValues['baseurl'] = self.styles[self.selectedStyleIndex].baseUrl;\n    self.onFormChange.emit(formValues);\n  }\n}\n\n/** A hero's name can't match the given regular expression */\nexport function forbiddenFileValidator(acceptedFormats: string[], elem): ValidatorFn {\n  return (control: AbstractControl): { [key: string]: any } | null => {\n    let files = elem ? elem.files : [];\n    let isInValid = false;\n    for (let i = 0; i < files.length; i++) {\n      let file = files[i];\n      let fileType = file.name.substring(file.name.lastIndexOf(\".\") + 1);\n      if (acceptedFormats.indexOf(fileType) < 0) {\n        isInValid = true;\n        elem.value = \"\";\n        break;\n      }\n    }\n    return isInValid ? { 'forbiddenFile': { value: '' } } : null;\n  };\n}\n\nexport function fileRequiredValidator(fileQueue): ValidatorFn {\n  return (control: AbstractControl): { [key: string]: any } | null => {\n    return fileQueue.length <= 0 ? { 'fileRequired': { value: '' } } : null;\n  };\n}\n","import { FormGroup } from \"@angular/forms\";\n\n// Package model\nexport class Package {\n  name: string;\n  title: string;\n  service_key: string;\n  disabled: boolean;\n  styles?: [{\n    name: String,\n    baseUrl: String,\n    featuresUrl: String,\n    index: number\n  }];\n  form?: FormGroup;\n  package_key: string;\n  price: string;\n  price_pre_text: string;\n  price_note: string;\n  package_contents: [];\n  package_images: [];\n  extra_details: string;\n  dimension?: string;\n  description_placeholder?: string;\n}\n","export * from './orderoverview.component';\r\n","module.exports = \".btn-margin {\\n    margin-right: 5px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvb3JkZXJvdmVydmlldy9vcmRlcm92ZXJ2aWV3LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQkFBaUI7QUFDckIiLCJmaWxlIjoic3JjL2FwcC9vcmRlcm92ZXJ2aWV3L29yZGVyb3ZlcnZpZXcuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5idG4tbWFyZ2luIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbn1cbiJdfQ== */\"","module.exports = \"<!-- Page-Content -->\\n<ng-container *ngIf=\\\"auth.myUserObservable as user; else loading\\\">\\n\\n  <!-- Only show page content if profile is complete -->\\n  <ng-container *ngIf=\\\"user.profileCompleted; else notCompleted\\\">\\n\\n    <!-- Customer Content -->\\n    <div *ngIf=\\\"user.role === 'Kunde'\\\">\\n\\n      <!-- Default state, table overview of all the orders-->\\n      <div *ngIf=\\\"state === 'default'\\\">\\n        <div class=\\\"row\\\">\\n\\n          <!-- Big left column -->\\n          <div class=\\\"col\\\">\\n\\n            <!-- Card with explanation -->\\n            <div class=\\\"shadow card cgrid\\\">\\n\\n              <div class=\\\"card-header\\\">\\n                <h5 class=\\\"card-title text-left wsn mb-0\\\">Information</h5>\\n              </div>\\n\\n              <div class=\\\"card-body\\\">\\n                <p class=\\\"card-text mb-0\\\">Hier können Sie ihre erstellten Aufträge mit dem jeweiligen Status einsehen.\\n                  Einen Auftrag können Sie unter dem Menüpunkt \\\"Service buchen\\\" erstellen.</p>\\n                <p class=\\\"card-text\\\">Genaue Objektdaten sind nur dem Drohnenpiloten ersichtlich, der Ihrem Auftrag\\n                  zugewiesen wurde.</p>\\n                <p class=\\\"card-text mb-0\\\">Die hochgeladenen Materialien finden Sie in der Detail-Ansicht des Auftrags,\\n                  sobald der Auftrag abgeschlossen ist.</p>\\n              </div>\\n            </div>\\n\\n            <ng-container *ngIf=\\\"os.myCreatedOrders as orders; else loading\\\">\\n\\n              <!-- Display the table inside a card -->\\n              <div class=\\\"shadow card cgrid\\\">\\n\\n                <div class=\\\"card-header\\\">\\n                  <h5 class=\\\"mb-0\\\">Meine Aufträge</h5>\\n                </div>\\n\\n                <!-- Table that shows the customers open orders -->\\n                <div class=\\\"card-body\\\">\\n                  <div class=\\\"table-responsive\\\">\\n                    <table class=\\\"table table-striped table-sm\\\">\\n\\n                      <thead>\\n                        <tr>\\n                          <th>Auftrag vom</th>\\n                          <th>Objekt-Titel</th>\\n                          <th>Region</th>\\n                          <th>Auftragsstatus</th>\\n                          <th></th>\\n                        </tr>\\n                      </thead>\\n\\n                      <tbody>\\n                        <ng-container *ngIf=\\\"orders; else noOrders\\\">\\n\\n                          <ng-container *ngFor=\\\"let order of orders;\\\">\\n                            <tr>\\n                              <td>{{ order.createdOn.toDate() | date: 'dd.MM.yy HH:mm'}}</td>\\n                              <td>{{ order.Desc }}</td>\\n                              <td>{{ order.areaDesc }}</td>\\n                              <td>\\n                                <ng-container *ngTemplateOutlet=\\\"orderStatus\\\"></ng-container>\\n                              </td>\\n                              <td><button class=\\\"btn btn-primary btn-sm align-self-center float-right\\\"\\n                                  (click)=\\\"openDetailPage(order.orderId, order.realestateId, true)\\\">Details</button>\\n                              </td>\\n                            </tr>\\n\\n                            <!-- Differently colored status messages -->\\n                            <ng-template #orderStatus>\\n                              <span [ngSwitch]=\\\"order.status\\\">\\n                                <!-- possible status for orders:  opened, processing, completed, canceled -->\\n                                <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'opened'\\\">\\n                                  In Prüfung\\n                                </span>\\n                                <span class=\\\"text-warning\\\" *ngSwitchCase=\\\"'processing'\\\">\\n                                  In Bearbeitung\\n                                </span>\\n                                <span class=\\\"text-success\\\" *ngSwitchCase=\\\"'completed'\\\">\\n                                  Abgeschlossen\\n                                </span>\\n                                <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'canceled'\\\">\\n                                  Storniert\\n                                </span>\\n                                <span *ngSwitchDefault>\\n                                  {{ order.status }}\\n                                </span>\\n                              </span>\\n                            </ng-template>\\n\\n                          </ng-container>\\n\\n                          <!-- If there are no orders, display a text inside the empty table -->\\n                        </ng-container>\\n                        <ng-template #noOrders>\\n                          <tr>\\n                            <td>Keine Aufträge vorhanden</td>\\n                            <td></td>\\n                            <td></td>\\n                            <td></td>\\n                            <td></td>\\n                            <td></td>\\n                          </tr>\\n                        </ng-template>\\n                      </tbody>\\n                    </table>\\n                  </div>\\n                </div>\\n              </div>\\n            </ng-container>\\n          </div>\\n\\n          <!-- Right column: General stuff -->\\n          <div class=\\\"col-3 d-none d-lg-block\\\">\\n\\n            <!-- Show-Case card, placeholder for now -->\\n            <div class=\\\"shadow card fluid cgrid\\\">\\n              <div class=\\\"card-header\\\">\\n                <h5 class=\\\"card-title text-left wsn\\\">Showcase</h5>\\n              </div>\\n              <div class=\\\"card-body\\\">\\n                <p class=\\\"card-text text-left\\\">Lassen Sie sich von unseren virtuellen Rundgängen und Drohnenaufnahmen\\n                  von verschiedenen Immobilien, öffentlichen Gebäuden und Working Spaces begeistern und überzeugen Sie\\n                  Ihre Kunden!</p>\\n                <a href=\\\"https://www.imogent.de/show-case/\\\" class=\\\"my-link\\\">Jetzt ansehen</a>\\n              </div>\\n            </div>\\n          </div>\\n\\n        </div>\\n\\n      </div>\\n\\n      <!-- Order-Detail View -->\\n      <div *ngIf=\\\"state === 'my-detail-view'\\\">\\n\\n        <!-- Loading data of the selected realestate with the html async pipe -->\\n        <ng-container *ngIf='currentRealestateData | async as realestate; else loading'>\\n\\n          <!-- Loading order data related to the selected realestate with the html async pipe -->\\n          <ng-container *ngIf='currentOrderData | async as orderData else loading'>\\n\\n            <div class=\\\"shadow card fluid cgrid\\\">\\n\\n              <!-- Order-Heading -->\\n              <div class=\\\"card-header\\\">\\n                <button class=\\\"btn btn-sm btn-primary float-right\\\"\\n                  (click)=\\\"state = 'default'; suborder_state = 'list-view'\\\">Zurück</button>\\n                <h5>Detailansicht</h5>\\n              </div>\\n\\n\\n              <!-- Order Details -->\\n              <div class=\\\"card-body\\\">\\n\\n                <!-- Split the card body into left and right columns -->\\n                <div class=\\\"row\\\">\\n\\n                  <!-- Left column: Order-Details -->\\n                  <div class=\\\"col-6\\\">\\n\\n                    <h5 class=\\\"card-title text-left wsn\\\">Auftrags-Details:</h5>\\n                    <p class=\\\"mb-1\\\"><strong>Eingegangen am:</strong>\\n                      {{ orderData.createdOn.toDate() | date: 'dd.MM.yyyy HH:mm'}}</p>\\n                    <p class=\\\"mb-1\\\"><strong>ID:</strong> {{ orderData.orderId }} (für Supportanfragen)</p>\\n                    <p class=\\\"mb-1\\\"><strong>Aktueller Status: </strong>\\n                      <ng-container *ngTemplateOutlet=\\\"orderStatus\\\"></ng-container>\\n                    </p>\\n                    <p *ngIf=\\\"orderData.price\\\"><strong>Summe:</strong> {{orderData.price}} €</p>\\n                    <!-- Start Invoice -->\\n                    <ng-container *ngIf=\\\"orderData.customerInvoiceUrl && orderData.customerInvoiceName\\\">\\n                      <h5 class=\\\"card-title text-left wsn\\\">Rechnung:</h5>\\n                      <a class=\\\"my-link\\\" href=\\\"{{ orderData.customerInvoiceUrl }}\\\" target=\\\"_blank\\\"\\n                        rel=\\\"noopener\\\">{{orderData.customerInvoiceName}}</a>\\n                    </ng-container>\\n                    <!-- End: Invoice -->\\n                  </div>\\n\\n                  <!-- Right column: Realestate Details -->\\n                  <div class=\\\"col-6\\\">\\n                    <h5 class=\\\"card-title text-left wsn\\\">Immobilien-Details:</h5>\\n                    <p class=\\\"mb-1\\\"><strong>Objekt:</strong> {{ realestate.title }}</p>\\n                    <p class=\\\"mb-1\\\" *ngIf=\\\"realestate.objectNumber\\\"><strong>Objektnummer:</strong>\\n                      {{ realestate.objectNumber }}</p>\\n                    <p><strong>Adresse:</strong> {{ realestate.street }} {{ realestate.streetnumber }},\\n                      {{ realestate.postalcode }} {{realestate.city }}</p>\\n                  </div>\\n\\n                </div>\\n                <!-- For customer, add a button to delete the order if it is not accepted yet by admin -->\\n                <!-- Otherwise we don't show this button -->\\n                <ng-container *ngIf=\\\"orderData.status == 'opened'\\\">\\n                  <button class=\\\"btn btn-danger mt-2 mr-2\\\" (click)=\\\"cancelOrder(orderData.orderId)\\\">Stornieren</button>\\n                </ng-container>\\n              </div>\\n\\n\\n\\n              <!-- Showing the current status in different colors -->\\n              <ng-template #orderStatus>\\n                <span [ngSwitch]=\\\"orderData.status\\\">\\n                  <!-- possible status for orders:  opened, processing, completed, canceled -->\\n                  <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'opened'\\\">\\n                    In Prüfung\\n                  </span>\\n                  <span class=\\\"text-warning\\\" *ngSwitchCase=\\\"'processing'\\\">\\n                    In Bearbeitung\\n                  </span>\\n                  <span class=\\\"text-success\\\" *ngSwitchCase=\\\"'completed'\\\">\\n                    Abgeschlossen\\n                  </span>\\n                  <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'canceled'\\\">\\n                    Storniert\\n                  </span>\\n                  <span *ngSwitchDefault>\\n                    {{ orderData.status }}\\n                  </span>\\n                </span>\\n              </ng-template>\\n            </div>\\n            <!-- Suborder List Component-->\\n            <app-suborder-list [orderId]=\\\"orderData.orderId\\\"></app-suborder-list>\\n          </ng-container>\\n        </ng-container>\\n\\n        <ng-template #loading>\\n          <div class=\\\"lds-ring\\\">\\n            <div></div>\\n            <div></div>\\n            <div></div>\\n            <div></div>\\n          </div>\\n        </ng-template>\\n      </div>\\n    </div>\\n\\n\\n    <!-- Only added detailed comments to the customer for now, as we might create a generic component -->\\n\\n    <!-- Dienstleister Content -->\\n    <div *ngIf=\\\"user.role === 'Dienstleister'\\\">\\n      <app-suborder-list></app-suborder-list>\\n    </div>\\n\\n    <!-- Administrator Content -->\\n    <div *ngIf=\\\"user.role === 'Administrator'\\\">\\n\\n      <!-- Default: Show all orders, filter this later, or allow filtering by the user -->\\n      <div *ngIf=\\\"state === 'default'\\\">\\n        <div class=\\\"shadow card cgrid\\\">\\n          <div class=\\\"card-header\\\">\\n            <h5 class=\\\"mb-0\\\">Alle Aufträge </h5>\\n          </div>\\n          <div class=\\\"card-body\\\">\\n            <div class=\\\"table-responsive\\\">\\n              <table class=\\\"table table-striped table-sm\\\">\\n                <thead>\\n                  <tr>\\n                    <th>Auftrag vom</th>\\n                    <th>Auftragsnummer</th>\\n                    <th>Immobilie</th>\\n                    <th>Region</th>\\n                    <th></th>\\n                    <th>Status</th>\\n                    <th></th>\\n                  </tr>\\n                </thead>\\n                <tbody>\\n                  <ng-container *ngIf=\\\"os.allOrders as orders; else loading\\\">\\n                    <ng-container *ngFor=\\\"let order of orders\\\">\\n                      <tr>\\n                        <td>{{ order.createdOn.toDate() | date: 'dd.MM.yy HH:mm'}}</td>\\n                        <td>{{ order.orderId }}</td>\\n                        <td>{{ order.Desc }}</td>\\n                        <td>{{ order.areaDesc }}</td>\\n                        <td>\\n                          <div *ngIf=\\\"order.adminActionRequired\\\"><i class=\\\"fas fa-exclamation-triangle text-danger\\\"></i>\\n                          </div>\\n                          <div><i *ngIf=\\\"!order.adminActionRequired\\\"\\n                              class=\\\"fas fa-check-circle text-success\\\">&nbsp;</i><i\\n                              *ngIf=\\\"order.status == 'completed' && !order.customerInvoiceName\\\"\\n                              class=\\\"fas fa-file-alt text-warning\\\"></i></div>\\n                        </td>\\n                        <td>\\n                          <ng-container *ngTemplateOutlet=\\\"orderStatus\\\"></ng-container>\\n                        </td>\\n                        <td>\\n                          <button class=\\\"btn btn-primary btn-sm align-self-center float-right\\\"\\n                            (click)=\\\"openDetailPage(order.orderId, order.realestateId, false, order.createdBy)\\\">Auftrag\\n                            bearbeiten</button>\\n                        </td>\\n                      </tr>\\n                      <ng-template #orderStatus>\\n                        <span [ngSwitch]=\\\"order.status\\\">\\n                          <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'opened'\\\">\\n                            Prüfung erforderlich\\n                          </span>\\n                          <span class=\\\"text-warning\\\" *ngSwitchCase=\\\"'checked'\\\">\\n                            In Vermittlung\\n                          </span>\\n                          <span class=\\\"text-warning\\\" *ngSwitchCase=\\\"'requested'\\\">\\n                            Zuweisungs-Anfrage\\n                          </span>\\n                          <span class=\\\"text-success\\\" *ngSwitchCase=\\\"'processing'\\\">\\n                            In Bearbeitung\\n                          </span>\\n                          <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'uploaded'\\\">\\n                            Nachbearbeitung erforderlich!\\n                          </span>\\n                          <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'canceled'\\\">\\n                            Storniert\\n                          </span>\\n                          <span class=\\\"text-success\\\" *ngSwitchCase=\\\"'completed'\\\">\\n                            Abgeschlossen\\n                          </span>\\n                          <span *ngSwitchDefault>\\n                            {{ order.status }}\\n                          </span>\\n                        </span>\\n                      </ng-template>\\n                    </ng-container>\\n                  </ng-container>\\n                </tbody>\\n              </table>\\n            </div>\\n          </div>\\n\\n\\n\\n        </div>\\n        <ng-template #loading>\\n          <div class=\\\"lds-ring\\\">\\n            <div></div>\\n            <div></div>\\n            <div></div>\\n            <div></div>\\n          </div>\\n        </ng-template>\\n      </div>\\n\\n      <!-- Detail-view:  -->\\n      <div *ngIf=\\\"state === 'detail-view'\\\">\\n        <ng-container *ngIf='currentRealestateData | async as realestate; else loading'>\\n          <ng-container *ngIf='currentOrderData | async as orderData; else loading'>\\n            <ng-container *ngIf=\\\"createdByPersonData | async as Kunde;\\\">\\n              <div class=\\\"shadow card fluid cgrid\\\">\\n                <div class=\\\"card-header\\\">\\n                  <button class=\\\"btn btn-sm btn-primary float-right\\\" (click)=\\\"state = 'default'\\\">Zurück</button>\\n                  <h5>Detailansicht\\n                  </h5>\\n                </div>\\n                <div class=\\\"card-body\\\">\\n                  <div class=\\\"row\\\">\\n                    <div class=\\\"col-12 col-md-6\\\">\\n                      <h5 class=\\\"card-title text-left wsn\\\">Auftrags-Details:</h5>\\n                      <p class=\\\"mb-1\\\"><strong>Erstellt am:</strong>\\n                        {{ orderData.createdOn.toDate() | date: 'dd.MM.yyyy HH:mm'}}</p>\\n\\n                      <p class=\\\"mb-4\\\">\\n                        <strong>Erstellt von:</strong> {{ Kunde.firstName }} {{ Kunde.lastName }} aus {{ Kunde.city }}\\n                        <br>\\n                        <strong>E-Mail:</strong> {{ Kunde.email }}\\n                        <br>\\n                        <strong>Telefon:</strong> {{ Kunde.phone }}\\n                        <br>\\n                        <strong>Erreichbarkeit:</strong> {{ Kunde.reachability }}\\n                        <br>\\n                        <i>UID: {{ orderData.createdBy }}</i>\\n                        <br>\\n                        <ng-container *ngIf=\\\"orderData.price\\\"><strong>Summe:</strong> {{orderData.price}} €\\n                        </ng-container>\\n                      </p>\\n                      <p><strong>Status:</strong>\\n                        <ng-container *ngTemplateOutlet=\\\"orderStatus\\\"></ng-container>\\n                      </p>\\n                    </div>\\n                    <div class=\\\"col-12 col-md-6\\\">\\n                      <h5 class=\\\"card-title text-left wsn\\\">Immobilien-Details:</h5>\\n                      <p><strong>Titel:</strong> {{ realestate.title }}</p>\\n                      <p *ngIf=\\\"realestate.objectNumber\\\"><strong>Objektnummer:</strong> {{ realestate.objectNumber }}\\n                      </p>\\n                      <p><strong>Adresse:</strong> {{ realestate.street }} {{ realestate.streetnumber }},\\n                        {{ realestate.postalcode }} {{realestate.city }}</p>\\n                      <p><i>Immobilien-ID: {{ realestate.id }}</i></p>\\n                      <!-- Start: Invoice -->\\n                      <hr />\\n                      <h5 class=\\\"card-title text-left wsn\\\">Rechnung:</h5>\\n                      <ng-container *ngIf=\\\"user.role === 'Administrator' && orderData.customerInvoiceUrl === undefined\\\"\\n                        class=\\\"mt-2\\\">\\n                        <!-- <h5 class=\\\"mb-2 font-weight-light\\\">Vertragliche Vereinbarung</h5> -->\\n                        <!-- Don't show upload fields while uploading -->\\n                        <div class=\\\"custom-file\\\" *ngIf=\\\"uploading === false; else loading\\\">\\n                          <div class=\\\"form-group\\\">\\n                            <label class=\\\"fileContainer btn btn-dark btn-sm text-white\\\">\\n                              Datei hochladen\\n                              <input type=\\\"file\\\" class=\\\"alert alert-info initial-file\\\"\\n                                (change)=\\\"uploadToOrder($event, orderData.orderId)\\\">\\n                            </label>\\n                          </div>\\n                        </div>\\n                        <ng-container *ngIf=\\\"uploading\\\">\\n                          <ng-container *ngTemplateOutlet=\\\"spinner\\\"></ng-container>\\n                        </ng-container>\\n                      </ng-container>\\n                      <ng-container *ngIf=\\\"orderData.customerInvoiceUrl && orderData.customerInvoiceName\\\">\\n                        <a class=\\\"my-link\\\" href=\\\"{{ orderData.customerInvoiceUrl }}\\\" target=\\\"_blank\\\"\\n                          rel=\\\"noopener\\\">{{orderData.customerInvoiceName}}</a>\\n                        <span> - </span><a style=\\\"color: #dc3545;\\\" href=\\\"javascript:void(0);\\\"\\n                          (click)=\\\"deleteFile(orderData.orderId, 'customerInvoiceUrl', orderData.customerInvoiceName)\\\">löschen</a>\\n                      </ng-container>\\n                      <!-- End: Invoice -->\\n                    </div>\\n\\n                  </div>\\n                  <!-- Show different additional things (buttons, uploaded materials, upload fields) to the content depending on the order status -->\\n                  <ng-container *ngTemplateOutlet=\\\"orderDynPart\\\"></ng-container>\\n                  <ng-template #orderDynPart>\\n                    <span [ngSwitch]=\\\"orderData.status\\\">\\n                      <span *ngSwitchCase=\\\"'opened'\\\">\\n                        <button class=\\\"btn btn-warning mt-2 mr-2\\\"\\n                          (click)=\\\"os.setStatusChecked(orderData.orderId)\\\">Geprüft</button>\\n                        <ng-container *ngTemplateOutlet=\\\"adminDeleteButton\\\"></ng-container>\\n                      </span>\\n                      <span *ngSwitchCase=\\\"'checked'\\\">\\n                        <ng-container *ngTemplateOutlet=\\\"adminDeleteButton\\\"></ng-container>\\n                      </span>\\n                      <!-- <span *ngSwitchCase=\\\"'requested'\\\">\\n                        <button class=\\\"btn btn-warning mt-2 mr-2\\\" [disabled]=\\\"!orderData.status === 'requested'\\\"\\n                          (click)=\\\"os.acceptOrder(orderData.orderId)\\\">Zuteilen</button>\\n                        <ng-container *ngTemplateOutlet=\\\"adminDeleteButton\\\"></ng-container>\\n                      </span> -->\\n                      <span *ngSwitchCase=\\\"'processing'\\\">\\n                        <ng-container *ngTemplateOutlet=\\\"adminDeleteButton\\\"></ng-container>\\n                      </span>\\n                      <!-- <span *ngSwitchCase=\\\"'uploaded'\\\">\\n                        <ng-container *ngTemplateOutlet=\\\"adminDeleteButton\\\"></ng-container>\\n                      </span> -->\\n                      <span *ngSwitchCase=\\\"'completed'\\\">\\n                      </span>\\n                      <span *ngSwitchCase=\\\"'caceled'\\\">\\n                        <ng-container *ngTemplateOutlet=\\\"adminDeleteButton\\\"></ng-container>\\n                      </span>\\n                      <span *ngSwitchDefault>\\n                        <ng-container *ngTemplateOutlet=\\\"adminDeleteButton\\\"></ng-container>\\n                      </span>\\n                    </span>\\n                  </ng-template>\\n                </div>\\n              </div>\\n              <app-suborder-list [orderId]=\\\"orderData.orderId\\\"></app-suborder-list>\\n\\n\\n              <ng-template #orderStatus>\\n                <span [ngSwitch]=\\\"orderData.status\\\">\\n                  <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'opened'\\\">\\n                    Prüfung erforderlich\\n                  </span>\\n                  <span class=\\\"text-success\\\" *ngSwitchCase=\\\"'checked'\\\">\\n                    In Vermittlung\\n                  </span>\\n                  <span class=\\\"text-warning\\\" *ngSwitchCase=\\\"'requested'\\\">\\n                    Zuweisungs-Anfrage\\n                  </span>\\n                  <span class=\\\"text-success\\\" *ngSwitchCase=\\\"'processing'\\\">\\n                    In Bearbeitung\\n                  </span>\\n                  <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'uploaded'\\\">\\n                    Nachbearbeitung erforderlich!\\n                  </span>\\n                  <span *ngSwitchCase=\\\"'completed'\\\">\\n                    <span class=\\\"text-success\\\">Abgeschlossen</span>\\n                    <br>\\n                  </span>\\n                  <span *ngSwitchDefault>\\n                    {{ orderData.status }}\\n                  </span>\\n                </span>\\n              </ng-template>\\n              <ng-template #adminDeleteButton>\\n                <button class=\\\"btn btn-danger mt-2 mr-2\\\"\\n                  (click)=\\\"deleteOrder(orderData.orderId, realestate.id)\\\">Löschen</button>\\n              </ng-template>\\n            </ng-container>\\n          </ng-container>\\n        </ng-container>\\n        <ng-template #loading>\\n          <div class=\\\"lds-ring\\\">\\n            <div></div>\\n            <div></div>\\n            <div></div>\\n            <div></div>\\n          </div>\\n        </ng-template>\\n      </div>\\n    </div>\\n\\n  </ng-container>\\n\\n  <!-- Telling the user to complete his profile to see this page  -->\\n  <ng-template #notCompleted>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-12\\\">\\n        <div class=\\\"shadow card cgrid\\\">\\n          <div class=\\\"card-header\\\">\\n            <h5 class=\\\"mb-0\\\">\\n              <h3 class=\\\"card-title text-left b wsn nomarbot\\\">Achtung</h3>\\n            </h5>\\n          </div>\\n          <div class=\\\"card-body\\\">\\n            <p class=\\\"card-text\\\" style=\\\"color: #dc3545;\\\"><strong>Sie haben Ihre Profil-Daten noch nicht eingepflegt,\\n                daher ist diese Seite noch gesperrt.</strong></p>\\n            <p class=\\\"card-text mb-0\\\">Sollten Sie Hilfe beim Einpflegen Ihrer Daten benötigen können Sie uns gerne\\n              kontaktieren!</p>\\n            <a class=\\\"my-link\\\"\\n              href=\\\"mailto:kontakt@imogent.com?subject=Problem%20beim%20Daten%20einpflegen\\\">Kontaktieren</a>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </ng-template>\\n\\n</ng-container>\\n\\n<ng-template #loading>\\n  <!-- CSS Loading Spinner -->\\n  <div class=\\\"lds-ring ring-default\\\">\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n  </div>\\n</ng-template>\\n\\n<ng-template #loadingSmall>\\n  <!-- CSS Loading Spinner small -->\\n  <div class=\\\"lds-ring ring-small\\\">\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n  </div>\\n</ng-template>\\n\\n<!-- Alert: Successfully saved -->\\n<div *ngIf=\\\"success\\\" class=\\\"alert alert-success float-right\\\" style=\\\"position: absolute; right: 0.5em; bottom: 0.5em;\\\">\\n  Erfolgreich gespeichert!\\n</div>\\n<ng-template #spinner>\\n  <div class=\\\"spinner-border text-secondary\\\" role=\\\"status\\\">\\n    <span class=\\\"sr-only\\\">Loading...</span>\\n  </div>\\n</ng-template>\"","import { Component, OnInit } from '@angular/core';\nimport { RealestateService } from 'src/app/_services/realestate.service';\nimport { OrdersService } from '@app/_services/orders.service';\nimport { LoaderService } from '@app/_services/loader.service';\nimport { UploadService } from '@app/_services/upload.service';\nimport { Observable } from 'rxjs';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AuthService } from '@app/auth/auth.service';\nimport * as firebase from 'firebase/app';\nimport { AngularFireStorage } from '@angular/fire/storage';\n\n@Component({\n  selector: 'app-orderoverview',\n  templateUrl: './orderoverview.component.html',\n  styleUrls: ['./orderoverview.component.css']\n})\nexport class OrderoverviewComponent implements OnInit {\n  createdByPersonData: any;\n  createdByKundeData: any;\n  state: string;\n  currentRealestateData: Observable<any>;\n  currentOrderData: any;\n  userRef: any;\n  success = false;\n  photoUploadForm: FormGroup;\n  uploading = false;\n  error = false;\n  suborder_state: string;\n\n  constructor(public realestateservice: RealestateService,\n    private os: OrdersService,\n    public auth: AuthService,\n    private fb: FormBuilder,\n    private uploadService: UploadService,\n    private afs: AngularFirestore,\n    public loader: LoaderService,\n    private afStorage: AngularFireStorage, ) {\n    this.photoUploadForm = this.fb.group({\n      photoLink: ['', [\n        Validators.required,\n        Validators.pattern('^(http|https|ftp)\\://[a-zA-Z0-9\\-\\.]+\\.[a-zA-Z]{2,3}(:[a-zA-Z0-9]*)?/?([a-zA-Z0-9\\-\\._\\?\\,\\'/\\\\\\+&amp;%\\$#\\=~])*[^\\.\\,\\)\\(\\s]$')\n      ]]\n    });\n  }\n\n  ngOnInit() {\n    const user = JSON.parse(sessionStorage.getItem('user'));\n    this.userRef = user.uid;\n    this.state = 'default';\n    this.suborder_state = 'list-view';\n  }\n\n  get photoLink() {\n    return this.photoUploadForm.get('photoLink');\n  }\n\n  /**\n   *\n   * Gets triggered when order detail button is clicked\n   * Shows the details of the order and set the component state according to user role\n   */\n  openDetailPage(orderIdParam: string, ridParam: string, myornotParam: boolean, creatorId?: any) {\n    this.currentRealestateData = this.os.getRealestateDetails(ridParam);\n    this.currentOrderData = this.os.getOrderDetails(orderIdParam);\n    if (creatorId === undefined) {\n      // do nothing when creatorId is undefined\n    } else {\n      this.createdByPersonData = this.os.getCreatorDetails(creatorId);\n    }\n\n    if (myornotParam) {\n      this.state = 'my-detail-view';\n    } else {\n      this.state = 'detail-view';\n    }\n  }\n\n\n  /**\n   * Admin can delete an order. Delete the order document and update the realestate \n   */\n  async deleteOrder(oidParam: string, ridParam: string) {\n    const confirmed = confirm('Möchten Sie den Auftrag wirklich löschen? Diese Aktion kann nicht rückgängig gemacht werden!');\n    if (confirmed) {\n      try {\n        await this.os.deleteOrder(oidParam, ridParam);\n        this.success = true;\n        setTimeout(() => {\n          this.state = 'default';\n          this.success = false;\n        },\n          600);\n      } catch (e) {\n        console.error(e);\n        this.success = false;\n        this.error = true;\n      }\n    } else {\n      alert('Löschvorgang abgebrochen!');\n    }\n  }\n\n  /**\n * Customer can cancel an order. Status of order and suborders will be changed to 'canceled'\n */\n  async cancelOrder(oidParam: string) {\n    const confirmed = confirm('Möchten Sie den Auftrag wirklich stornieren? Diese Aktion kann nicht rückgängig gemacht werden!');\n    if (confirmed) {\n      try {\n        await this.os.cancelOrder(oidParam);\n        this.success = true;\n        setTimeout(() => {\n          this.state = 'default';\n          this.success = false;\n        },\n          600);\n      } catch (e) {\n        console.error(e);\n        this.success = false;\n        this.error = true;\n      }\n    } else {\n      alert('Stornierung abgebrochen!');\n    }\n  }\n\n  /**\n   * Saves the information that both parties have been notified via E-Mail by an Admin as\n   * a property inside the order database entry. This property will later be used to hide the buttons\n   * so different Admins or the same Admin will not notify the customer & pilot again.\n   */\n  async saveNotificationStatusChange(oidParam: string) {\n    this.os.changeOrder(oidParam, 'notifcationSent', true);\n  }\n\n  /**\n   * Gets triggered when service provider completes uploading all the photos and marks the order as complete\n   */\n  async uploadOrder(oidParam: string) {\n    try {\n      await this.os.setStatusUploaded(oidParam);\n      setTimeout(() => {\n        this.state = 'default';\n      },\n        600);\n    } catch (e) {\n      console.error(e);\n      this.error = true;\n    }\n\n  }\n  /**\n   * Gets triggered when admin finishes the post processing and marks the oder as complete after uploading all the files.\n   */\n  async completeOrder(oidParam: string, ridParam: string) {\n    const confirmed = confirm('Sind Sie sicher, dass Sie den Auftrag abschließen wollen? Diese Aktion kann nicht rückgängig gemacht werden. Dem Kunde wird der abgeschlossene Auftrag sofort angezeigt.');\n    if (confirmed) {\n      try {\n        await this.os.setStatusCompleted(oidParam, ridParam);\n        this.success = true;\n        setTimeout(() => {\n          this.state = 'default';\n          this.success = false;\n        },\n          600);\n      } catch (e) {\n        console.error(e);\n        this.success = false;\n        this.error = true;\n      }\n    } else {\n      alert('Löschvorgang abgebrochen!');\n    }\n  }\n\n\n  /**\n   * Gets triggered when service provider uploads a photo to an order\n   */\n  async uploadBild(event, orderid: string, nameParam: string) {\n    const filename = event.target.files[0].name;\n    this.uploading = true;\n    // Upload the file to firestore storage\n    await this.uploadService.uploadToOrder(event, orderid, filename);\n    const downloadURL = this.uploadService.downloadURL;\n    // update the uploaded file url in orders document\n    await this.afs.collection('orders').doc(orderid).update({\n      [nameParam]: downloadURL\n    });\n    this.uploading = false;\n    this.success = true;\n    setTimeout(() => {\n      this.success = false;\n    },\n      2000);\n  }\n\n  /**\n * Gets triggered when administrator uploads a file to the order (e.g invoice)\n * Uploads the file to firebase storage and updates the url in order document\n */\n  async uploadToOrder(event, orderId: string) {\n    this.uploading = true;\n    await this.uploadService.uploadToOrder(event, orderId, event.target.files[0].name);\n    const downloadURL = this.uploadService.downloadURL;\n    await this.afs.collection('orders').doc(orderId).update({\n      customerInvoiceUrl: downloadURL,\n      customerInvoiceName: event.target.files[0].name\n    });\n    this.uploading = false;\n  }\n\n  /**\n   * Delete a document from the order\n   */\n  deleteFile(orderId: string, urlField: string, fileName: string) {\n    const confirmed = confirm('Sind Sie sicher, dass Sie dieses Dokument löschen möchten?');\n    if (confirmed) {\n      if (urlField === 'customerInvoiceUrl') {\n        // delete file reference from order document\n        return this.afs.collection('orders').doc(orderId).update({\n          customerInvoiceUrl: firebase.firestore.FieldValue.delete(),\n          customerInvoiceName: firebase.firestore.FieldValue.delete()\n        }).then(() => {\n          // delete file from storage\n          this.afStorage.ref(`orders/${orderId}/${fileName}`).delete();\n        })\n          .catch(error => console.log(error));\n      }\n    }\n  }\n\n}\n","module.exports = \".container-fluid.shadow.rounded {\\n    padding-top: 0.5%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFja2FnZS1saXN0L3BhY2thZ2UtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUJBQWlCO0FBQ3JCIiwiZmlsZSI6InNyYy9hcHAvcGFja2FnZS1saXN0L3BhY2thZ2UtbGlzdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1mbHVpZC5zaGFkb3cucm91bmRlZCB7XG4gICAgcGFkZGluZy10b3A6IDAuNSU7XG59Il19 */\"","module.exports = \"<!-- Container for multiple packages -->\\n<!-- <div class=\\\"container-fluid shadow rounded\\\"> -->\\n<!-- <h4 class=\\\"text-white\\\">{{serviceLabel}}</h4> -->\\n<!-- <div class=\\\"card-deck mb-3 text-center\\\"> -->\\n<!-- Loop the packages and render them all as individual components -->\\n<div class=\\\"container-fluid row\\\">\\n    <div *ngFor=\\\"let j of packages\\\" class=\\\"col-12 col-sm-6 col-md-4 col-lg-3\\\">\\n        <!-- <div class=\\\"card mb-4 shadow\\\">\\n                            <app-package [package]=\\\"j\\\" [servicesComponent]=\\\"servicesComponent\\\"></app-package>\\n                        </div> -->\\n        <div class=\\\"cards\\\">\\n            <div class=\\\"card card-pricing card-raised\\\">\\n                <div class=\\\"card-body\\\">\\n                    <app-package [package]=\\\"j\\\" [servicesComponent]=\\\"servicesComponent\\\"></app-package>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<!-- </div> -->\\n<!-- </div> -->\"","import { Component, OnInit, Input } from '@angular/core';\nimport {Package} from '../models/package';\nimport { ServicesComponent } from '@app/services/services.component';\n\n@Component({\n  selector: 'app-package-list',\n  templateUrl: './package-list.component.html',\n  styleUrls: ['./package-list.component.css']\n})\nexport class PackageListComponent implements OnInit {\n  @Input() packages: Package[]; // package list to render\n  @Input() serviceLabel: string; // label for the list\n  @Input() servicesComponent: ServicesComponent; // reference of the parent services component\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"label {\\n  color: #50535b;\\n}\\n\\n.package-image {\\n  /* width: 150px;\\n  height: 150px; */\\n}\\n\\nul li {\\n  padding: 0;\\n  border: none;\\n  color: #3C4858;\\n}\\n\\n.package {\\n  cursor: pointer;\\n  border: 2px solid #FFF;\\n  border-radius: 6px;\\n}\\n\\n.selected-service, .selected-package {\\n  border: 2px solid #22bca4;\\n}\\n\\n.cards {\\n  height: 100%;\\n}\\n\\n.package-cards {\\n  /* height: 87% !important; */\\n}\\n\\n.cards .card {\\n  height: 90%;\\n}\\n\\n.cards .selected-tick {\\n  position: absolute;\\n  top: 32px;\\n  right: 17px;\\n}\\n\\n.cards .selected-tick::before, .cards .selected-tick::after {\\n  content: '';\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  border-color: transparent;\\n  border-style: solid;\\n}\\n\\n.cards .selected-tick::after {\\n  border-width: 1.35em;\\n  border-right-color: #22bca4;\\n  border-top-color: #22bca4;\\n}\\n\\n.cards .tick-icon {\\n  position: absolute;\\n  top: 36px;\\n  right: 23px;\\n  color: #FFF;\\n}\\n\\n.disabled-service {\\n  background: rgba(222, 222, 222, 0.5);\\n  border: 2px solid #BBB;\\n}\\n\\n.grayscale {\\n  filter: url(\\\"data:image/svg+xml;utf8,<svg xmlns=\\\\'http://www.w3.org/2000/svg\\\\'><filter id=\\\\'grayscale\\\\'><feColorMatrix type=\\\\'matrix\\\\' values=\\\\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\\\\'/></filter></svg>#grayscale\\\");\\n  /* Firefox 3.5+ */\\n  filter: gray;\\n  /* IE6-9 */\\n  -webkit-filter: grayscale(100%) !important;\\n  /* Chrome 19+ & Safari 6+ */\\n}\\n\\n.grayscale:hover {\\n  filter: none;\\n  -webkit-filter: grayscale(0%) !important;\\n}\\n\\n.card-pricing .card-body {\\n  padding: 5px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFja2FnZS9wYWNrYWdlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0U7a0JBQ2dCO0FBQ2xCOztBQUVBO0VBQ0UsVUFBVTtFQUNWLFlBQVk7RUFDWixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLHNCQUFzQjtFQUN0QixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSw0QkFBNEI7QUFDOUI7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsU0FBUztFQUNULFdBQVc7QUFDYjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLFFBQVE7RUFDUix5QkFBeUI7RUFDekIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0Usb0JBQW9CO0VBQ3BCLDJCQUEyQjtFQUMzQix5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsU0FBUztFQUNULFdBQVc7RUFDWCxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxvQ0FBb0M7RUFDcEMsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UsbVFBQW1RO0VBQ25RLGlCQUFpQjtFQUNqQixZQUFZO0VBQ1osVUFBVTtFQUNWLDBDQUEwQztFQUMxQywyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRSxZQUFZO0VBQ1osd0NBQXdDO0FBQzFDOztBQUVBO0VBQ0UsdUJBQXVCO0FBQ3pCIiwiZmlsZSI6InNyYy9hcHAvcGFja2FnZS9wYWNrYWdlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJsYWJlbCB7XG4gIGNvbG9yOiAjNTA1MzViO1xufVxuXG4ucGFja2FnZS1pbWFnZSB7XG4gIC8qIHdpZHRoOiAxNTBweDtcbiAgaGVpZ2h0OiAxNTBweDsgKi9cbn1cblxudWwgbGkge1xuICBwYWRkaW5nOiAwO1xuICBib3JkZXI6IG5vbmU7XG4gIGNvbG9yOiAjM0M0ODU4O1xufVxuXG4ucGFja2FnZSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm9yZGVyOiAycHggc29saWQgI0ZGRjtcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xufVxuXG4uc2VsZWN0ZWQtc2VydmljZSwgLnNlbGVjdGVkLXBhY2thZ2Uge1xuICBib3JkZXI6IDJweCBzb2xpZCAjMjJiY2E0O1xufVxuXG4uY2FyZHMge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5wYWNrYWdlLWNhcmRzIHtcbiAgLyogaGVpZ2h0OiA4NyUgIWltcG9ydGFudDsgKi9cbn1cblxuLmNhcmRzIC5jYXJkIHtcbiAgaGVpZ2h0OiA5MCU7XG59XG5cbi5jYXJkcyAuc2VsZWN0ZWQtdGljayB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAzMnB4O1xuICByaWdodDogMTdweDtcbn1cblxuLmNhcmRzIC5zZWxlY3RlZC10aWNrOjpiZWZvcmUsIC5jYXJkcyAuc2VsZWN0ZWQtdGljazo6YWZ0ZXIge1xuICBjb250ZW50OiAnJztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xuICBib3JkZXItc3R5bGU6IHNvbGlkO1xufVxuXG4uY2FyZHMgLnNlbGVjdGVkLXRpY2s6OmFmdGVyIHtcbiAgYm9yZGVyLXdpZHRoOiAxLjM1ZW07XG4gIGJvcmRlci1yaWdodC1jb2xvcjogIzIyYmNhNDtcbiAgYm9yZGVyLXRvcC1jb2xvcjogIzIyYmNhNDtcbn1cblxuLmNhcmRzIC50aWNrLWljb24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMzZweDtcbiAgcmlnaHQ6IDIzcHg7XG4gIGNvbG9yOiAjRkZGO1xufVxuXG4uZGlzYWJsZWQtc2VydmljZSB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjIyLCAyMjIsIDIyMiwgMC41KTtcbiAgYm9yZGVyOiAycHggc29saWQgI0JCQjtcbn1cblxuLmdyYXlzY2FsZSB7XG4gIGZpbHRlcjogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsPHN2ZyB4bWxucz1cXCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcJz48ZmlsdGVyIGlkPVxcJ2dyYXlzY2FsZVxcJz48ZmVDb2xvck1hdHJpeCB0eXBlPVxcJ21hdHJpeFxcJyB2YWx1ZXM9XFwnMC4zMzMzIDAuMzMzMyAwLjMzMzMgMCAwIDAuMzMzMyAwLjMzMzMgMC4zMzMzIDAgMCAwLjMzMzMgMC4zMzMzIDAuMzMzMyAwIDAgMCAwIDAgMSAwXFwnLz48L2ZpbHRlcj48L3N2Zz4jZ3JheXNjYWxlXCIpO1xuICAvKiBGaXJlZm94IDMuNSsgKi9cbiAgZmlsdGVyOiBncmF5O1xuICAvKiBJRTYtOSAqL1xuICAtd2Via2l0LWZpbHRlcjogZ3JheXNjYWxlKDEwMCUpICFpbXBvcnRhbnQ7XG4gIC8qIENocm9tZSAxOSsgJiBTYWZhcmkgNisgKi9cbn1cblxuLmdyYXlzY2FsZTpob3ZlciB7XG4gIGZpbHRlcjogbm9uZTtcbiAgLXdlYmtpdC1maWx0ZXI6IGdyYXlzY2FsZSgwJSkgIWltcG9ydGFudDtcbn1cblxuLmNhcmQtcHJpY2luZyAuY2FyZC1ib2R5IHtcbiAgcGFkZGluZzogNXB4ICFpbXBvcnRhbnQ7XG59Il19 */\"","module.exports = \"<div class=\\\"cards\\\" [ngClass]=\\\"{\\n  'package-cards' : servicesComponent.state === '3'\\n  }\\\">\\n  <div class=\\\"card card-pricing card-raised package\\\" (click)=\\\"packageSelectHandler(package, $event)\\\" [ngClass]=\\\"{\\n    'selected-service': servicesComponent.state === '1' && servicesComponent.selectedServices.indexOf(package.service_key) >= 0 && package.disabled === false,\\n    'selected-package': servicesComponent.state === '3' && servicesComponent.selectedPackages.indexOf(package.package_key) >= 0,\\n    'disabled-service': package.disabled === true\\n  }\\\">\\n    <div class=\\\"card-body\\\">\\n      <ngb-carousel [showNavigationArrows]=\\\"false\\\" [showNavigationIndicators]=\\\"false\\\">\\n        <ng-template *ngFor=\\\"let image of package.package_images\\\" ngbSlide>\\n          <img class=\\\"card-img-top package-image\\\" src=\\\"../../assets/images/{{image}}\\\" alt=\\\"Random first slide\\\">\\n        </ng-template>\\n      </ngb-carousel>\\n      <div class=\\\"card-body\\\">\\n        <ng-container *ngIf=\\\"servicesComponent.state === '3' && package.price !== '0,00'\\\">\\n          <h4 class=\\\"card-title\\\">\\n            {{package.name}}\\n          </h4>\\n          <h5 class=\\\"mb-0\\\"><b *ngIf=\\\"package.price_pre_text\\\">{{package.price_pre_text}} </b><b>{{package.price}}€</b>\\n          </h5>\\n          <p *ngIf=\\\"package.price_note\\\"><small class=\\\"text-muted\\\">{{package.price_note}}</small></p>\\n        </ng-container>\\n        <ng-container *ngIf=\\\"servicesComponent.state === '3' && package.price === '0,00'\\\">\\n          <h4 class=\\\"card-title\\\">\\n            {{package.name}}\\n          </h4>\\n        </ng-container>\\n        <ng-container *ngIf=\\\"servicesComponent.state !== '3'\\\">\\n          <h4 class=\\\"card-title\\\">\\n            {{package.title}}\\n          </h4>\\n          <!-- <p class=\\\"card-title\\\" *ngIf=\\\"servicesComponent.state !== '3' && package.disabled === true\\\">\\n            Bald verfügbar\\n          </p> -->\\n        </ng-container>\\n      </div>\\n    </div>\\n  </div>\\n  <ng-container\\n    *ngIf=\\\"(servicesComponent.state === '1' && servicesComponent.selectedServices.indexOf(package.service_key) >= 0) || (servicesComponent.state === '3' && servicesComponent.selectedPackages.indexOf(package.package_key) >= 0)\\\">\\n    <div class=\\\"selected-tick\\\">\\n    </div>\\n    <i class=\\\"fa fa-check tick-icon\\\"></i>\\n  </ng-container>\\n</div>\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Package } from '../models/package';\nimport { ServicesComponent } from '@app/services/services.component';\n\nimport { MatDialog } from '@angular/material';\nimport { PackageEditorComponent } from '@app/modals/package-editor/package-editor.component';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { ConfigurationService } from '@app/_services/configuration.service';\nimport { UsersService } from '@app/_services/users.service';\n\n@Component({\n  selector: 'app-package',\n  templateUrl: './package.component.html',\n  styleUrls: ['./package.component.css']\n})\nexport class PackageComponent implements OnInit {\n\n  @Input('package') package: Package;\n  @Input() servicesComponent: ServicesComponent; // reference of the parent services component\n  @Input() selectedPackages: Package[] = [];\n  @Input() selectedServices: string[] = [];\n  success: boolean;\n\n  constructor(\n    public dialog: MatDialog,\n    private afs: AngularFirestore,\n    public conf: ConfigurationService,\n    private userService: UsersService\n  ) { }\n\n  ngOnInit() {\n    // console.log(this.servicesComponent.selectedPackages);\n  }\n\n  async packageSelectHandler(service, event) {\n    // if the package is selected, insert in array only if it not already exists\n    /* if (event.target.checked && !this.servicesComponent.selectedPackages.includes(option)) {\n      this.servicesComponent.selectedPackages.push(option);\n    } else if (!event.target.checked && this.servicesComponent.selectedPackages.includes(option)) {\n      // remove from array if unchecked\n      this.servicesComponent.selectedPackages.splice(this.servicesComponent.selectedPackages.indexOf(option), 1);\n    } */\n    let option = service.service_key;\n    if (!service.disabled) {\n      if (this.servicesComponent.state === '3') {\n        if (this.servicesComponent.selectedPackages.indexOf(service.package_key) < 0) {\n          this.servicesComponent.selectedPackages.push(service.package_key);\n        } else {\n          this.servicesComponent.selectedPackages.splice(this.servicesComponent.selectedPackages.indexOf(service.package_key), 1);\n        }\n        this.servicesComponent.packageSelectHandler();\n        return;\n      }\n      if (this.servicesComponent.selectedServices.indexOf(option) < 0) {\n        this.servicesComponent.selectedServices.push(option);\n        this.servicesComponent.cartItems.push(this.servicesComponent.availablePackages.filter(service => service.service_key === option)[0]);\n      } else {\n        let i = 0;\n        for (; i < this.servicesComponent.cartItems.length; i++) {\n          if (this.servicesComponent.cartItems[i].service_key === option) {\n            break;\n          }\n        }\n        this.servicesComponent.selectedServices.splice(this.servicesComponent.selectedServices.indexOf(option), 1);\n        this.servicesComponent.cartItems.splice(i, 1);\n      }\n      this.userService.cartItems = this.servicesComponent.cartItems;\n      this.userService.selectedServices = this.servicesComponent.selectedServices;\n    } else {\n      try {\n        let updateDisabledServices = {};\n        if (this.conf.disabledServices[service.title]) {\n          updateDisabledServices[service.title] = this.conf.disabledServices[service.title] + 1;\n        } else {\n          updateDisabledServices[service.title] = 1;\n        }\n        await this.afs.collection('configuration').doc('Lt8fpXKYGVNy6qjpi0hU/').update(updateDisabledServices);\n        this.success = true;\n        setTimeout(() => {\n          this.success = false;\n        },\n          1500);\n      } catch (err) {\n        console.error(err);\n      }\n    }\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BheW1lbnRzL3BheW1lbnRzLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<!-- Page-Content -->\\n<ng-container *ngIf=\\\"auth.myUserObservable as user; else loading\\\">\\n  <div class=\\\"shadow card cgrid\\\">\\n    <div class=\\\"card-header\\\">\\n      <h5 class=\\\"mb-0\\\">Alle Aufträge </h5>\\n    </div>\\n    <div class=\\\"card-body\\\">\\n      <div class=\\\"table-responsive\\\">\\n\\n        <!-- Administrator Content -->\\n        <div *ngIf=\\\"user.role === 'Administrator'\\\">\\n          <ng-container *ngIf=\\\"os.allOrders as orders; else noOrders\\\">\\n            <table class=\\\"table table-striped table-sm\\\">\\n              <thead>\\n                <tr>\\n                  <th>Auftrag vom</th>\\n                  <th>Auftragsnummer</th>\\n                  <th>Region</th>\\n                  <th></th>\\n                </tr>\\n              </thead>\\n              <tbody>\\n                <ng-container *ngFor=\\\"let order of orders\\\">\\n                  <tr *ngIf=\\\"order.customerInvoiceName\\\">\\n                    <td>{{ order.createdOn.toDate() | date: 'dd.MM.yy HH:mm'}}</td>\\n                    <td>{{ order.orderId }}</td>\\n                    <td>{{ order.areaDesc }}</td>\\n                    <td>\\n                      <a class=\\\"btn btn-primary  btn-sm align-self-center float-right\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\\n                        href=\\\"{{order.customerInvoiceUrl}}\\\">\\n                        <i class=\\\"far fa-file-pdf\\\"></i> - Download\\n                      </a>\\n                    </td>\\n                  </tr>\\n                </ng-container>\\n              </tbody>\\n            </table>\\n          </ng-container>\\n        </div>\\n\\n        <!-- Customer Content -->\\n        <div *ngIf=\\\"user.role === 'Kunde'\\\">\\n          <ng-container *ngIf=\\\"os.myCreatedOrders as orders; else noOrders\\\">\\n            <table class=\\\"table table-striped table-sm\\\">\\n              <thead>\\n                <tr>\\n                  <th>Auftrag vom</th>\\n                  <th>Auftragsnummer</th>\\n                  <th>Region</th>\\n                  <th></th>\\n                </tr>\\n              </thead>\\n              <tbody>\\n                <ng-container *ngFor=\\\"let order of orders\\\">\\n                  <tr *ngIf=\\\"order.customerInvoiceName\\\">\\n                    <td>{{ order.createdOn.toDate() | date: 'dd.MM.yy HH:mm'}}</td>\\n                    <td>{{ order.orderId }}</td>\\n                    <td>{{ order.areaDesc }}</td>\\n                    <td>\\n                      <a class=\\\"btn btn-primary  btn-sm align-self-center float-right\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\\n                        href=\\\"{{order.customerInvoiceUrl}}\\\">\\n                        <i class=\\\"far fa-file-pdf\\\"></i> - Download\\n                      </a>\\n                    </td>\\n                  </tr>\\n                </ng-container>\\n              </tbody>\\n            </table>\\n          </ng-container>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</ng-container>\\n<ng-template #loading>\\n  <!-- CSS Loading Spinner -->\\n  <div class=\\\"lds-ring ring-default centered\\\">\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n  </div>\\n</ng-template>\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '@app/auth/auth.service';\nimport { OrdersService } from '@app/_services/orders.service';\n\n@Component({\n  selector: 'app-payments',\n  templateUrl: './payments.component.html',\n  styleUrls: ['./payments.component.css']\n})\nexport class PaymentsComponent implements OnInit {\n\n  userRef: any;\n\n  constructor(\n    public auth: AuthService,\n    private os: OrdersService) { }\n\n  ngOnInit() {\n  }\n\n}\n","export * from './profile.component';\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Byb2ZpbGUvcHJvZmlsZS5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<!-- Page-Content -->\\n<ng-container *ngIf=\\\"authService.myUserObservable as user; else loading\\\">\\n  <div class=\\\"shadow card cgrid\\\">\\n    <div class=\\\"card-body\\\">\\n      <form *ngIf=\\\"authService.emailVerified === true\\\" [formGroup]=\\\"profileForm\\\" (ngSubmit)=\\\"submitHandler()\\\">\\n        <div *ngIf=\\\"user.role === 'Kunde'\\\" class=\\\"row\\\">\\n          <div class=\\\"col-6 col-lg-4\\\">\\n            <div class=\\\"form-group mt-4\\\">\\n              <p class=\\\"mb-0\\\">Unternehmensname:</p>\\n              <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Unternehmen\\\" formControlName=\\\"company\\\">\\n            </div>\\n          </div>\\n          <div class=\\\"col-6 col-lg-4\\\">\\n            <div class=\\\"form-group mt-4\\\">\\n              <p class=\\\"mb-0\\\">USt-ID:</p>\\n              <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Ust-ID\\\" formControlName=\\\"ustid\\\">\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-6 col-lg-4\\\">\\n            <div class=\\\"form-group mt-4\\\">\\n              <p class=\\\"mb-0\\\">Vorname <span class=\\\"text-danger\\\">*</span>:</p>\\n              <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Vorname\\\" formControlName=\\\"firstName\\\">\\n            </div>\\n            <!-- Form Verification Error -->\\n            <div *ngIf=\\\"firstName.invalid && firstName.touched\\\" class=\\\"alert alert-warning\\\">\\n              Bitte geben Sie einen gültigen Vornamen an!\\n            </div>\\n          </div>\\n          <div class=\\\"col-6 col-lg-4\\\">\\n            <div class=\\\"form-group mt-4\\\">\\n              <p class=\\\"mb-0\\\">Nachname <span class=\\\"text-danger\\\">*</span>:</p>\\n              <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Nachname\\\" formControlName=\\\"lastName\\\">\\n            </div>\\n            <div *ngIf=\\\"lastName.invalid && lastName.touched\\\" class=\\\"alert alert-warning\\\">\\n              Bitte geben Sie einen gültigen Nachnamen an!\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-8 col-lg-6\\\">\\n            <div class=\\\"form-group mt-4\\\">\\n              <p class=\\\"mb-0\\\">Straße <span class=\\\"text-danger\\\">*</span>:</p>\\n              <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Straße\\\" formControlName=\\\"street\\\">\\n            </div>\\n            <!-- Form Verification Error -->\\n            <div *ngIf=\\\"street.invalid && street.touched\\\" class=\\\"alert alert-warning\\\">\\n              Bitte geben Sie eine gültige Straße an!\\n            </div>\\n          </div>\\n          <div class=\\\"col-4 col-lg-2\\\">\\n            <div class=\\\"form-group mt-4\\\">\\n              <p class=\\\"mb-0\\\">Hausnummer <span class=\\\"text-danger\\\">*</span>:</p>\\n              <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Hausnummer\\\" formControlName=\\\"streetNumber\\\">\\n            </div>\\n            <!-- Form Verification Error -->\\n            <div *ngIf=\\\"streetNumber.invalid && streetNumber.touched\\\" class=\\\"alert alert-warning\\\">\\n              Bitte geben Sie eine gültige Hausnummer an!\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-4 col-lg-2\\\">\\n            <div class=\\\"form-group mt-4\\\">\\n              <p class=\\\"mb-0\\\">Postleitzahl <span class=\\\"text-danger\\\">*</span>:</p>\\n              <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Postleitzahl\\\" formControlName=\\\"postalcode\\\">\\n            </div>\\n            <!-- Form Verification Error -->\\n            <div *ngIf=\\\"postalcode.invalid && postalcode.touched\\\" class=\\\"alert alert-warning\\\">\\n              Bitte geben Sie eine gültige Postleitzahl an!\\n            </div>\\n          </div>\\n          <div class=\\\"col-8 col-lg-6\\\">\\n            <div class=\\\"form-group mt-4\\\">\\n              <p class=\\\"mb-0\\\">Stadt <span class=\\\"text-danger\\\">*</span>:</p>\\n              <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Stadt\\\" formControlName=\\\"city\\\">\\n            </div>\\n            <!-- Form Verification Error -->\\n            <div *ngIf=\\\"city.invalid && city.touched\\\" class=\\\"alert alert-warning\\\">\\n              Bitte geben Sie eine gültige Stadt an!\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-6 col-lg-4\\\">\\n            <div class=\\\"form-group mt-4\\\">\\n              <p class=\\\"mb-0\\\">Telefonnummer <span class=\\\"text-danger\\\">*</span>:</p>\\n              <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Telefonnummer\\\" formControlName=\\\"phone\\\">\\n            </div>\\n            <!-- Form Verification Error -->\\n            <div *ngIf=\\\"phone.invalid && phone.touched\\\" class=\\\"alert alert-warning\\\">\\n              Bitte geben Sie eine gültige Telefonnummer an!\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"user.role === 'Kunde'\\\" class=\\\"col-6 col-lg-4\\\">\\n            <div class=\\\"form-group mt-4\\\">\\n              <p class=\\\"mb-0\\\">Erreichbarkeit:</p>\\n              <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"z.B. Mo-Fr 9:00 Uhr bis 17:00 Uhr\\\"\\n                formControlName=\\\"reachability\\\">\\n            </div>\\n          </div>\\n        </div>\\n\\n        <!-- Service provider skills -->\\n        <div *ngIf=\\\"user.role === 'Dienstleister'\\\" class=\\\"row\\\">\\n          <div class=\\\"col-6 col-lg-4 shadow card fluid cgrid\\\">\\n            <div class=\\\"card-header\\\">\\n              <h5 class=\\\"card-title text-left wsn\\\">Dienstleistungen</h5>\\n            </div>\\n\\n            <div class=\\\"card-body\\\">\\n              <div class=\\\"row\\\">\\n                <div class=\\\"col-2\\\">\\n                  <mat-checkbox #isoCheck formControlName=\\\"dronepilot\\\" color=\\\"primary\\\">\\n                  </mat-checkbox>\\n                </div>\\n                <div class=\\\"col-8\\\">\\n                  Drohnenpilot\\n                </div>\\n              </div>\\n              <div class=\\\"row\\\">\\n                <div class=\\\"col-2\\\">\\n                  <mat-checkbox #isoCheck formControlName=\\\"visualisation\\\" color=\\\"primary\\\">\\n                  </mat-checkbox>\\n                </div>\\n                <div class=\\\"col-8\\\">\\n                  3D Visualisierung\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-4\\\">\\n            <!-- Form Status -->\\n            <div class=\\\"form-group\\\" *ngIf=\\\"profileForm.pristine\\\">\\n              <!-- No changes (unclickable button that acts as a status),  -->\\n              <button class=\\\"btn btn-outline-secondary\\\" [disabled]=\\\"true\\\">Keine Änderungen</button>\\n            </div>\\n\\n            <!-- Form Submit Button -->\\n            <div class=\\\"form-group\\\" *ngIf=\\\"!profileForm.pristine\\\">\\n              <!-- Save changes -->\\n              <button class=\\\"btn btn-primary \\\" [disabled]=\\\"profileForm.invalid || profileForm.pristine\\\">\\n                Änderungen speichern\\n              </button>\\n            </div>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n  </div>\\n  <div *ngIf=\\\"user.dronepilot && !user.pilotVerified\\\">\\n    <div *ngIf=\\\"!user.verificationDocument0\\\" class=\\\"shadow card cgrid\\\">\\n      <div class=\\\"card-header\\\">\\n        <h5 class=\\\"card-title text-left wsn\\\">Vertragliche Vereinbarungen</h5>\\n      </div>\\n\\n      <div class=\\\"card-body\\\">\\n        <p style=\\\"color: #dc3545;\\\">Bevor Sie Aufträge annehmen können, müssen Sie diese Vereinbarung\\n          unterzeichnen und unterschrieben wieder hochladen</p>\\n        <a class=\\\"btn btn-primary\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\\n          href=\\\"../../assets/documents/pilot/Vertragliche_Vereinbarung.pdf\\\">\\n          <i class=\\\"far fa-file-pdf\\\"></i> - Vertragliche Vereinbarung\\n        </a>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"user.dronepilot && !user.pilotVerified\\\">\\n    <div class=\\\"shadow card cgrid\\\">\\n      <div class=\\\"card-header\\\">\\n        <h5 class=\\\"card-title text-left wsn\\\">Dokumentenupload</h5>\\n      </div>\\n\\n      <div class=\\\"card-body\\\">\\n        <!-- Don't show upload fields while uploading -->\\n        <ng-container class=\\\"mb-2\\\" *ngIf=\\\"uploading === false; else loading\\\">\\n\\n          <!-- Start file upload -->\\n          <div class=\\\"form-group row\\\">\\n            <div class=\\\"col-2 upload-button-container\\\">\\n              Vertragliche Vereinbarung\\n            </div>\\n            <div *ngIf=\\\"user.verificationDocument0 === undefined\\\" class=\\\"col-2 upload-button-container\\\">\\n              <label class=\\\"fileContainer btn btn-dark btn-sm text-white\\\">\\n                Datei hochladen\\n                <input type=\\\"file\\\" class=\\\"alert alert-info\\\"\\n                  (change)=\\\"uploadDocument($event, 'vertragliche-vereinbarung', user.uid)\\\">\\n              </label>\\n            </div>\\n            <div *ngIf=\\\"user.verificationDocument0\\\" class=\\\"col-4\\\">\\n              <a class=\\\"btn btn-primary\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"{{user.verificationDocument0}}\\\">\\n                <i class=\\\"far fa-file\\\"></i> - Vertragliche Vereinbarung\\n              </a></div>\\n          </div>\\n\\n          <div class=\\\"form-group row\\\">\\n            <div class=\\\"col-2 upload-button-container\\\">\\n              Haftpflicht\\n            </div>\\n            <div *ngIf=\\\"!user.verificationDocument1\\\" class=\\\"col-2 upload-button-container\\\">\\n              <label class=\\\"fileContainer btn btn-dark btn-sm text-white\\\">\\n                Datei hochladen\\n                <input type=\\\"file\\\" class=\\\"alert alert-info\\\" (change)=\\\"uploadDocument($event, 'haftpflicht', user.uid)\\\">\\n              </label>\\n            </div>\\n            <div *ngIf=\\\"user.verificationDocument1\\\" class=\\\"col-4\\\">\\n              <a class=\\\"btn btn-primary\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"{{user.verificationDocument1}}\\\">\\n                <i class=\\\"far fa-file\\\"></i> - Haftpflicht\\n              </a></div>\\n          </div>\\n\\n          <div class=\\\"form-group row\\\">\\n            <div class=\\\"col-2 upload-button-container\\\">\\n              Kenntnisnachweis\\n            </div>\\n            <div *ngIf=\\\"!user.verificationDocument2\\\" class=\\\"col-2 upload-button-container\\\">\\n              <label class=\\\"fileContainer btn btn-dark btn-sm text-white\\\">\\n                Datei hochladen\\n                <input type=\\\"file\\\" class=\\\"alert alert-info\\\"\\n                  (change)=\\\"uploadDocument($event, 'kenntnisnachweis', user.uid)\\\">\\n              </label>\\n            </div>\\n            <div *ngIf=\\\"user.verificationDocument2\\\" class=\\\"col-4\\\">\\n              <a class=\\\"btn btn-primary\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"{{user.verificationDocument2}}\\\">\\n                <i class=\\\"far fa-file\\\"></i> - Kenntnisnachweis\\n              </a></div>\\n          </div>\\n\\n          <div class=\\\"form-group row\\\">\\n            <div class=\\\"col-2 upload-button-container\\\">\\n              Aufstiegsgenehmigung\\n            </div>\\n            <div *ngIf=\\\"!user.verificationDocument3\\\" class=\\\"col-2 upload-button-container\\\">\\n              <label class=\\\"fileContainer btn btn-dark btn-sm text-white\\\">\\n                Datei hochladen\\n                <input type=\\\"file\\\" class=\\\"alert alert-info\\\"\\n                  (change)=\\\"uploadDocument($event, 'aufstiegsgenehmigung', user.uid)\\\">\\n              </label>\\n            </div>\\n            <div *ngIf=\\\"user.verificationDocument3\\\" class=\\\"col-4\\\">\\n              <a class=\\\"btn btn-primary\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"{{user.verificationDocument3}}\\\">\\n                <i class=\\\"far fa-file\\\"></i> - Aufstiegsgenehmigung\\n              </a></div>\\n          </div>\\n        </ng-container>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <ng-template #loading>\\n    <!-- CSS Loading Spinner -->\\n    <div class=\\\"lds-ring ring-default\\\">\\n      <div></div>\\n      <div></div>\\n      <div></div>\\n      <div></div>\\n    </div>\\n  </ng-template>\\n\\n</ng-container>\\n\\n<!-- Information regarding personal data -->\\n<div class=\\\"shadow card fluid cgrid\\\">\\n\\n  <div class=\\\"card-header\\\">\\n    <h5 class=\\\"card-title text-left wsn\\\">Datenschutz</h5>\\n  </div>\\n\\n\\n  <div class=\\\"card-body\\\">\\n    <!-- Dynamic Content -->\\n    <p *ngIf=\\\"role === 'Dienstleister'\\\" class=\\\"card-text\\\">\\n      Ihre persönliche Adresse wird nicht mit den Auftraggebern geteilt, sondern lediglich von uns\\n      verwendet um in Zukunft die Entfernung zu den eingestellten Aufträgen berechnen zu können und diese\\n      danach zu filtern. Alle Daten werden über eine gesicherte\\n      SSL-Verbindung übertragen und sind für Dritte nicht mitlesbar oder einsehbar.\\n    </p>\\n    <p *ngIf=\\\"role === 'Kunde'\\\" class=\\\"card-text\\\">\\n      Ihre geschäftliche Adresse wird nicht mit unseren Dienstleistern geteilt, sondern dient lediglich\\n      der Rechnungsstellung von uns an Sie. Alle Daten werden über eine gesicherte SSL-Verbindung\\n      übertragen und sind für Dritte nicht mitlesbar oder einsehbar.\\n    </p>\\n    <a target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"https://www.imogent.de/datenschutz/\\\" class=\\\"my-link\\\">Mehr zum\\n      Datenschutz</a>\\n  </div>\\n\\n</div>\\n\\n<ng-template #loading>\\n  <!-- CSS Loading Spinner -->\\n  <div class=\\\"lds-ring ring-default centered\\\">\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n  </div>\\n</ng-template>\"","import { Component, OnInit, AfterViewInit, OnDestroy } from '@angular/core';\nimport { FormBuilder, FormGroup, FormArray, Validators, FormControl } from '@angular/forms';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { tap, take } from 'rxjs/operators';\nimport { UploadService } from '@app/_services/upload.service';\nimport { AuthService } from '@app/auth/auth.service';\nimport { LoaderService } from '@app/_services/loader.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})\nexport class ProfileComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  profileForm: FormGroup;\n  // Form State\n  success = false;\n  uploading = false;\n  uploaded = false;\n  user$;\n  user: any;\n  profile;\n  role: string;\n\n  constructor(private fb: FormBuilder,\n    private afs: AngularFirestore,\n    public authService: AuthService,\n    private uploadService: UploadService,\n    public loader: LoaderService) {\n\n    this.profileForm = this.fb.group({\n      firstName: ['', [\n        Validators.required,\n        Validators.pattern('^([A-ZäöüÄÖÜß-][a-zA-ZäöüÄÖÜß -]*[a-zA-ZäöüÄÖÜß]$)')\n      ]],\n      lastName: ['', [\n        Validators.required,\n        Validators.pattern('^([A-ZäöüÄÖÜß-][a-zA-ZäöüÄÖÜß -]*[a-zA-ZäöüÄÖÜß]$)')\n      ]],\n      company: [''],\n      ustid: [''],\n      street: ['', [\n        Validators.required,\n        Validators.pattern('^([A-ZäöüÄÖÜß.-][a-zA-ZäöüÄÖÜß. -]*[a-zA-ZäöüÄÖÜß.]$)')\n      ]],\n      streetNumber: ['', [\n        Validators.required,\n        Validators.pattern('[1-9][0-9]{0,3}[a-zA-Z]?$')\n      ]],\n      postalcode: ['', [\n        Validators.required,\n        Validators.pattern('^[0-9]{5}$')\n      ]],\n      city: ['', [\n        Validators.required,\n        Validators.pattern('^([A-ZäöüÄÖÜß -][a-zA-ZäöüÄÖÜß -]*[a-zA-ZäöüÄÖÜß]$)')\n      ]],\n      phone: ['', [\n        Validators.required,\n        Validators.pattern('[0-9+/]*')\n      ]],\n      drone: [''],\n      dronepilot: [''],\n      visualisation: [''],\n      // floorplan: [''],,\n      // vstaging: [''],\n      reachability: ['']\n    });\n  }\n\n  ngOnInit() {\n    const user = JSON.parse(sessionStorage.getItem('user'));\n    this.role = this.authService.myUserObservable['role'];\n    const uid: string = user.uid;\n    this.user = uid; // UID;\n    this.preloadData();\n  }\n\n  ngAfterViewInit() {\n  }\n\n  ngOnDestroy() {\n    this.profile.unsubscribe(); // Missing or insufficient permissions Error, Memory Leak fix\n  }\n\n  get firstName() {\n    return this.profileForm.get('firstName');\n  }\n  get lastName() {\n    return this.profileForm.get('lastName');\n  }\n  get company() {\n    return this.profileForm.get('company');\n  }\n  get ustid() {\n    return this.profileForm.get('ustid');\n  }\n  get street() {\n    return this.profileForm.get('street');\n  }\n  get streetNumber() {\n    return this.profileForm.get('streetNumber');\n  }\n  get postalcode() {\n    return this.profileForm.get('postalcode');\n  }\n  get city() {\n    return this.profileForm.get('city');\n  }\n  get phone() {\n    return this.profileForm.get('phone');\n  }\n  get dronepilot() {\n    return this.profileForm.get('dronepilot');\n  }\n  get visualisation() {\n    return this.profileForm.get('visualisation');\n  }\n  // get floorplan() {\n  //   return this.profileForm.get('floorplan');\n  // }\n  // get vstaging() {\n  //   return this.profileForm.get('vstaging');\n  // }\n  get reachability() {\n    return this.profileForm.get('reachability');\n  }\n\n  /**\n   * Submit handler for profile form. Updates the user document in firebase\n   */\n  async submitHandler() {\n    const colRef = this.afs.collection('users');\n    this.profileForm.value.profileCompleted = true;\n    const formValue = this.profileForm.value;\n    this.profileForm.markAsPristine();\n    try {\n      await colRef.doc(this.user).update(formValue);\n      this.success = true;\n      setTimeout(() => {\n        this.success = false;\n      },\n        1500);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n  /**\n   * Preload data for user profile\n   */\n  async preloadData() {\n    this.profile = await this.afs.doc(`users/${this.user}`).valueChanges().pipe(\n      tap(data => {\n        this.profileForm.patchValue(data);\n      })\n    )\n      .subscribe();\n  }\n\n  /**\n   * Update a few attributes in user document (verificationNeeded and verificationFailed) when user has uploaded a document and needs verification.\n   */\n  async verificationNeeded() {\n    if (this.authService.myUserObservable !== undefined) {\n      if (this.authService.myUserObservable.verificationDocument0 !== undefined) {\n        if (this.authService.myUserObservable.verificationDocument1 !== undefined) {\n          if (this.authService.myUserObservable.verificationDocument2 !== undefined) {\n            this.afs.collection('users').doc(this.authService.myUserObservable.uid).update({\n              verificationNeeded: true,\n              verificationFailed: false\n            });\n          }\n        }\n      }\n    }\n  }\n  /**\n   * Gets triggered when user uploads the Pilot Contract document\n   * Uploads the document to firebase and updates the verificationDocument0 url in user document on firebase\n   */\n  async uploadDocument(event: any, fileName: string, uid: string) {\n    this.uploading = true;\n    await this.uploadService.upload(event, uid, fileName);\n    const downloadURL = this.uploadService.downloadURL;\n    switch (fileName) {\n      case 'vertragliche-vereinbarung':\n        await this.afs.collection('users').doc(uid).update({\n          verificationDocument0: downloadURL\n        });\n        break;\n      case 'haftpflicht':\n        await this.afs.collection('users').doc(uid).update({\n          verificationDocument1: downloadURL\n        });\n        break;\n      case 'kenntnisnachweis':\n        await this.afs.collection('users').doc(uid).update({\n          verificationDocument2: downloadURL\n        });\n        break;\n      case 'aufstiegsgenehmigung':\n        await this.afs.collection('users').doc(uid).update({\n          verificationDocument3: downloadURL\n        });\n        break;\n    }\n    this.uploading = false;\n    this.uploaded = true;\n    setTimeout(() => {\n      this.verificationNeeded();\n      this.uploaded = false;\n    },\n      2000);\n  }\n}\n","export * from './realestate.component';\r\n","module.exports = \".add-new-realestate .add-new-realestate-body,\\n.adress-card-body{\\n    padding: 0.9375rem 0.5rem;\\n}\\n.add-new-realestate{\\n    height: 79%;\\n    min-height: 171px;\\n    background: transparent;\\n    border: 2px dashed #22bca4;\\n    cursor: pointer;\\n}\\n.add-new-realestate .add-new-realestate-body i{\\n    font-size: 11rem;\\n    color: #22bca4;\\n}\\n.add-new-realestate .add-new-realestate-body .plus-box{\\n    height: 100px;\\n    width: 100px;\\n}\\n.add-new-realestate .add-new-realestate-body .plus-box div\\n{\\n    width: 50%;\\n    height: 50%;\\n    display: inline-block;\\n}\\n.add-new-realestate .add-new-realestate-body{\\n    position: relative;\\n    top: 17%;\\n}\\n.add-new-realestate .add-new-realestate-body .plus-box .tl{\\n    border-right: 5px solid #22bca4;\\n    border-bottom: 5px solid #22bca4;\\n}\\n.add-new-realestate .add-new-realestate-body .plus-box .tr{\\n    border-left: 5px solid #22bca4;\\n    border-bottom: 5px solid #22bca4;\\n}\\n.add-new-realestate .add-new-realestate-body .plus-box .bl{\\n    border-right: 5px solid #22bca4;\\n    border-top: 5px solid #22bca4;\\n    position: relative;\\n    top: -7px;\\n}\\n.add-new-realestate .add-new-realestate-body .plus-box .br{\\n    border-left: 5px solid #22bca4;\\n    border-top: 5px solid #22bca4;\\n    position: relative;\\n    top: -7px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVhbGVzdGF0ZS9yZWFsZXN0YXRlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0lBRUkseUJBQXlCO0FBQzdCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsaUJBQWlCO0lBQ2pCLHVCQUF1QjtJQUN2QiwwQkFBMEI7SUFDMUIsZUFBZTtBQUNuQjtBQUNBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGNBQWM7QUFDbEI7QUFDQTtJQUNJLGFBQWE7SUFDYixZQUFZO0FBQ2hCO0FBQ0E7O0lBRUksVUFBVTtJQUNWLFdBQVc7SUFDWCxxQkFBcUI7QUFDekI7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixRQUFRO0FBQ1o7QUFDQTtJQUNJLCtCQUErQjtJQUMvQixnQ0FBZ0M7QUFDcEM7QUFDQTtJQUNJLDhCQUE4QjtJQUM5QixnQ0FBZ0M7QUFDcEM7QUFDQTtJQUNJLCtCQUErQjtJQUMvQiw2QkFBNkI7SUFDN0Isa0JBQWtCO0lBQ2xCLFNBQVM7QUFDYjtBQUNBO0lBQ0ksOEJBQThCO0lBQzlCLDZCQUE2QjtJQUM3QixrQkFBa0I7SUFDbEIsU0FBUztBQUNiIiwiZmlsZSI6InNyYy9hcHAvcmVhbGVzdGF0ZS9yZWFsZXN0YXRlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYWRkLW5ldy1yZWFsZXN0YXRlIC5hZGQtbmV3LXJlYWxlc3RhdGUtYm9keSxcbi5hZHJlc3MtY2FyZC1ib2R5e1xuICAgIHBhZGRpbmc6IDAuOTM3NXJlbSAwLjVyZW07XG59XG4uYWRkLW5ldy1yZWFsZXN0YXRle1xuICAgIGhlaWdodDogNzklO1xuICAgIG1pbi1oZWlnaHQ6IDE3MXB4O1xuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgIGJvcmRlcjogMnB4IGRhc2hlZCAjMjJiY2E0O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cbi5hZGQtbmV3LXJlYWxlc3RhdGUgLmFkZC1uZXctcmVhbGVzdGF0ZS1ib2R5IGl7XG4gICAgZm9udC1zaXplOiAxMXJlbTtcbiAgICBjb2xvcjogIzIyYmNhNDtcbn1cbi5hZGQtbmV3LXJlYWxlc3RhdGUgLmFkZC1uZXctcmVhbGVzdGF0ZS1ib2R5IC5wbHVzLWJveHtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICAgIHdpZHRoOiAxMDBweDtcbn1cbi5hZGQtbmV3LXJlYWxlc3RhdGUgLmFkZC1uZXctcmVhbGVzdGF0ZS1ib2R5IC5wbHVzLWJveCBkaXZcbntcbiAgICB3aWR0aDogNTAlO1xuICAgIGhlaWdodDogNTAlO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cbi5hZGQtbmV3LXJlYWxlc3RhdGUgLmFkZC1uZXctcmVhbGVzdGF0ZS1ib2R5e1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB0b3A6IDE3JTtcbn1cbi5hZGQtbmV3LXJlYWxlc3RhdGUgLmFkZC1uZXctcmVhbGVzdGF0ZS1ib2R5IC5wbHVzLWJveCAudGx7XG4gICAgYm9yZGVyLXJpZ2h0OiA1cHggc29saWQgIzIyYmNhNDtcbiAgICBib3JkZXItYm90dG9tOiA1cHggc29saWQgIzIyYmNhNDtcbn1cbi5hZGQtbmV3LXJlYWxlc3RhdGUgLmFkZC1uZXctcmVhbGVzdGF0ZS1ib2R5IC5wbHVzLWJveCAudHJ7XG4gICAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCAjMjJiY2E0O1xuICAgIGJvcmRlci1ib3R0b206IDVweCBzb2xpZCAjMjJiY2E0O1xufVxuLmFkZC1uZXctcmVhbGVzdGF0ZSAuYWRkLW5ldy1yZWFsZXN0YXRlLWJvZHkgLnBsdXMtYm94IC5ibHtcbiAgICBib3JkZXItcmlnaHQ6IDVweCBzb2xpZCAjMjJiY2E0O1xuICAgIGJvcmRlci10b3A6IDVweCBzb2xpZCAjMjJiY2E0O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB0b3A6IC03cHg7XG59XG4uYWRkLW5ldy1yZWFsZXN0YXRlIC5hZGQtbmV3LXJlYWxlc3RhdGUtYm9keSAucGx1cy1ib3ggLmJye1xuICAgIGJvcmRlci1sZWZ0OiA1cHggc29saWQgIzIyYmNhNDtcbiAgICBib3JkZXItdG9wOiA1cHggc29saWQgIzIyYmNhNDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgdG9wOiAtN3B4O1xufSJdfQ== */\"","module.exports = \"<!-- <div class=\\\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center border-bottom bbcg\\\">\\n  <h2></h2>\\n  <div class=\\\"btn-toolbar mb-2 mb-md-0\\\">\\n    <div class=\\\"btn-group mr-2\\\">\\n      <button class=\\\"btn btn-primary\\\" (click)=\\\"resetForm(); realestateservice.add = true\\\">Immobilie\\n        hinzufügen</button>\\n    </div>\\n  </div>\\n</div> -->\\n<ngx-smart-modal #firstImmoCreatedModal identifier=\\\"firstImmoCreatedModal\\\" [closable]=\\\"false\\\" [dismissable]=\\\"false\\\"\\n  [escapable]=\\\"false\\\">\\n  <h2 class=\\\"card-title b\\\">Super!</h2>\\n  <p>Sie haben Ihre erste Immobilie angelegt! Jetzt können Sie das erste Mal einen Service buchen!</p>\\n  <button class=\\\"btn btn-primary\\\" (click)=\\\"navigateToServices()\\\">Service buchen</button>\\n  <button class=\\\"btn btn-danger\\\" style=\\\"margin-left: 1.024em;\\\" (click)=\\\"skipTutorial()\\\">Tutorial überspringen</button>\\n</ngx-smart-modal>\\n<div *ngIf=\\\"!(realestateservice.add || realestateservice.edit)\\\" class=\\\"container-fluid\\\" name=\\\"show-when-not-add\\\">\\n  <div class=\\\"row\\\">\\n    <!-- <div *ngFor='let realestate of realestateservice.myRealestates | async'>\\n    <div class=\\\"col-sm-12\\\">\\n            <div class=\\\"shadow card fluid cgrid\\\">\\n                <div class=\\\"card-body\\\">\\n                <h5 class=\\\"card-title text-left wsn\\\">{{realestate.title}}</h5>\\n                <p class=\\\"card-text text-left\\\">{{realestate.street}} {{realestate.streetnumber}}, {{realestate.postalcode}} {{realestate.city}}</p>\\n                <button class=\\\"btn btn-primary\\\" style=\\\"margin-right: 0.5em;\\\" [disabled]=\\\"realestate.hasActiveOrder\\\" (click)=\\\"loadEditData(realestate.id)\\\">Bearbeiten</button>\\n                <button class=\\\"btn btn-danger\\\" [disabled]=\\\"realestate.hasActiveOrder\\\" (click)=\\\"deleteRealestate(realestate.id)\\\">Löschen</button>\\n                </div>\\n            </div>\\n    </div>\\n    </div> -->\\n    <!-- For a new real estate -->\\n    <div class=\\\"col-6 col-md-3 col-xl-2\\\">\\n      <!-- <div> -->\\n        <div class=\\\"shadow card fluid cgrid add-new-realestate align-items-center\\\" (click)=\\\"resetForm(); realestateservice.add = true\\\">\\n          <div class=\\\"card-body adress-card-body add-new-realestate-body text-center\\\">\\n            <!-- <i class=\\\"material-icons\\\">add</i> -->\\n            <div class=\\\"plus-box\\\">\\n              <div class=\\\"tl\\\"></div>\\n              <div class=\\\"tr\\\"></div>\\n              <div class=\\\"bl\\\"></div>\\n              <div class=\\\"br\\\"></div>\\n            </div>\\n          </div>\\n        </div>\\n      <!-- </div> -->\\n    </div>\\n    <div *ngFor=\\\"let realestate of realestateservice.myRealestates\\\" class=\\\"col-6 col-md-3 col-xl-2\\\">\\n      <!-- <div> -->\\n        <div class=\\\"shadow card fluid cgrid\\\">\\n          <div class=\\\"card-body adress-card-body\\\">\\n            <h5 class=\\\"card-title text-left wsn\\\">{{realestate.title}}</h5>\\n            <p class=\\\"card-text text-left\\\">\\n              {{realestate.street}} {{realestate.streetnumber}},\\n              <br>\\n              {{realestate.postalcode}} {{realestate.city}}\\n            </p>\\n            <button class=\\\"btn btn-primary\\\" style=\\\"margin-right: 0.5em;\\\"\\n              (click)=\\\"loadEditData(realestate.id)\\\">Bearbeiten</button>\\n            <button class=\\\"btn btn-danger\\\" (click)=\\\"deleteRealestate(realestate.id)\\\">Löschen</button>\\n          </div>\\n        </div>\\n      <!-- </div> -->\\n    </div>\\n  </div>\\n</div>\\n<div *ngIf=\\\"realestateservice.add\\\" name=\\\"show-when-add\\\">\\n  <div class=\\\"\\\">\\n    <form [formGroup]=\\\"realestateForm\\\" (ngSubmit)=\\\"submitNewHandler()\\\">\\n      <div class=\\\"form-group\\\">\\n        <div class=\\\"shadow input-group mb-3\\\">\\n          <div class=\\\"input-group-prepend\\\">\\n            <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Objektart/Titel <span class=\\\"text-danger\\\">*</span></span>\\n          </div>\\n          <input formControlName=\\\"title\\\" class=\\\"form-control\\\"\\n            placeholder=\\\"(Bspw.) Modernes Einfamilienhaus am Stadtrand\\\">\\n        </div>\\n        <span class=\\\"alert alert-warning\\\" *ngIf=\\\"title.invalid && title.touched\\\" class=\\\"alert alert-warning\\\">\\n          Dieses Feld wird benötigt!\\n        </span>\\n      </div>\\n      <div class=\\\"form-group\\\">\\n        <div class=\\\"shadow input-group mb-3\\\">\\n          <div class=\\\"input-group-prepend\\\">\\n            <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Objektnummer</span>\\n          </div>\\n          <input formControlName=\\\"objectNumber\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"(Optional)\\\">\\n        </div>\\n      </div>\\n      <div class=\\\"form-row\\\">\\n        <div class=\\\"col\\\">\\n          <div class=\\\"form-group\\\">\\n            <div class=\\\"shadow input-group mb-3\\\">\\n              <div class=\\\"input-group-prepend\\\">\\n                <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Straße <span class=\\\"text-danger\\\">*</span></span>\\n              </div>\\n              <input formControlName=\\\"street\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Straße\\\">\\n            </div>\\n            <span *ngIf=\\\"street.invalid && street.touched\\\" class=\\\"alert alert-warning\\\">\\n              Bitte geben Sie eine (gültige) Straße an!\\n            </span>\\n          </div>\\n        </div>\\n        <div class=\\\"col\\\">\\n          <div class=\\\"form-group\\\">\\n            <div class=\\\"shadow input-group mb-3\\\">\\n              <div class=\\\"input-group-prepend\\\">\\n                <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Nr. <span class=\\\"text-danger\\\">*</span></span>\\n              </div>\\n              <input formControlName=\\\"streetnumber\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Hausnummer\\\">\\n            </div>\\n            <span *ngIf=\\\"streetnumber.invalid && streetnumber.touched\\\" class=\\\"alert alert-warning\\\">\\n              Bitte geben Sie eine (gültige) Hausnummer an!\\n            </span>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"form-row\\\">\\n        <div class=\\\"col\\\">\\n          <div class=\\\"form-group\\\">\\n            <div class=\\\"shadow input-group mb-3\\\">\\n              <div class=\\\"input-group-prepend\\\">\\n                <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Postleitzahl <span class=\\\"text-danger\\\">*</span></span>\\n              </div>\\n              <input formControlName=\\\"postalcode\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Postleitzahl\\\">\\n            </div>\\n            <span *ngIf=\\\"postalcode.invalid && postalcode.touched\\\" class=\\\"alert alert-warning\\\">\\n              Bitte geben Sie eine (gültige) Postleitzahl an!\\n            </span>\\n          </div>\\n        </div>\\n        <div class=\\\"col\\\">\\n          <div class=\\\"form-group\\\">\\n            <div class=\\\"shadow input-group mb-3\\\">\\n              <div class=\\\"input-group-prepend\\\">\\n                <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Stadt <span class=\\\"text-danger\\\">*</span></span>\\n              </div>\\n              <input formControlName=\\\"city\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Stadt\\\">\\n            </div>\\n            <span *ngIf=\\\"city.invalid && city.touched\\\" class=\\\"alert alert-warning\\\">\\n              Bitte geben Sie eine (gültige) Stadt an!\\n            </span>\\n          </div>\\n        </div>\\n      </div>\\n      <button class=\\\"btn btn-primary \\\" [disabled]=\\\"realestateForm.invalid || realestateForm.pristine \\\">\\n        Änderungen speichern</button>\\n      <button type=\\\"button\\\" class=\\\"btn btn-outline-secondary\\\" (click)=\\\"resetForm()\\\"\\n        style=\\\"margin-left: 0.54em;\\\">Abbrechen</button>\\n\\n    </form>\\n  </div>\\n</div>\\n<div name=\\\"show-when-edit\\\" *ngIf=\\\"realestateservice.edit\\\">\\n  <form [formGroup]=\\\"realestateForm\\\" (ngSubmit)=\\\"submitUpdateHandler(mySelectedRealestate)\\\">\\n    <div class=\\\"form-group\\\">\\n      <div class=\\\"shadow input-group mb-3\\\">\\n        <div class=\\\"input-group-prepend\\\">\\n          <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Objektart/Titel <span class=\\\"text-danger\\\">*</span></span>\\n        </div>\\n        <input formControlName=\\\"title\\\" class=\\\"form-control\\\" placeholder=\\\"Titel der Immobilie\\\">\\n      </div>\\n      <span *ngIf=\\\"title.invalid && title.touched\\\" class=\\\"alert alert-warning\\\">\\n        Dieses Feld wird benötigt!\\n      </span>\\n\\n    </div>\\n    <div class=\\\"form-group\\\">\\n      <div class=\\\"shadow input-group mb-3\\\">\\n        <div class=\\\"input-group-prepend\\\">\\n          <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Objektnummer</span>\\n        </div>\\n        <input formControlName=\\\"objectNumber\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"(Optional)\\\">\\n      </div>\\n    </div>\\n    <div class=\\\"form-row\\\">\\n      <div class=\\\"col\\\">\\n        <div class=\\\"form-group\\\">\\n          <div class=\\\"shadow input-group mb-3\\\">\\n            <div class=\\\"input-group-prepend\\\">\\n              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Straße <span class=\\\"text-danger\\\">*</span></span>\\n            </div>\\n            <input formControlName=\\\"street\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Straße\\\">\\n          </div>\\n          <span *ngIf=\\\"street.invalid && street.touched\\\" class=\\\"alert alert-warning\\\">\\n            Bitte geben Sie eine (gültige) Straße an!\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\\\"col\\\">\\n        <div class=\\\"form-group\\\">\\n          <div class=\\\"shadow input-group mb-3\\\">\\n            <div class=\\\"input-group-prepend\\\">\\n              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Nr. <span class=\\\"text-danger\\\">*</span></span>\\n            </div>\\n            <input formControlName=\\\"streetnumber\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Hausnummer\\\">\\n          </div>\\n          <span *ngIf=\\\"streetnumber.invalid && streetnumber.touched\\\" class=\\\"alert alert-warning\\\">\\n            Bitte geben Sie eine (gültige) Hausnummer an!\\n          </span>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"form-row\\\">\\n      <div class=\\\"col\\\">\\n        <div class=\\\"form-group\\\">\\n          <div class=\\\"shadow input-group mb-3\\\">\\n            <div class=\\\"input-group-prepend\\\">\\n              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Postleitzahl <span class=\\\"text-danger\\\">*</span></span>\\n            </div>\\n            <input formControlName=\\\"postalcode\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Postleitzahl\\\">\\n          </div>\\n          <span *ngIf=\\\"postalcode.invalid && postalcode.touched\\\" class=\\\"alert alert-warning\\\">\\n            Bitte geben Sie eine (gültige) Postleitzahl an!\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\\\"col\\\">\\n        <div class=\\\"form-group\\\">\\n          <div class=\\\"shadow input-group mb-3\\\">\\n            <div class=\\\"input-group-prepend\\\">\\n              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Stadt <span class=\\\"text-danger\\\">*</span></span>\\n            </div>\\n            <input formControlName=\\\"city\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Stadt\\\">\\n          </div>\\n          <span *ngIf=\\\"city.invalid && city.touched\\\" class=\\\"alert alert-warning\\\">\\n            Bitte geben Sie eine (gültige) Stadt an!\\n          </span>\\n        </div>\\n      </div>\\n    </div>\\n    <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" [disabled]=\\\"realestateForm.invalid || realestateForm.pristine \\\">\\n      Änderungen speichern</button>\\n    <button type=\\\"button\\\" class=\\\"btn btn-outline-secondary\\\" (click)=\\\"resetForm()\\\"\\n      style=\\\"margin-left: 0.54em;\\\">Abbrechen</button>\\n  </form>\\n</div>\\n<div *ngIf=\\\"success\\\" class=\\\"alert alert-success float-right\\\" style=\\\"position: absolute; right: 0.5em; bottom: 0.5em;\\\">\\n  Erfolgreich gespeichert!\\n</div>\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { RealestateService } from '@app/_services/realestate.service';\nimport { Observable } from 'rxjs';\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { tap } from 'rxjs/operators';\nimport { AuthService } from '@app/auth/auth.service';\nimport { NgxSmartModalService } from 'ngx-smart-modal';\nimport { UsersService } from '@app/_services/users.service';\nimport { Router } from '@angular/router';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-realestate',\n  templateUrl: './realestate.component.html',\n  styleUrls: ['./realestate.component.css']\n})\nexport class RealestateComponent implements OnInit, OnDestroy {\n  realestateForm: FormGroup;\n  // Form States:\n  loading = false;\n  success = false;\n\n  formSub: any;\n  mySelectedRealestate: any;\n  userRef: any;\n  //\n  dataloaded: any;\n  realestateSub: any;\n\n  data: any;\n  /**\n   * Set the real estate form validation in the constructor.\n   */\n  constructor(public realestateservice: RealestateService,\n    private fb: FormBuilder,\n    private afs: AngularFirestore,\n    public auth: AuthService,\n    public ngxSmartModalService: NgxSmartModalService,\n    private us: UsersService,\n    private router: Router,\n    private route: ActivatedRoute) {\n    this.realestateForm = this.fb.group({\n      title: ['', [Validators.required]],\n      objectNumber: [''],\n      street: ['', [\n        Validators.required,\n        Validators.pattern('^([A-ZäöüÄÖÜß.-][a-zA-ZäöüÄÖÜß. -]*[a-zA-ZäöüÄÖÜß.]$)')\n      ]],\n      streetnumber: ['', [\n        Validators.required,\n        Validators.pattern('[1-9][0-9]{0,3}[a-zA-Z]?$')\n      ]],\n      postalcode: ['', [\n        Validators.required,\n        Validators.pattern('^[0-9]{5}$')\n      ]],\n      city: ['', [\n        Validators.required,\n        Validators.pattern('^([A-ZäöüÄÖÜß -][a-zA-ZäöüÄÖÜß -]*[a-zA-ZäöüÄÖÜß]$)')\n      ]],\n    });\n  }\n  /**\n   * Gets called by default when the class is initialised\n   * store the logged in user id in the class attribute to be used later on\n   */\n  ngOnInit() {\n    const user = JSON.parse(sessionStorage.getItem('user'));\n    this.userRef = user.uid; // UID\n  }\n  /**\n   * Gets called by default when the component is destroyed.\n   * We unsubscribe from real estate document in this method.\n   */\n  ngOnDestroy() {\n    // Fixing memory leak / permission error thrownif uses leaves open edit tab and logs out\n    if (this.formSub !== undefined) {\n      this.formSub.unsubscribe();\n    }\n  }\n  /**\n   * The below getters are called when the form is rendered. For each input element there is a get function.\n   */\n  get title() {\n    return this.realestateForm.get('title');\n  }\n  get objectNumber() {\n    return this.realestateForm.get('objectNumber');\n  }\n  get street() {\n    return this.realestateForm.get('street');\n  }\n  get streetnumber() {\n    return this.realestateForm.get('streetnumber');\n  }\n  get postalcode() {\n    return this.realestateForm.get('postalcode');\n  }\n  get city() {\n    return this.realestateForm.get('city');\n  }\n\n  /**\n   * Resets the real estate add/edit form. Is called when user try to add a new real estate\n   * or cancel/exits the real estate form (during add/edit)\n   */\n  resetForm() {\n    this.realestateForm.reset();\n    this.realestateservice.add = false;\n    this.realestateservice.edit = false;\n    if (this.formSub !== undefined) {\n      this.formSub.unsubscribe();\n    }\n  }\n\n  skipTutorial() {\n    this.us.tutorialSkipped = true;\n    this.ngxSmartModalService.close('firstImmoCreatedModal');\n  }\n\n  navigateToServices() {\n    this.router.navigate(['/services']);\n  }\n  /**\n   * Is triggered when user submits the form to add a new realstate. Stores the new property in the database.\n   */\n  async submitNewHandler() {\n    this.realestateservice.add = false;\n    this.loading = true;\n    const colRef = this.afs.collection('realestates');\n    const formValue = this.realestateForm.value;\n\n    try {\n      // Redo this later, to prevent two calls to the database.\n      // We can add ownerId, createdOn, hasActiveOrder to the formValue object and do this in one call.\n      await colRef.add(formValue).then(docRef => {\n        const docId = docRef.id;\n        colRef.doc(docId).update({\n          id: docId,\n          ownerID: this.userRef,\n          createdOn: new Date(),\n        });\n        this.realestateForm.reset();\n        this.realestateForm.markAsPristine();\n      });\n      this.success = true;\n      setTimeout(() => {\n        console.log('Continueing Tutorial!');\n        this.success = false;\n        // Redo this later, instead of doing the new call to the database we can use this.realestateservice.myRealestates\n        this.realestateSub = this.realestateservice.getMyRealestates().subscribe(async res => {\n          console.log('Realestates erhalten');\n          if (this.auth.role === 'Kunde' && res.length === 1) {\n            this.ngxSmartModalService.getModal('firstImmoCreatedModal').open();\n            this.realestateSub.unsubscribe();\n          } else {\n            this.realestateSub.unsubscribe();\n          }\n        });\n      },\n        1000);\n    } catch (err) {\n      console.error(err);\n    }\n    this.loading = false;\n  }\n  /**\n   * Is triggered when user finishes editing a property (clicks Änderungen speichern button)\n   * Updates the realstate document in the database\n   */\n  async submitUpdateHandler(realestateIdParam: string) {\n    // console.log(realestateIdParam);\n    this.loading = true;\n    const formValue = this.realestateForm.value;\n\n    try {\n      formValue.lastChanged = Date();\n      await this.afs.doc(`realestates/${realestateIdParam}`).update(formValue);\n      this.success = true;\n      setTimeout(() => {\n        this.realestateForm.reset();\n        this.realestateservice.edit = false;\n        this.success = false;\n        this.realestateForm.markAsPristine();\n      },\n        1000);\n    } catch (err) {\n      console.error(err);\n    }\n    this.loading = false;\n  }\n  /**\n   * Triggered when user edits a property (clicks Bearbeiten button).\n   * Subscribes to the real state document which is edited\n   */\n  loadEditData(realestateIdParam: string) {\n    // console.log(realestateIdParam);\n    this.mySelectedRealestate = realestateIdParam;\n    this.realestateservice.edit = true;\n    this.formSub = this.realestateservice.getRealestate(realestateIdParam).valueChanges().pipe(\n      tap(data => {\n        this.realestateForm.patchValue(data);\n      })\n    )\n      .subscribe();\n  }\n  /**\n   * Triggered when user deletes a real estate\n   * Deletes the real estate document from the database\n   */\n  async deleteRealestate(realestateIdParam: string) {\n    const r = confirm('Möchten Sie die Immobilie wirklich löschen? Diese Aktion kann nicht rückgängig gemacht werden!');\n    if (r) {\n      const user = JSON.parse(sessionStorage.getItem('user'));\n      const userRef = user.uid;\n      this.realestateservice.getRealestate(realestateIdParam).delete();\n    }\n  }\n}\n","module.exports = \":host ::ng-deep .mat-checkbox:not(.mat-checkbox-disabled).mat-primary .mat-checkbox-ripple .mat-ripple-element, :host ::ng-deep .mat-checkbox-checked.mat-primary .mat-checkbox-background {\\n  background-color: #2cb3a0 !important;\\n}\\n\\nul {\\n  list-style: none;\\n  padding-left: 0px;\\n}\\n\\n.password-rules{\\n  max-width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVnaXN0ZXIvcmVnaXN0ZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG9DQUFvQztBQUN0Qzs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCIiwiZmlsZSI6InNyYy9hcHAvcmVnaXN0ZXIvcmVnaXN0ZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IDo6bmctZGVlcCAubWF0LWNoZWNrYm94Om5vdCgubWF0LWNoZWNrYm94LWRpc2FibGVkKS5tYXQtcHJpbWFyeSAubWF0LWNoZWNrYm94LXJpcHBsZSAubWF0LXJpcHBsZS1lbGVtZW50LCA6aG9zdCA6Om5nLWRlZXAgLm1hdC1jaGVja2JveC1jaGVja2VkLm1hdC1wcmltYXJ5IC5tYXQtY2hlY2tib3gtYmFja2dyb3VuZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMyY2IzYTAgIWltcG9ydGFudDtcbn1cblxudWwge1xuICBsaXN0LXN0eWxlOiBub25lO1xuICBwYWRkaW5nLWxlZnQ6IDBweDtcbn1cblxuLnBhc3N3b3JkLXJ1bGVze1xuICBtYXgtd2lkdGg6IDEwMCU7XG59Il19 */\"","module.exports = \"<!-- Hide page after user pressed register button -->\\n<ng-container *ngIf=\\\"!(auth.registering) || !adminFlag\\\">\\n\\n  <!-- Page-Content -->\\n  <div id=\\\"paddingdiv\\\">\\n\\n    <!-- Aligning the contents of the page with the logo -->\\n    <div style=\\\"max-width: 300px; width: 100%; height: auto; margin: 0 auto;\\\">\\n\\n      <!-- Logo -->\\n      <img class=\\\"mb-4\\\" *ngIf=\\\"!adminFlag\\\" src=\\\"assets/images/Logo-IMOGENT-mit-Schrift-300x94.png\\\">\\n\\n      <!-- Registration Form -->\\n      <h3 class=\\\"b text-center\\\">Registrierung</h3>\\n      <form [formGroup]=\\\"registerForm\\\" (ngSubmit)=\\\"submitHandler()\\\">\\n\\n        <!-- Form of address -->\\n        <div class=\\\"form-group\\\">\\n\\n          <!-- Form of address Selection -->\\n          <!-- <mat-form-field>\\n            <mat-label>\\n              Anrede\\n            </mat-label>\\n            <select matNativeControl [(ngModel)]=\\\"anrede\\\" formControlName=\\\"anrede\\\">\\n              <option>Anrede auswählen</option>\\n              <option>Herr</option>\\n              <option>Frau</option>\\n            </select>\\n          </mat-form-field> -->\\n\\n          <mat-form-field>\\n            <mat-label>Anrede</mat-label>\\n            <mat-select [formControl]=\\\"anrede\\\" required>\\n              <mat-option [value]=\\\"'Herr'\\\">Herr</mat-option>\\n              <mat-option [value]=\\\"'Frau'\\\">Frau</mat-option>\\n            </mat-select>\\n          </mat-form-field>\\n\\n          <!-- Form Validation Error -->\\n          <span *ngIf=\\\"anrede.invalid && anrede.touched\\\">\\n            <div class=\\\"alert alert-warning\\\">Bitte geben Sie eine Anrede an!</div>\\n          </span>\\n\\n        </div>\\n\\n        <!-- First Name -->\\n        <div class=\\\"form-group\\\">\\n\\n          <!-- First Name Input -->\\n          <input formControlName=\\\"firstName\\\" class=\\\"form-control\\\" placeholder=\\\"Vorname *\\\">\\n          <!-- Form Validation Error -->\\n          <span *ngIf=\\\"firstName.invalid && firstName.touched\\\">\\n            <br>\\n            <div class=\\\"alert alert-warning\\\">Bitte geben Sie einen (gültigen) Vornamen ein!</div>\\n          </span>\\n\\n        </div>\\n\\n        <!-- Last Name -->\\n        <div class=\\\"form-group\\\">\\n\\n          <!-- Input Last Name -->\\n          <input formControlName=\\\"lastName\\\" class=\\\"form-control\\\" placeholder=\\\"Nachname *\\\">\\n          <!-- Validation Error -->\\n          <span *ngIf=\\\"lastName.invalid && lastName.touched\\\">\\n            <br>\\n            <div class=\\\"alert alert-warning\\\">Bitte geben Sie einen (gültigen) Nachnamen ein!</div>\\n          </span>\\n\\n        </div>\\n\\n\\n        <!-- Email -->\\n        <div class=\\\"form-group\\\">\\n\\n          <!-- E-Mail Input -->\\n          <input type=\\\"email\\\" autocomplete=\\\"username\\\" formControlName=\\\"email\\\" class=\\\"form-control\\\" placeholder=\\\"E-Mail *\\\">\\n          <!-- Validation Error -->\\n          <span *ngIf=\\\"email.invalid && email.touched\\\">\\n            <br>\\n            <div class=\\\"alert alert-warning\\\">Bitte geben Sie eine gültige E-Mail ein!</div>\\n          </span>\\n\\n        </div>\\n\\n        <!-- Password -->\\n        <div class=\\\"form-group\\\">\\n\\n          <!-- Password Input -->\\n          <input autocomplete=\\\"new-password\\\" type=\\\"password\\\" formControlName=\\\"password1\\\" class=\\\"form-control\\\"\\n            placeholder=\\\"Passwort *\\\" #newPwd [ngbPopover]=\\\"popContent\\\" [popoverTitle]=\\\"popTitle\\\"\\n            placement=\\\"{{popoverPlacement}}\\\" triggers=\\\"focus active\\\">\\n          <span *ngIf=\\\"password1.invalid && password1.touched\\\">\\n            <br>\\n            <div class=\\\"alert alert-warning\\\">Bitte geben Sie ein gültiges Passwort ein!</div>\\n          </span>\\n          <ng-template #popTitle><b>Passwortanforderungen</b></ng-template>\\n          <ng-template #popContent>\\n            <ul>\\n              <li><i *ngIf=\\\"!password1.errors || password1.errors.passwordError.length; else notCorrect\\\"\\n                  class=\\\"fas fa-check-circle text-success\\\"></i> mindestens 6,\\n                maximal 32 Zeichen</li>\\n              <li><i *ngIf=\\\"!password1.errors || password1.errors.passwordError.lowerCase; else notCorrect\\\"\\n                  class=\\\"fas fa-check-circle text-success\\\"></i> mindestens einen\\n                Kleinbuchstaben</li>\\n              <li><i *ngIf=\\\"!password1.errors || password1.errors.passwordError.upperCase; else notCorrect\\\"\\n                  class=\\\"fas fa-check-circle text-success\\\"></i> mindestens einen\\n                Großbuchstaben</li>\\n              <li><i *ngIf=\\\"!password1.errors || password1.errors.passwordError.digit; else notCorrect\\\"\\n                  class=\\\"fas fa-check-circle text-success\\\"></i> mindestens eine Zahl\\n              </li>\\n            </ul>\\n          </ng-template>\\n          <ng-template #notCorrect>\\n            <i class=\\\"fas fa-times-circle text-danger\\\"></i>\\n          </ng-template>\\n        </div>\\n\\n        <!-- Repeat Password -->\\n        <div class=\\\"form-group\\\">\\n          <!-- Password Input -->\\n          <input autocomplete=\\\"new-password\\\" type=\\\"password\\\" formControlName=\\\"password2\\\" class=\\\"form-control\\\"\\n            placeholder=\\\"Passwort wiederholen *\\\">\\n          <!-- Validation Error -->\\n          <span *ngIf=\\\"password2.invalid && password2.touched\\\">\\n            <br>\\n            <div *ngIf=\\\"password2.errors.required\\\" class=\\\"alert alert-warning\\\">Passwörter stimmen nicht\\n              überein!</div>\\n            <div *ngIf=\\\"!password2.errors.required && password2.errors.passwordError\\\" class=\\\"alert alert-warning\\\">\\n              {{password2.errors.passwordError.value}}</div>\\n            <div\\n              *ngIf=\\\"!password2.errors.required && !password2.errors.passwordError && password2.errors.repeatPasswordError\\\"\\n              class=\\\"alert alert-warning\\\">{{password2.errors.repeatPasswordError.value}}</div>\\n          </span>\\n        </div>\\n\\n        <!-- Choose Role -->\\n        <div class=\\\"form-group\\\">\\n\\n          <!-- Role Selection -->\\n          <!-- <select class=\\\"form-control\\\" formControlName=\\\"role\\\">\\n            <option>Nutzerrolle wählen</option>\\n            <option>Kunde</option>\\n            <option>Dienstleister</option>\\n          </select> -->\\n\\n          <mat-form-field>\\n            <mat-label>Nutzerrolle</mat-label>\\n            <mat-select [formControl]=\\\"role\\\" required>\\n              <mat-option [value]=\\\"'Kunde'\\\">Kunde</mat-option>\\n              <mat-option [value]=\\\"'Dienstleister'\\\">Dienstleister</mat-option>\\n            </mat-select>\\n          </mat-form-field>\\n          <!-- Validation Error -->\\n          <span *ngIf=\\\"role.invalid && role.touched\\\">\\n            <div class=\\\"alert alert-warning\\\">Bitte geben Sie eine Rolle an!</div>\\n          </span>\\n        </div>\\n\\n        <!-- Accept the terms & conditions (AGB) -->\\n        <div class=\\\"form-group\\\">\\n\\n          <div class=\\\"form-check\\\">\\n\\n            <!-- Checkbox Input -->\\n            <!-- <input class=\\\"form-check-input\\\" type=\\\"checkbox\\\" id=\\\"invalidCheck\\\" (click)=\\\"conditionsChecked();\\\" required> -->\\n            <mat-checkbox color=\\\"primary\\\" id=\\\"invalidCheck\\\" [formControl]=\\\"conditions\\\" (click)=\\\"conditionsChecked();\\\"\\n              required>\\n            </mat-checkbox>\\n            <div class=\\\"b\\\">\\n              Ich habe die\\n              <a href=\\\"https://www.imogent.de/agb\\\" class=\\\"my-link\\\" target=\\\"_blank\\\"> AGB </a>\\n              gelesen und erkläre mich mit diesen einverstanden.\\n            </div>\\n            <div *ngIf=\\\"conditions.invalid && conditions.touched\\\">\\n              <br>\\n              <div class=\\\"alert alert-warning\\\">Um die Registrierung abzuschließen, bestätigen Sie bitte unsere\\n                AGB!</div>\\n            </div>\\n            <!-- Legal Clause next to the checkbox -->\\n          </div>\\n        </div>\\n\\n        <!-- Buttons: Register or cancel -->\\n        <div class=\\\"form-group\\\">\\n          <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">Registrieren</button>\\n          <a routerLink=\\\"/login\\\" *ngIf=\\\"!adminFlag\\\" class=\\\"btn btn-link\\\">Abbrechen</a>\\n          <button class=\\\"btn btn-outline-secondary ml-2\\\" *ngIf=\\\"adminFlag\\\" routerLink=\\\"/users\\\">\\n            Abbrechen\\n          </button>\\n        </div>\\n\\n      </form>\\n\\n      <!-- Footer -->\\n      <section *ngIf=\\\"!adminFlag\\\">\\n        <p class=\\\"b nomarbot\\\">&copy;2019 IMOGENT GmbH</p>\\n        <!-- Privacy Policy & Imprint -->\\n        <a href=\\\"https://www.imogent.de/datenschutz\\\" class=\\\"my-link\\\">Datenschutz</a><span> | </span><a class=\\\"my-link\\\"\\n          href=\\\"https:www.imogent.de/impressum\\\">Impressum</a>\\n      </section>\\n\\n    </div>\\n  </div>\\n\\n</ng-container>\"","import { Component, OnInit, ViewChild, AfterViewInit } from '@angular/core';\nimport { AuthService } from '../auth/auth.service';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { LoaderService } from '@app/_services/loader.service';\nimport { Router } from '@angular/router';\nimport { UsersService } from '@app/_services/users.service';\nimport { passwordValidator, repeatPasswordValidator } from '@app/shared/form.validators';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent implements OnInit, AfterViewInit {\n\n  lowerCase = false;\n  upperCase = false;\n  digit = false;\n  length = false;\n  passwordHelp = false;\n  @ViewChild('newPwd') newPwd;\n\n  public conditionsAccepted = false;\n  public registerForm: FormGroup;\n  public passwordError = false;\n  public roleError = false;\n  adminFlag: boolean;\n  popoverPlacement: string;\n  constructor(public auth: AuthService, private fb: FormBuilder, public loader: LoaderService, private router: Router) {\n    this.registerForm = this.fb.group({\n      anrede: ['Anrede auswählen', [\n        Validators.required,\n        Validators.pattern('[a-zA-Z]*')\n      ]],\n      firstName: ['', [\n        Validators.required,\n        Validators.pattern('^([A-ZäöüÄÖÜß-][a-zA-ZäöüÄÖÜß -]*[a-zA-ZäöüÄÖÜß]$)')\n      ]],\n      lastName: ['', [\n        Validators.required,\n        Validators.pattern('^([A-ZäöüÄÖÜß-][a-zA-ZäöüÄÖÜß -]*[a-zA-ZäöüÄÖÜß]$)')\n      ]],\n      email: ['', [\n        Validators.required,\n        Validators.pattern('^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$')\n      ]],\n      password1: ['', [\n        Validators.required,\n        passwordValidator()\n      ]],\n      password2: ['', [\n        Validators.required,\n        passwordValidator()\n      ]],\n      role: ['Nutzerrolle wählen', [\n        Validators.required,\n        Validators.pattern('[a-zA-Z]*')\n      ]],\n      conditions: [false, [\n        Validators.required\n      ]]\n    });\n  }\n\n  ngOnInit() {\n    this.adminFlag = this.auth.adminFlag;\n    this.auth.checkAuthState().then(result => {\n      if (result && !this.adminFlag) {\n        this.router.navigate(['/users']);\n      }\n    });\n    if (window.matchMedia(`(min-width: 960px)`).matches) {\n      this.popoverPlacement = 'right';\n    } else {\n      this.popoverPlacement = 'top';\n    }\n  }\n\n  ngAfterViewInit() {\n    const newPwd = this.newPwd.nativeElement;\n    this.password2.setValidators([Validators.required, passwordValidator(), repeatPasswordValidator(newPwd)]);\n  }\n\n  get anrede() {\n    return this.registerForm.get('anrede');\n  }\n  get firstName() {\n    return this.registerForm.get('firstName');\n  }\n  get lastName() {\n    return this.registerForm.get('lastName');\n  }\n  get email() {\n    return this.registerForm.get('email');\n  }\n  get password1() {\n    return this.registerForm.get('password1');\n  }\n  get password2() {\n    return this.registerForm.get('password2');\n  }\n  get role() {\n    return this.registerForm.get('role');\n  }\n\n  get conditions() {\n    return this.registerForm.get('conditions');\n  }\n\n  async submitHandler() {\n    const formValue = this.registerForm.value;\n    Object.keys(this.registerForm.controls).forEach(control => {\n      this.registerForm.controls[control].updateValueAndValidity();\n      this.registerForm.controls[control].markAsTouched();\n    });\n    console.log(this.registerForm);\n    if (!this.registerForm.valid || !this.conditionsAccepted) {\n      return;\n    }\n    try {\n      if (formValue.password1 === formValue.password2) {\n        this.roleError = false;\n        this.passwordError = false;\n        if (!this.adminFlag) {\n          this.auth.registering = true;\n        }\n        await this.auth.register(formValue).then(result => {\n          if (!this.adminFlag) {\n            this.loader.getDataAfterAuthenticated();\n          } else {\n            this.router.navigate(['/users']);\n          }\n        },\n          reject => {\n            console.log('Do Nothing');\n          });\n      } else {\n        console.log(formValue.password1);\n        console.log(formValue.password2);\n\n        this.passwordError = true;\n        console.log('Passwort Error');\n      }\n    } catch (err) {\n      window.alert(err);\n    }\n  }\n\n  conditionsChecked() {\n    this.conditionsAccepted = !this.conditionsAccepted;\n  }\n}\n","module.exports = \".fileContainer {\\n  overflow: hidden;\\n  position: relative;\\n}\\n\\n.fileContainer [type=file] {\\n  cursor: inherit;\\n  display: block;\\n  font-size: 999px;\\n  filter: alpha(opacity=0);\\n  min-height: 100%;\\n  min-width: 100%;\\n  opacity: 0;\\n  position: absolute;\\n  right: 0;\\n  text-align: right;\\n  top: 0;\\n}\\n\\n.file-list .file-entry{\\n  border-radius: 5%;\\n  padding: 5px 0 5px 0;\\n}\\n\\n.file-list .file-entry:nth-child(odd){\\n  background-color: #e5f9f6;\\n}\\n\\n.file-list .file-entry .file-name{\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.file-list:not(.logo-file){\\n  height: 123px;\\n  overflow-y: auto;\\n}\\n\\n.file-list .file-entry .file-remove{\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmV0b3VjaGluZy1zZXJ2aWNlL3JldG91Y2hpbmctc2VydmljZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixjQUFjO0VBQ2QsZ0JBQWdCO0VBQ2hCLHdCQUF3QjtFQUN4QixnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLFVBQVU7RUFDVixrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLGlCQUFpQjtFQUNqQixNQUFNO0FBQ1I7O0FBQ0E7RUFDRSxpQkFBaUI7RUFDakIsb0JBQW9CO0FBQ3RCOztBQUNBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUNBO0VBQ0UsbUJBQW1CO0VBQ25CLGdCQUFnQjtFQUNoQix1QkFBdUI7QUFDekI7O0FBQ0E7RUFDRSxhQUFhO0VBQ2IsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQiIsImZpbGUiOiJzcmMvYXBwL3JldG91Y2hpbmctc2VydmljZS9yZXRvdWNoaW5nLXNlcnZpY2UuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5maWxlQ29udGFpbmVyIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uZmlsZUNvbnRhaW5lciBbdHlwZT1maWxlXSB7XG4gIGN1cnNvcjogaW5oZXJpdDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtc2l6ZTogOTk5cHg7XG4gIGZpbHRlcjogYWxwaGEob3BhY2l0eT0wKTtcbiAgbWluLWhlaWdodDogMTAwJTtcbiAgbWluLXdpZHRoOiAxMDAlO1xuICBvcGFjaXR5OiAwO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgdG9wOiAwO1xufVxuLmZpbGUtbGlzdCAuZmlsZS1lbnRyeXtcbiAgYm9yZGVyLXJhZGl1czogNSU7XG4gIHBhZGRpbmc6IDVweCAwIDVweCAwO1xufVxuLmZpbGUtbGlzdCAuZmlsZS1lbnRyeTpudGgtY2hpbGQob2RkKXtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U1ZjlmNjtcbn1cbi5maWxlLWxpc3QgLmZpbGUtZW50cnkgLmZpbGUtbmFtZXtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG59XG4uZmlsZS1saXN0Om5vdCgubG9nby1maWxlKXtcbiAgaGVpZ2h0OiAxMjNweDtcbiAgb3ZlcmZsb3cteTogYXV0bztcbn1cblxuLmZpbGUtbGlzdCAuZmlsZS1lbnRyeSAuZmlsZS1yZW1vdmV7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn0iXX0= */\"","module.exports = \"<!-- Description what the customer will get -->\\n<div class=\\\"row\\\">\\n    <div class=\\\"col\\\">\\n        <h4>Das erwartet Sie:</h4>\\n        <ul class=\\\"list-unstyled mt-3 mb-4\\\">\\n            <li *ngFor=\\\"let item of package.package_contents\\\" class=\\\"text-truncate\\\"> ✓ {{item}}</li>\\n        </ul>\\n        <!-- Border -->\\n        <div class=\\\"border-bottom bbcb mt-3 mb-3\\\"></div>\\n\\n        <!-- Form for special wishes of the customer -->\\n        <form [formGroup]=\\\"retouchingForm\\\">\\n            <!-- Start file upload -->\\n            <div class=\\\"form-group row\\\">\\n                <div class=\\\"col-3 upload-button-container\\\">\\n                    <label class=\\\"fileContainer btn btn-dark btn-sm text-white\\\">\\n                        Datei hochladen\\n                        <input type=\\\"file\\\" formControlName=\\\"uploadedFiles\\\" multiple=\\\"true\\\" #uploadFileElem\\n                            (change)=\\\"onChange()\\\" [writeFile]=\\\"true\\\"  accept=\\\".png,.jpeg,.pdf,.jpg\\\" ng2FileSelect [uploader]=\\\"uploader\\\" />\\n\\t\\t\\t\\t\\t</label>\\n                </div>\\n                <div class=\\\"col-4 file-list\\\">\\n                    <div class=\\\"file-entry row\\\" *ngFor=\\\"let file of uploader.queue\\\">\\n                        <div class=\\\"col-8 file-name\\\">\\n                            {{ file?.file?.name }}\\n                        </div>\\n                        <div class=\\\"col-4 text-right\\\">\\n                            <span class=\\\"fas fa-trash-alt text-danger file-remove\\\" (click)=\\\"onRemoveFile(file)\\\"></span>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div *ngIf=\\\"uploadedFiles.invalid && (uploadedFiles.dirty || uploadedFiles.touched)\\\"\\n                    class=\\\"alert alert-danger col-12\\\">\\n                    <div *ngIf=\\\"uploadedFiles.errors.required\\\">\\n                        Bitte geben Sie ein (gültiges) Foto ein!\\n                    </div>\\n                    <div *ngIf=\\\"uploadedFiles.errors.forbiddenFile\\\">\\n                        Bitte laden Sie ein gültiges Dateiformat hoch\\n                    </div>\\n                    <div *ngIf=\\\"!uploadedFiles.errors.required && uploadedFiles.errors.fileRequired\\\">\\n                        Bitte geben Sie ein (gültiges) Foto ein!\\n                    </div>\\n                </div>\\n            </div>\\n            <!-- End file upload field -->\\n            <h4>Sonderwünsche:</h4>\\n            <p class=\\\"mb-0\\\">Sollten Sie besondere Bearbeitungswünsche für die hochgeladenen Aufnahmen haben, erläutern\\n                Sie diese bitte möglichst detailiert in dem Kommentarfeld für den Dienstleister.</p>\\n            <a href=\\\"../../assets/images/formulierungshilfe.svg\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\\n                class=\\\"my-link\\\">Formulierungshilfe</a>\\n\\n            <!-- Decription for retouching -->\\n            <div class=\\\"form-group mt-4\\\">\\n                <p class=\\\"mb-0\\\">Kommentar für die Bildbearbeitung:</p>\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"{{package.description_placeholder}}\\\"\\n                    formControlName=\\\"description\\\">\\n            </div>\\n        </form>\\n    </div>\\n</div>\\n<!-- Show price -->\\n<div class=\\\"row mb-2\\\">\\n    <div class=\\\"col-4\\\"></div>\\n    <div class=\\\"col-8\\\">\\n        <hr />\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-8\\\">\\n                <h4>Summe</h4>\\n            </div>\\n            <div class=\\\"col-4 text-right font-sz-20\\\"> € {{calculatePrice()}} </div>\\n        </div>\\n    </div>\\n</div>\\n\"","import { Component, OnInit, AfterViewInit, Output, EventEmitter, Input, ElementRef, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Package } from '@app/models/package';\nimport { FileUploader } from 'ng2-file-upload';\nimport { fileRequiredValidator } from '../modals/package-editor/package-editor.component';\nimport { forbiddenFileValidator } from '../modals/package-editor/package-editor.component';\nimport * as accounting from 'accounting';\nimport * as _ from 'underscore';\n@Component({\n  selector: 'app-retouching-service',\n  templateUrl: './retouching-service.component.html',\n  styleUrls: ['./retouching-service.component.css']\n})\nexport class RetouchingServiceComponent implements OnInit, AfterViewInit {\n  @ViewChild(\"uploadFileElem\") uploadFileElem: ElementRef<any>;\n  @Output() onFormChange = new EventEmitter();\n  @Input(\"package\") package: Package;\n  retouchingForm: FormGroup;\n  public uploader: FileUploader = new FileUploader({});\n  filesElem: ElementRef;\n  allowedFileExt = ['jpg', 'jpeg', 'png', 'JPG']; // allowed file extensions for drone photos\n  oldValidate: boolean;\n\n  constructor(\n    private fb: FormBuilder) {\n    this.retouchingForm = this.fb.group({\n      description: [''],\n      uploadedFiles: ['', [\n        Validators.required,\n        forbiddenFileValidator(this.allowedFileExt, this.filesElem),\n        fileRequiredValidator(this.uploader.queue)\n      ]]\n    });\n  }\n\n  ngOnInit() {\n    this.package.form = this.retouchingForm;\n    this.package[\"validate\"] = true;\n    this.oldValidate = this.package[\"validate\"];\n  }\n\n  get uploadedFiles() {\n    return this.retouchingForm.get('uploadedFiles');\n  }\n  get description() {\n    return this.retouchingForm.get('description');\n  }\n\n  ngAfterViewInit() {\n    this.filesElem = this.uploadFileElem.nativeElement;\n    this.retouchingForm = this.fb.group({\n      description: [''],\n      uploadedFiles: ['', [\n        Validators.required,\n        forbiddenFileValidator(this.allowedFileExt, this.filesElem),\n        fileRequiredValidator(this.uploader.queue)\n      ]]\n    });\n\n    this.retouchingForm.valueChanges.subscribe(() => {\n      let formValues = {};\n      let fileList = [];\n      // handle file uploads\n      Object.keys(this.retouchingForm.controls).forEach(control => {\n        if (control === 'uploadedFiles') {\n          fileList = [];\n          this.uploader.queue.forEach(entry => fileList.push(entry.file.rawFile));\n          formValues[control] = fileList;\n        }\n      });\n\n      formValues['description'] = this.retouchingForm.value.description;\n      formValues['packageNum'] = this.package['package_key'];\n      this.onFormChange.emit(formValues);\n    });\n  }\n\n  onChange(): void {\n    this.package.form = this.retouchingForm;\n    const fileListLength = this.uploader.queue.length;\n    let lastFile = this.uploader.queue[fileListLength - 1];\n    for (let i = 0; i < fileListLength - 1; i++) {\n      if (lastFile.file.name === this.uploader.queue[i].file.name && lastFile.file.size === this.uploader.queue[i].file.size) {\n        lastFile.remove();\n      }\n    }\n    // fix for Internet Explorer. Manually set the file value\n    if (this.uploader.queue.length > 0 && _.isEmpty(this.retouchingForm.get('uploadedFiles').value)) {\n      this.retouchingForm.controls['uploadedFiles'].setValue(this.uploader.queue[0].file.name);\n    }\n    this.retouchingForm.controls.uploadedFiles.updateValueAndValidity();\n  }\n\n  ngDoCheck(): void {\n    if (this.package[\"validate\"] != this.oldValidate) {\n      Object.keys(this.retouchingForm.controls).forEach(control => {\n        this.retouchingForm.controls[control].markAsTouched();\n      });\n    }\n  }\n\n  onRemoveFile(file, type?: string): void {\n    file.remove();\n    this.retouchingForm.controls.uploadedFiles.updateValueAndValidity();\n  }\n\n  calculatePrice() {\n    const unformated_number = accounting.unformat(this.package.price, ',');\n    const total_price = unformated_number * this.uploader.queue.length;\n    this.package['total_price'] = accounting.formatMoney(total_price, '', 2, '.', ',');\n    // return formatted price\n    return this.package['total_price'];\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JldG91Y2hpbmctc3Vib3JkZXItb3ZlcnZpZXcvcmV0b3VjaGluZy1zdWJvcmRlci1vdmVydmlldy5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<div class=\\\"row\\\">\\n  <div class=\\\"col-6\\\">\\n    <p><strong>Kommentar für die Nachbearbeitung: </strong> <span *ngIf=\\\"os.currentSuborder.description === ''\\\">Nicht\\n        angegeben</span>{{ os.currentSuborder.description }}</p>\\n\\n  </div>\\n</div>\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-6\\\">\\n    <h5 class=\\\"mb-2\\\"> Original</h5>\\n  </div>\\n</div>\\n<!-- File upload component to show uploaded photos without retouching-->\\n<app-file-upload *ngIf=\\\"os.currentSuborder.status !== 'pending'\\\"\\n  [parentId]=\\\" os.currentSuborder.pendingOnSuborderId ? os.currentSuborder.pendingOnSuborderId : os.currentSuborder.id \\\"\\n  [allowedFileExt]=\\\"allowedFileExt\\\" [parentType]=\\\"'suborders'\\\" [readOnly]=\\\"true\\\"\\n  [subCollectionName]=\\\"os.currentSuborder.pendingOnSuborderId ? 'dronePhotos' : 'originalPhotos'\\\" [parent]=\\\"this\\\">\\n</app-file-upload>\\n<hr />\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-6\\\">\\n    <h5 class=\\\"mb-2\\\">Retouched</h5>\\n  </div>\\n</div>\\n<!-- File upload component to upload/show photos with retouching-->\\n<app-file-upload *ngIf=\\\"os.currentSuborder.status !== 'pending'\\\" [parentId]=\\\"os.currentSuborder.id\\\"\\n  [allowedFileExt]=\\\"allowedFileExt\\\" [parentType]=\\\"'suborders'\\\" [subFolderName]=\\\"'retouchedPhotos/'\\\"\\n  (setSubmitDisabled)=\\\"setSubmitDisabledHandler($event)\\\" [subCollectionName]=\\\"'retouchedPhotos'\\\" [parent]=\\\"this\\\">\\n</app-file-upload>\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { OrdersService } from '@app/_services/orders.service';\nimport { AuthService } from '@app/auth/auth.service';\nimport * as _ from 'underscore';\n\n@Component({\n  selector: 'app-retouching-suborder-overview',\n  templateUrl: './retouching-suborder-overview.component.html',\n  styleUrls: ['./retouching-suborder-overview.component.css']\n})\nexport class RetouchingSuborderOverviewComponent implements OnInit {\n\n  @Output() setSubmitDisabled = new EventEmitter<boolean>();\n\n  allowedFileExt = ['jpg', 'jpeg', 'png', 'JPG']; // allowed file extensions for retouching photos\n  constructor(\n    public os: OrdersService,\n    public auth: AuthService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  /**\n   * controls disabling of attachment deletion\n   */\n  deleteAttachmentDisabled() {\n    if (this.os.currentSuborder.status === 'uploaded' || this.os.currentSuborder.status === 'completed'\n      || this.auth.role === 'Kunde'\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * controls disabling of attachment upload\n   */\n  isUploadDisabled() {\n    if (this.os.currentSuborder.status === 'uploaded' || this.os.currentSuborder.status === 'completed'\n      || this.auth.role === 'Kunde'\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  setSubmitDisabledHandler(value: boolean) {\n    this.setSubmitDisabled.emit(value);\n  }\n\n}\n","export * from './services.component';\r\n","module.exports = \"label {\\n  color: #50535b;\\n}\\n\\n.container-fluid.shadow.rounded {\\n  padding-top: 0.5%;\\n}\\n\\nh6 {\\n  color: #50535b;\\n}\\n\\n.form-check.package {\\n  margin-top: 10%;\\n}\\n\\n.package .card-header h5 {\\n  color: #fff !important;\\n}\\n\\n.default-header {\\n  border-radius: 5px;\\n  background: rgba(44, 179, 160, 0.5);\\n  padding: 7px 7px;\\n}\\n\\n.package {\\n  width: 100%;\\n}\\n\\nbody {\\n  margin: 0;\\n}\\n\\n.fixed_div {\\n  position: fixed;\\n  top: 0;\\n  background-color: #616b7a;\\n  left: 260px;\\n  right: 0px;\\n  margin-left: 0px;\\n  padding-left: 30px;\\n  padding-right: 30px;\\n  z-index: 5;\\n}\\n\\n.content {\\n  z-index: 1;\\n  margin-top: 80px;\\n  margin-right: 30px;\\n}\\n\\n/* .mat-pseudo-checkbox {\\n    /deep/ .mat-accent .mat-pseudo-checkbox-checked,\\n    .mat-accent .mat-pseudo-checkbox-indeterminate,\\n    .mat-pseudo-checkbox-checked,\\n    .mat-pseudo-checkbox-indeterminate {\\n         background: #2cb3a0;\\n    }\\n} */\\n\\n/* .mat-pseudo-checkbox {\\n    background: #2cb3a0 !important;\\n} */\\n\\n::ng-deep .mat-primary .mat-pseudo-checkbox-checked {\\n  background: #2cb3a0;\\n}\\n\\n::ng-deep .mat-pseudo-checkbox .mat-pseudo-checkbox-checked {\\n  background: #2cb3a0;\\n}\\n\\n::ng-deep .mat-accent .mat-pseudo-checkbox-checked, .mat-accent .mat-pseudo-checkbox-indeterminate, .mat-pseudo-checkbox-checked, .mat-pseudo-checkbox-indeterminate {\\n  background: #2cb3a0;\\n}\\n\\n/* /deep/ .mat-primary .mat-pseudo-checkbox-checked {\\n  background: #2cb3a0;\\n}\\n\\n/deep/ .mat-pseudo-checkbox .mat-pseudo-checkbox-checked {\\n  background: #2cb3a0;\\n}\\n\\n/deep/ .mat-accent .mat-pseudo-checkbox-checked, .mat-accent .mat-pseudo-checkbox-indeterminate, .mat-pseudo-checkbox-checked, .mat-pseudo-checkbox-indeterminate {\\n  background: #2cb3a0;\\n} */\\n\\n.mat-pseudo-checkbox .mat-pseudo-checkbox-checked {\\n  background: #2cb3a0;\\n}\\n\\n.mat-pseudo-checkbox.mat-pseudo-checkbox-checked, .mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate {\\n  background: #2cb3a0;\\n  border-color: black;\\n}\\n\\n/* .packages-container{\\n  max-height: 110vh;\\n  overflow-y: auto;\\n} */\\n\\n.cart-container .cart-items {\\n  max-width: 95%;\\n}\\n\\n.cart-container .cart-item-thumbnail {\\n  height: 40px;\\n  width: 40px;\\n}\\n\\n.cart-container .remove-item-icon {\\n  cursor: pointer;\\n}\\n\\n.new-property-switch {\\n  margin-bottom: 0;\\n}\\n\\n:host ::ng-deep .new-property-switch label {\\n  color: #3C4858;\\n}\\n\\n:host ::ng-deep .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb, :host ::ng-deep .mat-slide-toggle.mat-checked .mat-ripple-element {\\n  background-color: #2cb3a0;\\n}\\n\\n:host ::ng-deep .mat-slide-toggle.mat-checked .mat-slide-toggle-bar {\\n  background-color: rgba(44, 179, 160, 0.54);\\n}\\n\\n.cart-container .selected-service {\\n  background-color: #2cb3a0;\\n  color: #fff !important;\\n}\\n\\n.page-title {\\n  font-size: 1.55rem;\\n}\\n\\n:host ::ng-deep .mat-checkbox:not(.mat-checkbox-disabled).mat-primary .mat-checkbox-ripple .mat-ripple-element, :host ::ng-deep .mat-checkbox-checked.mat-primary .mat-checkbox-background {\\n  background-color: #2cb3a0 !important;\\n}\\n\\n.card-wizard .tab-content {\\n  padding: 0;\\n}\\n\\n.package-card-body .package-accordian {\\n  width: 100%;\\n}\\n\\n.add-new-realestate .add-new-realestate-body, .realestate-card-body {\\n  padding: 0.9375rem 0.5rem;\\n}\\n\\n.add-new-realestate {\\n  height: 73%;\\n  min-height: 171px;\\n  background: transparent;\\n  border: 2px dashed #22bca4;\\n  cursor: pointer;\\n}\\n\\n.add-new-realestate .add-new-realestate-body i {\\n  font-size: 8rem;\\n  color: #22bca4;\\n}\\n\\n.filter-padding {\\n  padding-right: 20px !important;\\n}\\n\\n.hd-photos-header{\\n  padding-left: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2VydmljZXMvc2VydmljZXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixtQ0FBbUM7RUFDbkMsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsV0FBVztBQUNiOztBQUVBO0VBQ0UsU0FBUztBQUNYOztBQUVBO0VBQ0UsZUFBZTtFQUNmLE1BQU07RUFDTix5QkFBeUI7RUFDekIsV0FBVztFQUNYLFVBQVU7RUFDVixnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixVQUFVO0FBQ1o7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtBQUNwQjs7QUFFQTs7Ozs7OztHQU9HOztBQUVIOztHQUVHOztBQUVIO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBOzs7Ozs7Ozs7O0dBVUc7O0FBRUg7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsbUJBQW1CO0FBQ3JCOztBQUVBOzs7R0FHRzs7QUFFSDtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osV0FBVztBQUNiOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSwwQ0FBMEM7QUFDNUM7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0Usb0NBQW9DO0FBQ3RDOztBQUVBO0VBQ0UsVUFBVTtBQUNaOztBQUVBO0VBQ0UsV0FBVztBQUNiOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsV0FBVztFQUNYLGlCQUFpQjtFQUNqQix1QkFBdUI7RUFDdkIsMEJBQTBCO0VBQzFCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsY0FBYztBQUNoQjs7QUFFQTtFQUNFLDhCQUE4QjtBQUNoQzs7QUFFQTtFQUNFLGtCQUFrQjtBQUNwQiIsImZpbGUiOiJzcmMvYXBwL3NlcnZpY2VzL3NlcnZpY2VzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJsYWJlbCB7XG4gIGNvbG9yOiAjNTA1MzViO1xufVxuXG4uY29udGFpbmVyLWZsdWlkLnNoYWRvdy5yb3VuZGVkIHtcbiAgcGFkZGluZy10b3A6IDAuNSU7XG59XG5cbmg2IHtcbiAgY29sb3I6ICM1MDUzNWI7XG59XG5cbi5mb3JtLWNoZWNrLnBhY2thZ2Uge1xuICBtYXJnaW4tdG9wOiAxMCU7XG59XG5cbi5wYWNrYWdlIC5jYXJkLWhlYWRlciBoNSB7XG4gIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7XG59XG5cbi5kZWZhdWx0LWhlYWRlciB7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgYmFja2dyb3VuZDogcmdiYSg0NCwgMTc5LCAxNjAsIDAuNSk7XG4gIHBhZGRpbmc6IDdweCA3cHg7XG59XG5cbi5wYWNrYWdlIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbmJvZHkge1xuICBtYXJnaW46IDA7XG59XG5cbi5maXhlZF9kaXYge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzYxNmI3YTtcbiAgbGVmdDogMjYwcHg7XG4gIHJpZ2h0OiAwcHg7XG4gIG1hcmdpbi1sZWZ0OiAwcHg7XG4gIHBhZGRpbmctbGVmdDogMzBweDtcbiAgcGFkZGluZy1yaWdodDogMzBweDtcbiAgei1pbmRleDogNTtcbn1cblxuLmNvbnRlbnQge1xuICB6LWluZGV4OiAxO1xuICBtYXJnaW4tdG9wOiA4MHB4O1xuICBtYXJnaW4tcmlnaHQ6IDMwcHg7XG59XG5cbi8qIC5tYXQtcHNldWRvLWNoZWNrYm94IHtcbiAgICAvZGVlcC8gLm1hdC1hY2NlbnQgLm1hdC1wc2V1ZG8tY2hlY2tib3gtY2hlY2tlZCxcbiAgICAubWF0LWFjY2VudCAubWF0LXBzZXVkby1jaGVja2JveC1pbmRldGVybWluYXRlLFxuICAgIC5tYXQtcHNldWRvLWNoZWNrYm94LWNoZWNrZWQsXG4gICAgLm1hdC1wc2V1ZG8tY2hlY2tib3gtaW5kZXRlcm1pbmF0ZSB7XG4gICAgICAgICBiYWNrZ3JvdW5kOiAjMmNiM2EwO1xuICAgIH1cbn0gKi9cblxuLyogLm1hdC1wc2V1ZG8tY2hlY2tib3gge1xuICAgIGJhY2tncm91bmQ6ICMyY2IzYTAgIWltcG9ydGFudDtcbn0gKi9cblxuOjpuZy1kZWVwIC5tYXQtcHJpbWFyeSAubWF0LXBzZXVkby1jaGVja2JveC1jaGVja2VkIHtcbiAgYmFja2dyb3VuZDogIzJjYjNhMDtcbn1cblxuOjpuZy1kZWVwIC5tYXQtcHNldWRvLWNoZWNrYm94IC5tYXQtcHNldWRvLWNoZWNrYm94LWNoZWNrZWQge1xuICBiYWNrZ3JvdW5kOiAjMmNiM2EwO1xufVxuXG46Om5nLWRlZXAgLm1hdC1hY2NlbnQgLm1hdC1wc2V1ZG8tY2hlY2tib3gtY2hlY2tlZCwgLm1hdC1hY2NlbnQgLm1hdC1wc2V1ZG8tY2hlY2tib3gtaW5kZXRlcm1pbmF0ZSwgLm1hdC1wc2V1ZG8tY2hlY2tib3gtY2hlY2tlZCwgLm1hdC1wc2V1ZG8tY2hlY2tib3gtaW5kZXRlcm1pbmF0ZSB7XG4gIGJhY2tncm91bmQ6ICMyY2IzYTA7XG59XG5cbi8qIC9kZWVwLyAubWF0LXByaW1hcnkgLm1hdC1wc2V1ZG8tY2hlY2tib3gtY2hlY2tlZCB7XG4gIGJhY2tncm91bmQ6ICMyY2IzYTA7XG59XG5cbi9kZWVwLyAubWF0LXBzZXVkby1jaGVja2JveCAubWF0LXBzZXVkby1jaGVja2JveC1jaGVja2VkIHtcbiAgYmFja2dyb3VuZDogIzJjYjNhMDtcbn1cblxuL2RlZXAvIC5tYXQtYWNjZW50IC5tYXQtcHNldWRvLWNoZWNrYm94LWNoZWNrZWQsIC5tYXQtYWNjZW50IC5tYXQtcHNldWRvLWNoZWNrYm94LWluZGV0ZXJtaW5hdGUsIC5tYXQtcHNldWRvLWNoZWNrYm94LWNoZWNrZWQsIC5tYXQtcHNldWRvLWNoZWNrYm94LWluZGV0ZXJtaW5hdGUge1xuICBiYWNrZ3JvdW5kOiAjMmNiM2EwO1xufSAqL1xuXG4ubWF0LXBzZXVkby1jaGVja2JveCAubWF0LXBzZXVkby1jaGVja2JveC1jaGVja2VkIHtcbiAgYmFja2dyb3VuZDogIzJjYjNhMDtcbn1cblxuLm1hdC1wc2V1ZG8tY2hlY2tib3gubWF0LXBzZXVkby1jaGVja2JveC1jaGVja2VkLCAubWF0LXBzZXVkby1jaGVja2JveC5tYXQtcHNldWRvLWNoZWNrYm94LWluZGV0ZXJtaW5hdGUge1xuICBiYWNrZ3JvdW5kOiAjMmNiM2EwO1xuICBib3JkZXItY29sb3I6IGJsYWNrO1xufVxuXG4vKiAucGFja2FnZXMtY29udGFpbmVye1xuICBtYXgtaGVpZ2h0OiAxMTB2aDtcbiAgb3ZlcmZsb3cteTogYXV0bztcbn0gKi9cblxuLmNhcnQtY29udGFpbmVyIC5jYXJ0LWl0ZW1zIHtcbiAgbWF4LXdpZHRoOiA5NSU7XG59XG5cbi5jYXJ0LWNvbnRhaW5lciAuY2FydC1pdGVtLXRodW1ibmFpbCB7XG4gIGhlaWdodDogNDBweDtcbiAgd2lkdGg6IDQwcHg7XG59XG5cbi5jYXJ0LWNvbnRhaW5lciAucmVtb3ZlLWl0ZW0taWNvbiB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLm5ldy1wcm9wZXJ0eS1zd2l0Y2gge1xuICBtYXJnaW4tYm90dG9tOiAwO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLm5ldy1wcm9wZXJ0eS1zd2l0Y2ggbGFiZWwge1xuICBjb2xvcjogIzNDNDg1ODtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5tYXQtc2xpZGUtdG9nZ2xlLm1hdC1jaGVja2VkIC5tYXQtc2xpZGUtdG9nZ2xlLXRodW1iLCA6aG9zdCA6Om5nLWRlZXAgLm1hdC1zbGlkZS10b2dnbGUubWF0LWNoZWNrZWQgLm1hdC1yaXBwbGUtZWxlbWVudCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMyY2IzYTA7XG59XG5cbjpob3N0IDo6bmctZGVlcCAubWF0LXNsaWRlLXRvZ2dsZS5tYXQtY2hlY2tlZCAubWF0LXNsaWRlLXRvZ2dsZS1iYXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQ0LCAxNzksIDE2MCwgMC41NCk7XG59XG5cbi5jYXJ0LWNvbnRhaW5lciAuc2VsZWN0ZWQtc2VydmljZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMyY2IzYTA7XG4gIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7XG59XG5cbi5wYWdlLXRpdGxlIHtcbiAgZm9udC1zaXplOiAxLjU1cmVtO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLm1hdC1jaGVja2JveDpub3QoLm1hdC1jaGVja2JveC1kaXNhYmxlZCkubWF0LXByaW1hcnkgLm1hdC1jaGVja2JveC1yaXBwbGUgLm1hdC1yaXBwbGUtZWxlbWVudCwgOmhvc3QgOjpuZy1kZWVwIC5tYXQtY2hlY2tib3gtY2hlY2tlZC5tYXQtcHJpbWFyeSAubWF0LWNoZWNrYm94LWJhY2tncm91bmQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmNiM2EwICFpbXBvcnRhbnQ7XG59XG5cbi5jYXJkLXdpemFyZCAudGFiLWNvbnRlbnQge1xuICBwYWRkaW5nOiAwO1xufVxuXG4ucGFja2FnZS1jYXJkLWJvZHkgLnBhY2thZ2UtYWNjb3JkaWFuIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5hZGQtbmV3LXJlYWxlc3RhdGUgLmFkZC1uZXctcmVhbGVzdGF0ZS1ib2R5LCAucmVhbGVzdGF0ZS1jYXJkLWJvZHkge1xuICBwYWRkaW5nOiAwLjkzNzVyZW0gMC41cmVtO1xufVxuXG4uYWRkLW5ldy1yZWFsZXN0YXRlIHtcbiAgaGVpZ2h0OiA3MyU7XG4gIG1pbi1oZWlnaHQ6IDE3MXB4O1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgYm9yZGVyOiAycHggZGFzaGVkICMyMmJjYTQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmFkZC1uZXctcmVhbGVzdGF0ZSAuYWRkLW5ldy1yZWFsZXN0YXRlLWJvZHkgaSB7XG4gIGZvbnQtc2l6ZTogOHJlbTtcbiAgY29sb3I6ICMyMmJjYTQ7XG59XG5cbi5maWx0ZXItcGFkZGluZyB7XG4gIHBhZGRpbmctcmlnaHQ6IDIwcHggIWltcG9ydGFudDtcbn1cblxuLmhkLXBob3Rvcy1oZWFkZXJ7XG4gIHBhZGRpbmctbGVmdDogMjBweDtcbn0iXX0= */\"","module.exports = \"<div>\\r\\n  <!-- <div class=\\\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-1 border-bottom bbcg\\\">\\r\\n    <h3>Services</h3>\\r\\n    <div class=\\\"btn-toolbar mb-2 mb-md-0\\\">\\r\\n    </div>\\r\\n  </div> -->\\r\\n  <div class=\\\"\\\">\\r\\n    <!-- Page-Content -->\\r\\n    <ng-container *ngIf=\\\"auth.myUserObservable as user; else loading\\\">\\r\\n\\r\\n      <!-- Following are multiple \\\"pages\\\" (steps) within this page (component) -->\\r\\n      <!-- First Page in the ordering process -->\\r\\n      <div *ngIf=\\\"state === '1'\\\">\\r\\n\\r\\n        <!-- Top Row -->\\r\\n        <!-- <div class=\\\"row\\\"> -->\\r\\n\\r\\n        <!-- Big column (left) -->\\r\\n        <!-- <div class=\\\"col\\\">\\r\\n            <div class=\\\"shadow card cgrid\\\">\\r\\n              <div class=\\\"card-header\\\" id=\\\"headingOne\\\">\\r\\n                <a class=\\\"my-link\\\" (click)=\\\"active = !active\\\" [attr.aria-expanded]=\\\"!isCollapsed\\\"\\r\\n                  aria-controls=\\\"collapse1\\\">\\r\\n                  <h5 class=\\\"card-title text-left wsn\\\">Verfügbare Dienste</h5>\\r\\n                </a>\\r\\n              </div>\\r\\n              <div id=\\\"collapse1\\\" [collapse]=\\\"active\\\">\\r\\n                <div class=\\\"card-body\\\">\\r\\n                  <h6 class=\\\"card-title text-left wsn\\\">Produktübersicht</h6>\\r\\n                  <p class=\\\"card-text\\\">\\r\\n                    Wählen Sie über die Kacheln die gewünschten Services und Produkte aus. Im anschließenden Schritt\\r\\n                    können Sie Produktdetails, wie Design, Menge und Besonderheiten definieren.\\r\\n                  </p>\\r\\n                  <p class=\\\"card-text mb-0\\\">Wenn Sie eine genauere Beratung wünschen können Sie oben\\r\\n                    Kontakt mit uns aufnehmen. Wir freuen uns auf Ihre Anfrage.</p>\\r\\n                  <br />\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div> -->\\r\\n\\r\\n        <!-- Small informational column (right) -->\\r\\n        <!-- <div class=\\\"col-4 d-none d-lg-block\\\"> -->\\r\\n\\r\\n        <!-- Showcase Card, links to a showcase on the wordpress page -->\\r\\n        <!-- <div class=\\\"shadow card fluid cgrid\\\">\\r\\n              <div class=\\\"card-body\\\">\\r\\n                <h5 class=\\\"card-title text-left wsn\\\">Zum Showcase</h5>\\r\\n                <p class=\\\"card-text text-left\\\">Lassen Sie sich von unseren virtuellen Rundgängen und\\r\\n                  Drohnenaufnahmen von verschiedenen Immobilien, öffentlichen Gebäuden und Working\\r\\n                  Spaces begeistern und überzeugen Sie Ihre Kunden!\\r\\n                </p>\\r\\n                <a href=\\\"https://www.imogent.de/show-case/\\\" class=\\\"btn btn-primary\\\">Jetzt\\r\\n                  ansehen</a>\\r\\n              </div>\\r\\n            </div> -->\\r\\n        <!-- </div> -->\\r\\n\\r\\n        <!-- </div> -->\\r\\n        <!-- Show available packages-->\\r\\n        <!-- Heading for the pacakges -->\\r\\n        <!-- <h3\\r\\n          *ngIf=\\\"dronemediacheck.checked || floorplanscheck.checked || retouchingcheck.checked || vstagingcheck.checked\\\">\\r\\n          Paket auswählen:\\r\\n        </h3> -->\\r\\n        <!-- <br> -->\\r\\n        <!-- Drone-Media Packages - Shown if checkbox is checked -->\\r\\n        <!-- <app-package-list *ngIf=\\\"dronemediacheck.checked\\\" [packages]=\\\"packages.dronemedia\\\" [servicesComponent]=\\\"this\\\"\\r\\n          serviceLabel=\\\"{{gs.translateAppListStrings('order_type_list', 'dronemedia')}}\\\">\\r\\n        </app-package-list> -->\\r\\n        <!-- Floorplan Packages - Shown if checkbox is checked-->\\r\\n        <!-- <app-package-list *ngIf=\\\"floorplanscheck.checked\\\" [packages]=\\\"packages.floorplans\\\" [servicesComponent]=\\\"this\\\"\\r\\n          serviceLabel=\\\"{{gs.translateAppListStrings('order_type_list', 'floorplan')}}\\\">\\r\\n        </app-package-list> -->\\r\\n        <!-- Retouching Packages - Shown if checkbox is checked-->\\r\\n        <!-- <app-package-list *ngIf=\\\"retouchingcheck.checked\\\" [packages]=\\\"packages.retouching\\\" [servicesComponent]=\\\"this\\\"\\r\\n          serviceLabel=\\\"{{gs.translateAppListStrings('order_type_list', 'retouching')}}\\\">\\r\\n        </app-package-list> -->\\r\\n        <!-- Retouching Packages - Shown if checkbox is checked-->\\r\\n        <!-- <app-package-list *ngIf=\\\"vstagingcheck.checked\\\" [packages]=\\\"packages.vstaging\\\" [servicesComponent]=\\\"this\\\"\\r\\n          serviceLabel=\\\"{{gs.translateAppListStrings('order_type_list', 'vstaging')}}\\\">\\r\\n        </app-package-list> -->\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-12 d-block d-md-none align-self-start\\\">\\r\\n            <div class=\\\"card cgrid margin\\\">\\r\\n              <div class=\\\"card-header default-header\\\">\\r\\n                <a class=\\\"my-link clickable\\\" (click)=\\\"active1 = !active1\\\" [attr.aria-expanded]=\\\"active1\\\"\\r\\n                  aria-controls=\\\"collapse1\\\">\\r\\n                  <h5 class=\\\"card-title text-white text-left wsn row\\\">\\r\\n                    <span class=\\\"col-8\\\">\\r\\n                      <span class=\\\"fas text-left mr-2\\\" [ngClass]=\\\"{\\r\\n                        'fa-chevron-right': !active1,\\r\\n                        'fa-chevron-down': active1\\r\\n                      }\\\">\\r\\n                      </span> Produktübersicht\\r\\n                    </span>\\r\\n                  </h5>\\r\\n                </a>\\r\\n              </div>\\r\\n              <div [collapse]=\\\"!active1\\\">\\r\\n                <div class=\\\"card-body\\\">\\r\\n                  <p class=\\\"card-text mt-3\\\">\\r\\n                    Wählen Sie über die Kacheln die gewünschten Services und Produkte aus. Im anschließenden Schritt\\r\\n                    können Sie Produktdetails, wie Design, Menge und Besonderheiten definieren.\\r\\n                  </p>\\r\\n                  <p class=\\\"card-text mb-0\\\">Wenn Sie eine genauere Beratung wünschen können Sie oben\\r\\n                    Kontakt mit uns aufnehmen. Wir freuen uns auf Ihre Anfrage.</p>\\r\\n                  <br />\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <!-- <div class=\\\"cards\\\">\\r\\n              <div class=\\\"card\\\">\\r\\n                <div class=\\\"card-body\\\">\\r\\n                  <h4 class=\\\"card-title wsn\\\">Produktübersicht</h4>\\r\\n                  <p class=\\\"card-text mt-3\\\">\\r\\n                    Wählen Sie über die Kacheln die gewünschten Services und Produkte aus. Im anschließenden Schritt\\r\\n                    können Sie Produktdetails, wie Design, Menge und Besonderheiten definieren.\\r\\n                  </p>\\r\\n                  <p class=\\\"card-text mb-0\\\">Wenn Sie eine genauere Beratung wünschen können Sie oben\\r\\n                    Kontakt mit uns aufnehmen. Wir freuen uns auf Ihre Anfrage.</p>\\r\\n                  <br />\\r\\n                </div>\\r\\n              </div>\\r\\n            </div> -->\\r\\n          </div>\\r\\n          <div class=\\\"col packages-container align-self-start\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"col-12 cards mb-4\\\">\\r\\n                <div class=\\\"card new-property-switch\\\">\\r\\n                  <div class=\\\"card-body\\\">\\r\\n                    <mat-slide-toggle class=\\\"filter-padding\\\" [color]=\\\"green\\\" (change)=\\\"filterNewProperties($event)\\\">\\r\\n                      Neubau</mat-slide-toggle>\\r\\n                    <!-- <mat-slide-toggle [color]=\\\"green\\\" (change)=\\\"filterPhysicalProducts($event)\\\">physische Produkte\\r\\n                    </mat-slide-toggle> -->\\r\\n                    <button class=\\\"btn btn-primary\\\" (click)=\\\"sendConfirmationEmail('fSCTUG6M3vMGCAqOPuhu')\\\">\\r\\n                      Click\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div *ngFor=\\\"let package of availablePackages\\\" class=\\\"col-12 col-sm-12 col-md-6 col-lg-4 col-xl-3\\\">\\r\\n                <app-package [package]=\\\"package\\\" [servicesComponent]=\\\"this\\\" [selectedServices]=\\\"selectedServices\\\">\\r\\n                </app-package>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"col-4 d-none d-md-block row align-self-start\\\">\\r\\n            <div class=\\\"col cart-container\\\">\\r\\n              <div class=\\\"cards\\\">\\r\\n                <div class=\\\"card card-pricing card-raised\\\">\\r\\n                  <div class=\\\"card-body\\\">\\r\\n                    <h4 class=\\\"card-title\\\">\\r\\n                      Warenkorb\\r\\n                    </h4>\\r\\n                    <ul class=\\\"list-unstyled mt-3 mb-4 cart-items\\\"\\r\\n                      *ngIf=\\\"cartItems && cartItems.length > 0; else noItems\\\">\\r\\n                      <li class=\\\"text-truncate row align-items-center text-left\\\">\\r\\n                        <div class=\\\"col-6 col-lg-2\\\">\\r\\n                          <strong>Artikel</strong>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-none d-lg-block col-8\\\">\\r\\n                          <strong>Beschreibung</strong>\\r\\n                        </div>\\r\\n                      </li>\\r\\n                      <li *ngFor=\\\"let item of cartItems; let index = index\\\"\\r\\n                        class=\\\"text-truncate row align-items-center text-left\\\">\\r\\n                        <div class=\\\"col-6 col-lg-2\\\">\\r\\n                          <img class=\\\"cart-item-thumbnail\\\" src=\\\"../../assets/images/{{item.package_images[0]}}\\\"\\r\\n                            alt=\\\"Card image cap\\\">\\r\\n                        </div>\\r\\n                        <div class=\\\"d-none d-lg-block col-8\\\">\\r\\n                          {{item.title}}\\r\\n                        </div>\\r\\n                        <div class=\\\"col-6 col-lg-2\\\">\\r\\n                          <i class=\\\"material-icons text-danger remove-item-icon\\\"\\r\\n                            (click)=\\\"removeItemFromCart(item, index)\\\">delete</i>\\r\\n                        </div>\\r\\n                      </li>\\r\\n                    </ul>\\r\\n                    <ng-template #noItems>\\r\\n                      <p class=\\\"pt-3\\\">\\r\\n                        Ihr Warenkorb ist leer.\\r\\n                      </p>\\r\\n                    </ng-template>\\r\\n                    <button *ngIf=\\\"cartItems && cartItems.length > 0\\\" class=\\\"btn btn-primary\\\" (click)=\\\"onCheckout()\\\">\\r\\n                      Weiter\\r\\n                    </button>\\r\\n                    <button *ngIf=\\\"cartItems && cartItems.length > 0\\\" class=\\\"btn btn-danger\\\"\\r\\n                      (click)=\\\"removeAllItemsFromCart()\\\">\\r\\n                      Warenkorb leeren\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-12\\\">\\r\\n              <div class=\\\"cards\\\">\\r\\n                <div class=\\\"card\\\">\\r\\n                  <div class=\\\"card-body\\\">\\r\\n                    <h4 class=\\\"card-title wsn\\\">Produktübersicht</h4>\\r\\n                    <p class=\\\"card-text mt-3\\\">\\r\\n                      Wählen Sie über die Kacheln die gewünschten Services und Produkte aus. Im anschließenden Schritt\\r\\n                      können Sie Produktdetails, wie Design, Menge und Besonderheiten definieren.\\r\\n                    </p>\\r\\n                    <p class=\\\"card-text mb-0\\\">Wenn Sie eine genauere Beratung wünschen können Sie oben\\r\\n                      Kontakt mit uns aufnehmen. Wir freuen uns auf Ihre Anfrage.</p>\\r\\n                    <br />\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"d-block d-md-none\\\">\\r\\n          <app-fixed-cart [cartItems]=\\\"cartItems\\\" [parent]=\\\"this\\\"></app-fixed-cart>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- <div *ngIf=\\\"state === '2'\\\">\\r\\n        <div class=\\\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center border-bottom bbcg\\\">\\r\\n          <h2></h2>\\r\\n          <div class=\\\"btn-toolbar mb-2 mb-md-0\\\">\\r\\n            <div class=\\\"btn-group mr-2\\\">\\r\\n              <button class=\\\"btn btn-sm btn-primary\\\" (click)=\\\"state = '1'; selectedPackages = []\\\">\\r\\n                Zuruck\\r\\n              </button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col cards\\\">\\r\\n            <div class=\\\"card card-plain\\\">\\r\\n              <div class=\\\"card-body\\\">\\r\\n                <h4 class=\\\"card-title\\\">\\r\\n                  {{chosenPackages[0].service_title}}\\r\\n                </h4>\\r\\n                <div class=\\\"row packages-container align-self-start\\\">\\r\\n                  <div *ngFor=\\\"let package of chosenPackages\\\" class=\\\"col-12 col-sm-6 col-lg-4\\\">\\r\\n                    <app-package [package]=\\\"package\\\" [servicesComponent]=\\\"this\\\" [selectedPackages]=\\\"selectedPackages\\\">\\r\\n                    </app-package>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"col-4 row align-self-start\\\">\\r\\n            <div class=\\\"col cart-container\\\">\\r\\n              <div class=\\\"cards\\\">\\r\\n                <div class=\\\"card card-pricing card-raised\\\">\\r\\n                  <div class=\\\"card-body\\\">\\r\\n                    <h4 class=\\\"card-title\\\">\\r\\n                      Warenkorb\\r\\n                    </h4>\\r\\n                    <ul class=\\\"list-unstyled mt-3 mb-4 cart-items\\\"\\r\\n                      *ngIf=\\\"cartItems && cartItems.length > 0; else noItems\\\">\\r\\n                      <li class=\\\"text-truncate row align-items-center text-left\\\">\\r\\n                        <div class=\\\"col-6 col-lg-2\\\">\\r\\n                          <strong>Artikel</strong>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-none d-lg-block col-8\\\">\\r\\n                          <strong>Beschreibung</strong>\\r\\n                        </div>\\r\\n                      </li>\\r\\n                      <li *ngFor=\\\"let item of cartItems; let index = index\\\" (click)=\\\"onServiceChange(item)\\\"\\r\\n                        class=\\\"text-truncate row align-items-center text-left clickable\\\" [ngClass]=\\\"{\\r\\n                          'selected-service': selectedService === item.service_key\\r\\n                        }\\\">\\r\\n                        <div class=\\\"col-6 col-lg-2\\\">\\r\\n                          <img class=\\\"cart-item-thumbnail\\\" src=\\\"../../assets/images/{{item.package_images[0]}}\\\"\\r\\n                            alt=\\\"Card image cap\\\">\\r\\n                        </div>\\r\\n                        <div class=\\\"d-none d-lg-block col-8\\\">\\r\\n                          {{item.title}}\\r\\n                        </div>\\r\\n                        <div class=\\\"col-6 col-lg-2\\\">\\r\\n                          <i class=\\\"material-icons text-danger remove-item-icon\\\"\\r\\n                            (click)=\\\"removeItemFromCart(item, index)\\\">delete</i>\\r\\n                        </div>\\r\\n                      </li>\\r\\n                    </ul>\\r\\n                    <ng-template #noItems>\\r\\n                      <p class=\\\"pt-3\\\">\\r\\n                        Ihr Warenkorb ist leer.\\r\\n                      </p>\\r\\n                    </ng-template>\\r\\n                    <button *ngIf=\\\"cartItems && cartItems.length > 0\\\" class=\\\"btn btn-sm btn-primary\\\"\\r\\n                      (click)=\\\"onCheckout()\\\">\\r\\n                      Weiter\\r\\n                    </button>\\r\\n                    <button *ngIf=\\\"cartItems && cartItems.length > 0\\\" class=\\\"btn btn-sm btn-danger\\\"\\r\\n                      (click)=\\\"removeAllItemsFromCart()\\\">\\r\\n                      Alles löschen\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div> -->\\r\\n\\r\\n\\r\\n      <!-- 2nd Page -->\\r\\n      <div *ngIf=\\\"state === '2'\\\">\\r\\n        <div class=\\\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center border-bottom bbcg\\\">\\r\\n          <span class=\\\"page-title\\\">Immobilie auswählen</span>\\r\\n          <div class=\\\"btn-toolbar mb-2 mb-md-0\\\">\\r\\n            <div class=\\\"btn-group mr-2\\\">\\r\\n              <button class=\\\"btn btn-primary\\\" (click)=\\\"goBack('1')\\\">\\r\\n                Zurück\\r\\n              </button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"!realestateservice.add\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <!-- Displaying all realestates, excluding ones with related open orders -->\\r\\n            <ng-container *ngIf=\\\"realestateservice.myRealestates as realestates; else loading\\\">\\r\\n              <!-- The first tile is to add a new real estate -->\\r\\n              <div class=\\\"col-6 col-md-3 col-xl-2\\\" *ngIf=\\\"!realestateservice.add\\\"\\r\\n                (click)=\\\"navigateToRealestateCreation()\\\">\\r\\n                <div class=\\\"shadow card fluid cgrid add-new-realestate\\\">\\r\\n                  <div class=\\\"card-body add-new-realestate-body text-center\\\">\\r\\n                    <i class=\\\"material-icons\\\">add</i>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <!-- Display each loaded realestate as a small card -->\\r\\n              <div *ngFor='let realestate of realestates' class=\\\"col-6 col-md-3 col-xl-2\\\">\\r\\n                <div class=\\\"shadow card fluid cgrid\\\">\\r\\n                  <div class=\\\"card-body realestate-card-body\\\">\\r\\n                    <!-- Realestate Title -->\\r\\n                    <h5 class=\\\"card-title text-left wsn\\\">{{realestate.title}}</h5>\\r\\n                    <!-- Realestate Address -->\\r\\n                    <p class=\\\"card-text text-left\\\">\\r\\n                      {{realestate.street}}\\r\\n                      {{realestate.streetnumber}},\\r\\n                      <br>\\r\\n                      {{realestate.postalcode}}\\r\\n                      {{realestate.city}}\\r\\n                    </p>\\r\\n                    <!-- Select Button -->\\r\\n                    <button class=\\\"btn btn-primary\\\" style=\\\"margin-right: 0.5em;\\\"\\r\\n                      (click)=\\\"realEstateSelectHandler(realestate.id, realestate.postalcode, realestate.city, realestate.title)\\\">Auswählen</button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </ng-container>\\r\\n          </div>\\r\\n\\r\\n          <!-- Button to get to the realestate page and immediately create a new realestate -->\\r\\n          <button class=\\\"btn btn-primary mt-3 ml-2 d-none\\\" style=\\\"margin-left: -15px;\\\"\\r\\n            (click)=\\\"navigateToRealestateCreation()\\\">Neue\\r\\n            Immobilie anlegen</button>\\r\\n        </div>\\r\\n        <br>\\r\\n        <div *ngIf=\\\"realestateservice.add\\\" class=\\\"container-fluid\\\">\\r\\n          <div class=\\\"row\\\" style=\\\"margin-left: -30px;\\\">\\r\\n            <div class=\\\"col-sm-12\\\">\\r\\n              <div class=\\\"shadow card fluid cgrid\\\">\\r\\n                <div class=\\\"card-body\\\">\\r\\n                  <!-- Realestate Title -->\\r\\n                  <h3 class=\\\"card-title text-left wsn mb-3\\\">Neue Immobilie</h3>\\r\\n                  <!-- Profile Form with prefilled data if available -->\\r\\n                  <form [formGroup]=\\\"realestateForm\\\" (ngSubmit)=\\\"createNewRealestate()\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <div class=\\\"shadow input-group mb-3\\\">\\r\\n                        <div class=\\\"input-group-prepend\\\">\\r\\n                          <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Objektart/Titel <span\\r\\n                              class=\\\"text-danger\\\">*</span></span>\\r\\n                        </div>\\r\\n                        <input formControlName=\\\"title\\\" class=\\\"form-control\\\"\\r\\n                          placeholder=\\\"z.B.: Modernes Einfamilienhaus am Stadtrand\\\">\\r\\n                      </div>\\r\\n                      <div *ngIf=\\\"re_title.invalid && re_title.touched\\\" class=\\\"alert alert-warning\\\">\\r\\n                        Bitte geben Sie einen Objektnamen an!\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <div class=\\\"shadow input-group mb-3\\\">\\r\\n                        <div class=\\\"input-group-prepend\\\">\\r\\n                          <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Objektnummer</span>\\r\\n                        </div>\\r\\n                        <input formControlName=\\\"objectNumber\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"(Optional)\\\">\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"col-12 col-md-6\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <div class=\\\"shadow input-group mb-3\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Straße <span\\r\\n                                  class=\\\"text-danger\\\">*</span></span>\\r\\n                            </div>\\r\\n                            <input formControlName=\\\"street\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Straße\\\">\\r\\n                          </div>\\r\\n                          <div *ngIf=\\\"re_street.invalid && re_street.touched\\\" class=\\\"alert alert-warning\\\">\\r\\n                            Bitte geben Sie eine gültige Straße an!\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"col-12 col-md-6\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <div class=\\\"shadow input-group mb-3\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Nr. <span\\r\\n                                  class=\\\"text-danger\\\">*</span></span>\\r\\n                            </div>\\r\\n                            <input formControlName=\\\"streetnumber\\\" type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                              placeholder=\\\"Hausnummer\\\">\\r\\n                          </div>\\r\\n                          <div *ngIf=\\\"re_streetnumber.invalid && re_streetnumber.touched\\\" class=\\\"alert alert-warning\\\">\\r\\n                            Bitte geben Sie eine gültige Hausnummer an!\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"col-12 col-md-6\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <div class=\\\"shadow input-group mb-3\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Postleitzahl <span\\r\\n                                  class=\\\"text-danger\\\">*</span></span>\\r\\n                            </div>\\r\\n                            <input formControlName=\\\"postalcode\\\" type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                              placeholder=\\\"Postleitzahl\\\">\\r\\n                          </div>\\r\\n                          <div *ngIf=\\\"re_postalcode.invalid && re_postalcode.touched\\\" class=\\\"alert alert-warning\\\">\\r\\n                            Bitte geben Sie eine gültige Postleitzahl an!\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"col-12 col-md-6\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <div class=\\\"shadow input-group mb-3\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Stadt <span\\r\\n                                  class=\\\"text-danger\\\">*</span></span>\\r\\n                            </div>\\r\\n                            <input formControlName=\\\"city\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Stadt\\\">\\r\\n                          </div>\\r\\n                          <div *ngIf=\\\"re_city.invalid && re_city.touched\\\" class=\\\"alert alert-warning\\\">\\r\\n                            Bitte geben Sie eine gültige Stadt an!\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <button class=\\\"btn btn-primary \\\" [disabled]=\\\"realestateForm.invalid || realestateForm.pristine\\\">\\r\\n                      Änderungen speichern</button>\\r\\n                    <button class=\\\"btn btn-outline-secondary\\\" (click)=\\\"navigateToRealestateCreation()\\\">\\r\\n                      Abbrechen\\r\\n                    </button>\\r\\n                  </form>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n\\r\\n      <!-- 3rd Page -->\\r\\n      <div [hidden]=\\\"state !== '3'\\\">\\r\\n        <div class=\\\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center border-bottom bbcg\\\">\\r\\n          <span class=\\\"page-title\\\">Pakete auswählen</span>\\r\\n          <div class=\\\"btn-toolbar mb-2 mb-md-0\\\">\\r\\n            <div class=\\\"btn-group mr-2\\\">\\r\\n              <button class=\\\"btn btn-primary\\\" (click)=\\\"goBack('2')\\\">\\r\\n                Zurück\\r\\n              </button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <!-- Card that shows a conclusional overview of the order -->\\r\\n        <div class=\\\"row\\\" *ngIf=\\\"!reset\\\">\\r\\n          <div class=\\\"col-md-12 mr-auto ml-auto\\\">\\r\\n            <!--      Wizard container        -->\\r\\n            <div class=\\\"wizard-container\\\">\\r\\n              <div class=\\\"card card-wizard\\\" data-color=\\\"purple\\\" id=\\\"wizardProfile\\\">\\r\\n                <!-- Wizard Header -->\\r\\n                <div class=\\\"card-header text-center\\\">\\r\\n                  <!-- <h3 class=\\\"card-title\\\">\\r\\n                    Package Wizard\\r\\n                  </h3>\\r\\n                  <h5 class=\\\"card-description\\\">Please complete your order details.</h5> -->\\r\\n                </div>\\r\\n                <!-- Wizard Navigation -->\\r\\n                <div class=\\\"wizard-navigation\\\">\\r\\n                  <ul class=\\\"nav nav-pills\\\">\\r\\n                    <li *ngFor=\\\"let item of cartItems; let index = index\\\" [attr.data-index]=\\\"index\\\" class=\\\"nav-item\\\">\\r\\n                      <a class=\\\"nav-link\\\" href=\\\"#{{item.service_key}}\\\" data-toggle=\\\"tab\\\" role=\\\"tab\\\">\\r\\n                        {{item.title}}\\r\\n                      </a>\\r\\n                    </li>\\r\\n                  </ul>\\r\\n                </div> <!-- End Wizard Navigation !-->\\r\\n                <div class=\\\"card-body package-card-body\\\">\\r\\n                  <div class=\\\"tab-content\\\">\\r\\n                    <!-- First tab of the wizard -->\\r\\n                    <div class=\\\"tab-pane active\\\" id=\\\"dronemedia\\\">\\r\\n                      <!-- <h5 class=\\\"info-text\\\"> Let's start with the basic information (with validation) </h5> -->\\r\\n                      <!-- Order input page-->\\r\\n                      <!-- <div class=\\\"row\\\"> -->\\r\\n                      <!-- Show available package for the service -->\\r\\n                      <div class=\\\"col row packages-container align-self-start\\\">\\r\\n                        <div *ngFor=\\\"let package of packages.dronemedia\\\" class=\\\"col-12 col-sm-6 col-lg-3\\\">\\r\\n                          <app-package [package]=\\\"package\\\" [servicesComponent]=\\\"this\\\"\\r\\n                            [selectedPackages]=\\\"selectedPackages\\\">\\r\\n                          </app-package>\\r\\n                        </div>\\r\\n                      </div> <!-- End available packages !-->\\r\\n                      <!-- dronemedia -->\\r\\n                      <div class=\\\"row\\\" *ngIf=\\\"arrayContainsValue(selectedPackages, '2')\\\">\\r\\n                        <!-- <div class=\\\"shadow card cgrid package\\\">\\r\\n                          <div class=\\\"card-header bg-secondary\\\">\\r\\n                            <a class=\\\"my-link clickable\\\" (click)=\\\"droneMediaExpandedView = !droneMediaExpandedView\\\"\\r\\n                              [attr.aria-expanded]=\\\"droneMediaExpandedView\\\">\\r\\n                              <h5 class=\\\"card-title text-white text-left wsn row\\\">\\r\\n                                <span class=\\\"col-12\\\">\\r\\n                                  <span class=\\\"fas text-left mr-1\\\" [ngClass]=\\\"{\\r\\n                                      'fa-chevron-right': droneMediaExpandedView,\\r\\n                                      'fa-chevron-down': !droneMediaExpandedView\\r\\n                                    }\\\">\\r\\n                                  </span> {{\\\"Drohnenaufnahmen - \\\" + selectedDroneMedia.name}}\\r\\n                                </span>\\r\\n                              </h5>\\r\\n                            </a>\\r\\n                          </div>\\r\\n                          <div [collapse]=\\\"droneMediaExpandedView\\\">\\r\\n                            <div class=\\\"card-body\\\">\\r\\n                              <div class=\\\"row\\\">\\r\\n                                <div class=\\\"col\\\">\\r\\n                                  <h4>Das erwartet Sie:</h4>\\r\\n                                  <p class=\\\"mb-0\\\">Wir erstellen 7 hochwertige Drohnenfotos von Ihrem\\r\\n                                    gewählten Objekt aus der Vogelperspektive. Die Fotos beinhalten\\r\\n                                    standardmäßig 5 Seitenansichten, sowie zwei Draufsichten aus\\r\\n                                    unterschiedlichen Höhen.\\r\\n                                  </p>\\r\\n                                  <div class=\\\"border-bottom bbcb mt-3 mb-3\\\"></div>\\r\\n                                    <form [formGroup]=\\\"droneMediaForm\\\">\\r\\n                                    <h4>Sonderwünsche:</h4>\\r\\n                                    <p class=\\\"mb-0\\\">Sollten Sie besondere Wünsche für die einzelnen\\r\\n                                      Perspektiven und Aufnahmehöhen der Fotos haben, dann können Sie\\r\\n                                      dies unten im Kommentarfeld für den Drohnenpiloten äußern.</p>\\r\\n                                    <a href=\\\"../../assets/images/formulierungshilfe.svg\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\\r\\n                                      class=\\\"my-link\\\">Formulierungshilfe</a>\\r\\n\\r\\n                                    <div class=\\\"form-group mt-4\\\">\\r\\n                                      <p class=\\\"mb-0\\\">Kommentar für den Piloten:</p>\\r\\n                                      <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                        placeholder=\\\"zB.: Bitte die Aussicht vom Balkon fotografieren!\\\"\\r\\n                                        formControlName=\\\"wishPilot\\\" #optionalWishPilot>\\r\\n                                    </div>\\r\\n\\r\\n                                    <div class=\\\"form-group\\\">\\r\\n                                      <p class=\\\"mb-0\\\">Kommentar für die Nachbearbeitung der\\r\\n                                        Luftaufnahmen:</p>\\r\\n                                      <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"(Optional)\\\"\\r\\n                                        formControlName=\\\"description\\\" #description>\\r\\n                                    </div>\\r\\n                                  </form>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                              <div class=\\\"row mb-2\\\">\\r\\n                                <div class=\\\"col-4\\\"></div>\\r\\n                                <div class=\\\"col-8\\\">\\r\\n                                  <hr />\\r\\n                                  <div class=\\\"row\\\">\\r\\n                                    <div class=\\\"col-8\\\">\\r\\n                                      <h4>Summe</h4>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"col-4 text-right font-sz-20\\\"> €\\r\\n                                      {{selectedDroneMedia.price}}\\r\\n                                    </div>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div> -->\\r\\n                        <div id=\\\"dm-accordion\\\" class=\\\"col-12\\\" role=\\\"tablist\\\">\\r\\n                          <div class=\\\"card-collapse\\\">\\r\\n                            <div class=\\\"card-header\\\" role=\\\"tab\\\">\\r\\n                              <h5 class=\\\"mb-0\\\">\\r\\n                                <a data-toggle=\\\"collapse\\\"\\r\\n                                  href=\\\"#{{selectedDroneMedia.service_key + selectedDroneMedia.package_key}}\\\"\\r\\n                                  aria-expanded=\\\"true\\\" class=\\\"collapsed\\\">\\r\\n                                  {{selectedDroneMedia.title + \\\" - \\\" + selectedDroneMedia.name}}\\r\\n                                  <i class=\\\"material-icons\\\">keyboard_arrow_down</i>\\r\\n                                </a>\\r\\n                              </h5>\\r\\n                            </div>\\r\\n                            <div id=\\\"{{selectedDroneMedia.service_key + selectedDroneMedia.package_key}}\\\"\\r\\n                              class=\\\"collapse show\\\" role=\\\"tabpanel\\\" data-parent=\\\"#dm-accordion\\\">\\r\\n                              <div class=\\\"card-body\\\">\\r\\n                                <!-- Description what the customer will get for drone photos aerial-extended package -->\\r\\n                                <div class=\\\"row\\\">\\r\\n                                  <div class=\\\"col\\\">\\r\\n                                    <h4>Das erwartet Sie:</h4>\\r\\n                                    <p class=\\\"mb-0\\\">Wir erstellen 7 hochwertige Drohnenfotos von Ihrem\\r\\n                                      gewählten Objekt aus der Vogelperspektive. Die Fotos beinhalten\\r\\n                                      standardmäßig 5 Seitenansichten, sowie zwei Draufsichten aus\\r\\n                                      unterschiedlichen Höhen.\\r\\n                                    </p>\\r\\n                                    <!-- Border -->\\r\\n                                    <div class=\\\"border-bottom bbcb mt-3 mb-3\\\"></div>\\r\\n\\r\\n                                    <!-- Form for special wishes of the customer -->\\r\\n                                    <form [formGroup]=\\\"droneMediaForm\\\">\\r\\n                                      <h4>Sonderwünsche:</h4>\\r\\n                                      <p class=\\\"mb-0\\\">Sollten Sie besondere Wünsche für die einzelnen\\r\\n                                        Perspektiven und Aufnahmehöhen der Fotos haben, dann können Sie\\r\\n                                        dies unten im Kommentarfeld für den Drohnenpiloten äußern.</p>\\r\\n                                      <a href=\\\"../../assets/images/formulierungshilfe.svg\\\" target=\\\"_blank\\\"\\r\\n                                        rel=\\\"noopener\\\" class=\\\"my-link\\\">Formulierungshilfe</a>\\r\\n\\r\\n                                      <!-- Wishes regarding the pilot's work -->\\r\\n                                      <div class=\\\"form-group mt-4\\\">\\r\\n                                        <p class=\\\"mb-0\\\">Kommentar für den Piloten:</p>\\r\\n                                        <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                          placeholder=\\\"zB.: Bitte die Aussicht vom Balkon fotografieren!\\\"\\r\\n                                          formControlName=\\\"wishPilot\\\" #optionalWishPilot>\\r\\n                                      </div>\\r\\n\\r\\n                                      <!-- Wishes regarding the post-processing -->\\r\\n                                      <div class=\\\"form-group\\\">\\r\\n                                        <p class=\\\"mb-0\\\">Kommentar für die Nachbearbeitung der\\r\\n                                          Luftaufnahmen:</p>\\r\\n                                        <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"(Optional)\\\"\\r\\n                                          formControlName=\\\"description\\\" #description>\\r\\n                                      </div>\\r\\n                                    </form>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                                <!-- End row -->\\r\\n                                <div class=\\\"row mb-2\\\">\\r\\n                                  <div class=\\\"col-4\\\"></div>\\r\\n                                  <div class=\\\"col-8\\\">\\r\\n                                    <hr />\\r\\n                                    <div class=\\\"row\\\">\\r\\n                                      <div class=\\\"col-8\\\">\\r\\n                                        <h4>Summe</h4>\\r\\n                                      </div>\\r\\n                                      <div class=\\\"col-4 text-right font-sz-20\\\"> €\\r\\n                                        {{selectedDroneMedia.price}}\\r\\n                                      </div>\\r\\n                                    </div>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <!-- </div> End row - Order page -->\\r\\n                    </div> <!-- End dronemedia tab -->\\r\\n                    <!-- floorplans -->\\r\\n                    <div class=\\\"tab-pane\\\" id=\\\"floorplan\\\">\\r\\n                      <!-- Show available package for the service -->\\r\\n                      <div class=\\\"col row packages-container align-self-start\\\">\\r\\n                        <div *ngFor=\\\"let package of packages.floorplans\\\" class=\\\"col-12 col-sm-6 col-lg-4 col-xl-3\\\">\\r\\n                          <app-package [package]=\\\"package\\\" [servicesComponent]=\\\"this\\\"\\r\\n                            [selectedPackages]=\\\"selectedPackages\\\">\\r\\n                          </app-package>\\r\\n                        </div>\\r\\n                      </div> <!-- End available packages !-->\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <!-- <div class=\\\"shadow card cgrid package\\\" *ngFor=\\\"let package of selectedFloorplans\\\"> -->\\r\\n                        <!-- <div class=\\\"card-header bg-secondary\\\">\\r\\n                            <a class=\\\"my-link clickable\\\" (click)=\\\"package.expandedView = !package.expandedView\\\"\\r\\n                              [attr.aria-expanded]=\\\"package.expandedView\\\">\\r\\n                              <h5 class=\\\"card-title text-white text-left wsn row\\\">\\r\\n                                <span class=\\\"col-12\\\">\\r\\n                                  <span class=\\\"fas text-left mr-1\\\" [ngClass]=\\\"{\\r\\n                                    'fa-chevron-right': package.expandedView,\\r\\n                                    'fa-chevron-down': !package.expandedView\\r\\n                                  }\\\">\\r\\n                                  </span> {{package.title + \\\" - \\\" + package.name}}\\r\\n                                </span>\\r\\n                              </h5>\\r\\n                            </a>\\r\\n                          </div>\\r\\n                          <div [collapse]=\\\"package.expandedView\\\">\\r\\n                            <div class=\\\"card-body\\\">\\r\\n                              <app-package-editor [imoPackage]=\\\"package\\\" (onFormChange)=\\\"onFloorPlanChange($event)\\\">\\r\\n                              </app-package-editor>\\r\\n                            </div>\\r\\n                          </div> -->\\r\\n                        <div id=\\\"fp-accordion\\\" class=\\\"package-accordian\\\" role=\\\"tablist\\\">\\r\\n                          <div class=\\\"card-collapse\\\" *ngFor=\\\"let package of selectedFloorplans\\\">\\r\\n                            <div class=\\\"card-header\\\" role=\\\"tab\\\">\\r\\n                              <h5 class=\\\"mb-0\\\">\\r\\n                                <a data-toggle=\\\"collapse\\\" href=\\\"#{{package.service_key + package.package_key}}\\\"\\r\\n                                  aria-expanded=\\\"true\\\" class=\\\"collapsed\\\">\\r\\n                                  {{package.title + \\\" - \\\" + package.name}}\\r\\n                                  <i class=\\\"material-icons\\\">keyboard_arrow_down</i>\\r\\n                                </a>\\r\\n                              </h5>\\r\\n                            </div>\\r\\n                            <div id=\\\"{{package.service_key + package.package_key}}\\\" class=\\\"collapse show\\\"\\r\\n                              role=\\\"tabpanel\\\" data-parent=\\\"#fp-accordion\\\">\\r\\n                              <div class=\\\"card-body\\\">\\r\\n                                <app-package-editor [imoPackage]=\\\"package\\\" (onFormChange)=\\\"onFloorPlanChange($event)\\\">\\r\\n                                </app-package-editor>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                        <!-- </div> -->\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <!-- retouching -->\\r\\n                    <div class=\\\"tab-pane\\\" id=\\\"retouching\\\">\\r\\n                      <!-- retouching -->\\r\\n                      <!-- Show available package for the service -->\\r\\n                      <div class=\\\"col row packages-container align-self-start\\\">\\r\\n                        <div *ngFor=\\\"let package of packages.retouching\\\" class=\\\"col-12 col-sm-6 col-lg-3\\\">\\r\\n                          <app-package [package]=\\\"package\\\" [servicesComponent]=\\\"this\\\"\\r\\n                            [selectedPackages]=\\\"selectedPackages\\\">\\r\\n                          </app-package>\\r\\n                        </div>\\r\\n                      </div> <!-- End available packages !-->\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <!-- <div class=\\\"shadow card cgrid package\\\" *ngFor=\\\"let package of selectedRetouching\\\">\\r\\n                          <div class=\\\"card-header bg-secondary\\\">\\r\\n                            <a class=\\\"my-link clickable\\\" (click)=\\\"package.expandedView = !package.expandedView\\\"\\r\\n                              [attr.aria-expanded]=\\\"package.expandedView\\\">\\r\\n                              <h5 class=\\\"card-title text-white text-left wsn row\\\">\\r\\n                                <span class=\\\"col-12\\\">\\r\\n                                  <span class=\\\"fas text-left mr-1\\\" [ngClass]=\\\"{\\r\\n                                                                                      'fa-chevron-right': package.expandedView,\\r\\n                                                                                      'fa-chevron-down': !package.expandedView\\r\\n                                                                                    }\\\">\\r\\n                                  </span> {{\\\"Bildbearbeitung - \\\" + package.name}}\\r\\n                                </span>\\r\\n                              </h5>\\r\\n                            </a>\\r\\n                          </div>\\r\\n                          <div [collapse]=\\\"package.expandedView\\\">\\r\\n                            <div class=\\\"card-body\\\">\\r\\n                              <app-retouching-service [package]=\\\"package\\\" (onFormChange)=\\\"onRetouchingChange($event)\\\">\\r\\n                              </app-retouching-service>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div> -->\\r\\n                        <div id=\\\"rt-accordion\\\" class=\\\"col-12\\\" role=\\\"tablist\\\">\\r\\n                          <div class=\\\"card-collapse\\\" *ngFor=\\\"let package of selectedRetouching\\\">\\r\\n                            <div class=\\\"card-header\\\" role=\\\"tab\\\">\\r\\n                              <h5 class=\\\"mb-0\\\">\\r\\n                                <a data-toggle=\\\"collapse\\\" href=\\\"#{{package.service_key + package.package_key}}\\\"\\r\\n                                  aria-expanded=\\\"true\\\" class=\\\"collapsed\\\">\\r\\n                                  {{package.title + \\\" - \\\" + package.name}}\\r\\n                                  <i class=\\\"material-icons\\\">keyboard_arrow_down</i>\\r\\n                                </a>\\r\\n                              </h5>\\r\\n                            </div>\\r\\n                            <div id=\\\"{{package.service_key + package.package_key}}\\\" class=\\\"collapse show\\\"\\r\\n                              role=\\\"tabpanel\\\" data-parent=\\\"#rt-accordion\\\">\\r\\n                              <div class=\\\"card-body\\\">\\r\\n                                <app-retouching-service [package]=\\\"package\\\" (onFormChange)=\\\"onRetouchingChange($event)\\\">\\r\\n                                </app-retouching-service>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <!-- virtual staging -->\\r\\n                    <div class=\\\"tab-pane\\\" id=\\\"vstaging\\\">\\r\\n                      <!-- Show available package for the service -->\\r\\n                      <div class=\\\"col row packages-container align-self-start\\\">\\r\\n                        <div *ngFor=\\\"let package of packages.vstaging\\\" class=\\\"col-12 col-sm-6 col-lg-3\\\">\\r\\n                          <app-package [package]=\\\"package\\\" [servicesComponent]=\\\"this\\\"\\r\\n                            [selectedPackages]=\\\"selectedPackages\\\">\\r\\n                          </app-package>\\r\\n                        </div>\\r\\n                      </div> <!-- End available packages !-->\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <!-- <div class=\\\"shadow card cgrid package\\\" *ngFor=\\\"let package of selectedVStaging\\\">\\r\\n                          <div class=\\\"card-header bg-secondary\\\">\\r\\n                            <a class=\\\"my-link clickable\\\" (click)=\\\"package.expandedView = !package.expandedView\\\"\\r\\n                              [attr.aria-expanded]=\\\"package.expandedView\\\">\\r\\n                              <h5 class=\\\"card-title text-white text-left wsn row\\\">\\r\\n                                <span class=\\\"col-12\\\">\\r\\n                                  <span class=\\\"fas text-left mr-1\\\" [ngClass]=\\\"{\\r\\n                                                                                        'fa-chevron-right': package.expandedView,\\r\\n                                                                                        'fa-chevron-down': !package.expandedView\\r\\n                                                                                      }\\\">\\r\\n                                  </span> {{\\\"Virtual Staging - \\\" + package.name}}\\r\\n                                </span>\\r\\n                              </h5>\\r\\n                            </a>\\r\\n                          </div>\\r\\n                          <div [collapse]=\\\"package.expandedView\\\">\\r\\n                            <div class=\\\"card-body\\\">\\r\\n                              <app-virtual-staging-service [package]=\\\"package\\\"\\r\\n                                (onFormChange)=\\\"onVStagingChange($event)\\\">\\r\\n                              </app-virtual-staging-service>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div> -->\\r\\n                        <div id=\\\"vs-accordion\\\" class=\\\"col-12\\\" role=\\\"tablist\\\">\\r\\n                          <div class=\\\"card-collapse\\\" *ngFor=\\\"let package of selectedVStaging\\\">\\r\\n                            <div class=\\\"card-header\\\" role=\\\"tab\\\">\\r\\n                              <h5 class=\\\"mb-0\\\">\\r\\n                                <a data-toggle=\\\"collapse\\\" href=\\\"#{{package.service_key + package.package_key}}\\\"\\r\\n                                  aria-expanded=\\\"true\\\" class=\\\"collapsed\\\">\\r\\n                                  {{package.title + \\\" - \\\" + package.name}}\\r\\n                                  <i class=\\\"material-icons\\\">keyboard_arrow_down</i>\\r\\n                                </a>\\r\\n                              </h5>\\r\\n                            </div>\\r\\n                            <div id=\\\"{{package.service_key + package.package_key}}\\\" class=\\\"collapse show\\\"\\r\\n                              role=\\\"tabpanel\\\" data-parent=\\\"#vs-accordion\\\">\\r\\n                              <div class=\\\"card-body\\\">\\r\\n                                <app-virtual-staging-service [package]=\\\"package\\\"\\r\\n                                  (onFormChange)=\\\"onVStagingChange($event)\\\">\\r\\n                                </app-virtual-staging-service>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <!-- virtual staging -->\\r\\n                    <div class=\\\"tab-pane\\\" id=\\\"visualisation\\\">\\r\\n                      <!-- Show available package for the service -->\\r\\n                      <div class=\\\"col row packages-container align-self-start\\\">\\r\\n                        <div *ngFor=\\\"let package of packages.visualisation\\\" class=\\\"col-12 col-sm-6 col-lg-3\\\">\\r\\n                          <app-package [package]=\\\"package\\\" [servicesComponent]=\\\"this\\\"\\r\\n                            [selectedPackages]=\\\"selectedPackages\\\">\\r\\n                          </app-package>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"row\\\">\\r\\n\\r\\n                        <div id=\\\"vs-accordion\\\" class=\\\"col-12\\\" role=\\\"tablist\\\">\\r\\n                          <div class=\\\"card-collapse\\\" *ngFor=\\\"let package of selected3dVisualisation\\\">\\r\\n                            <div class=\\\"card-header\\\" role=\\\"tab\\\">\\r\\n                              <h5 class=\\\"mb-0\\\">\\r\\n                                <a data-toggle=\\\"collapse\\\" href=\\\"#{{package.service_key + package.package_key}}\\\"\\r\\n                                  aria-expanded=\\\"true\\\" class=\\\"collapsed\\\">\\r\\n                                  {{package.title + \\\" - \\\" + package.name}}\\r\\n                                  <i class=\\\"material-icons\\\">keyboard_arrow_down</i>\\r\\n                                </a>\\r\\n                              </h5>\\r\\n                            </div>\\r\\n                            <div id=\\\"{{package.service_key + package.package_key}}\\\" class=\\\"collapse show\\\"\\r\\n                              role=\\\"tabpanel\\\" data-parent=\\\"#vs-accordion\\\">\\r\\n                              <div class=\\\"card-body\\\">\\r\\n                                <app-visualisation-service [package]=\\\"package\\\"\\r\\n                                  (onFormChange)=\\\"on3dVisualisationChange($event)\\\"></app-visualisation-service>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <!-- End available packages !-->\\r\\n                    </div>\\r\\n\\r\\n                    <!-- Tab for HD Photos-->\\r\\n                    <div class=\\\"tab-pane\\\" id=\\\"hdphotos\\\">\\r\\n                      <div class=\\\"col row packages-container align-self-start\\\">\\r\\n                        <div *ngFor=\\\"let package of packages.hdphotos\\\" class=\\\"col-12 col-sm-6 col-lg-4 col-xl-3\\\">\\r\\n                          <app-package [package]=\\\"package\\\" [servicesComponent]=\\\"this\\\"\\r\\n                            [selectedPackages]=\\\"selectedPackages\\\">\\r\\n                          </app-package>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"row\\\">\\r\\n\\r\\n                        <div id=\\\"vs-accordion\\\" class=\\\"col-12\\\" role=\\\"tablist\\\">\\r\\n                          <div class=\\\"card-collapse\\\" *ngFor=\\\"let package of selectedHDPhotos\\\">\\r\\n                            <div class=\\\"card-header\\\" role=\\\"tab\\\">\\r\\n                              <h5 class=\\\"mb-0\\\">\\r\\n                                <a data-toggle=\\\"collapse\\\" href=\\\"#{{package.service_key + package.package_key}}\\\"\\r\\n                                  aria-expanded=\\\"true\\\" class=\\\"collapsed\\\">\\r\\n                                  {{package.title + \\\" - \\\" + package.name}}\\r\\n                                  <i class=\\\"material-icons\\\">keyboard_arrow_down</i>\\r\\n                                </a>\\r\\n                              </h5>\\r\\n                            </div>\\r\\n                            <div id=\\\"{{package.service_key + package.package_key}}\\\" class=\\\"collapse show\\\"\\r\\n                              role=\\\"tabpanel\\\" data-parent=\\\"#vs-accordion\\\">\\r\\n                              <div class=\\\"card-body\\\">\\r\\n                                <app-hdphotos-service [imoPackage]=\\\"package\\\" (onFormChange)=\\\"onHDPhotosChange($event)\\\">\\r\\n                                </app-hdphotos-service>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <!-- Tab for Expose -->\\r\\n                    <div class=\\\"tab-pane\\\" id=\\\"expose\\\">\\r\\n                      <div class=\\\"col row packages-container align-self-start\\\">\\r\\n                        <div *ngFor=\\\"let package of packages.expose\\\" class=\\\"col-12 col-sm-6 col-lg-4 col-xl-3\\\">\\r\\n                          <app-package [package]=\\\"package\\\" [servicesComponent]=\\\"this\\\"\\r\\n                            [selectedPackages]=\\\"selectedPackages\\\">\\r\\n                          </app-package>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div id=\\\"fp-accordion\\\" class=\\\"package-accordian\\\" role=\\\"tablist\\\">\\r\\n                          <div class=\\\"card-collapse\\\" *ngFor=\\\"let package of selectedExposes\\\">\\r\\n                            <div class=\\\"card-header\\\" role=\\\"tab\\\">\\r\\n                              <h5 class=\\\"mb-0\\\">\\r\\n                                <a data-toggle=\\\"collapse\\\" href=\\\"#{{package.service_key + package.package_key}}\\\"\\r\\n                                  aria-expanded=\\\"true\\\" class=\\\"collapsed\\\">\\r\\n                                  {{package.title + \\\" - \\\" + package.name}}\\r\\n                                  <i class=\\\"material-icons\\\">keyboard_arrow_down</i>\\r\\n                                </a>\\r\\n                              </h5>\\r\\n                            </div>\\r\\n                            <div id=\\\"{{package.service_key + package.package_key}}\\\" class=\\\"collapse show\\\"\\r\\n                              role=\\\"tabpanel\\\" data-parent=\\\"#fp-accordion\\\">\\r\\n                              <div class=\\\"card-body\\\">\\r\\n                                <app-expose-service [package]=\\\"package\\\" (onFormChange)=\\\"onExposeChange($event)\\\">\\r\\n                                </app-expose-service>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div> <!-- End tab-content -->\\r\\n                </div> <!-- End card body -->\\r\\n                <!-- Wizard Footer -->\\r\\n                <div class=\\\"card-footer\\\">\\r\\n                  <div class=\\\"mr-auto\\\">\\r\\n                    <!-- <input type=\\\"button\\\" class=\\\"btn btn-previous btn-fill btn-default btn-wd disabled\\\" name=\\\"previous\\\"\\r\\n                      value=\\\"Previous\\\"> -->\\r\\n                    <button class=\\\"btn btn-previous btn-default disabled\\\">\\r\\n                      Zurück\\r\\n                    </button>\\r\\n                  </div>\\r\\n                  <div class=\\\"ml-auto\\\">\\r\\n                    <!-- <input type=\\\"button\\\" class=\\\"btn btn-next btn-fill btn-primary btn-wd\\\" name=\\\"next\\\" value=\\\"Next\\\"> -->\\r\\n                    <!-- <input type=\\\"button\\\" class=\\\"btn btn-finish btn-fill btn-primary btn-wd\\\" name=\\\"finish\\\" value=\\\"Finish\\\"\\r\\n                      style=\\\"display: none;\\\"> -->\\r\\n                    <button class=\\\"btn btn-next btn-primary\\\" style=\\\"display:none;\\\">\\r\\n                      Weiter\\r\\n                    </button>\\r\\n                    <button class=\\\"btn btn-finish btn-primary\\\" (click)=\\\"goNext()\\\" style=\\\"display:none;\\\">\\r\\n                      Weiter\\r\\n                    </button>\\r\\n                  </div>\\r\\n                  <div class=\\\"clearfix\\\"></div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <!-- Continue Button -->\\r\\n              <!-- <button class=\\\"btn btn-primary mr-2 mt-2\\\" (click)=\\\"goNext()\\\">Weiter</button> -->\\r\\n              <!-- Cancel Button -->\\r\\n              <!-- <button class=\\\"btn btn-danger mt-2\\\" (click)=\\\"goToPackageSelection()\\\">Abbrechen</button> -->\\r\\n              <ng-template #loading>\\r\\n                <!-- CSS Loading Spinner -->\\r\\n                <div class=\\\"lds-ring ring-default\\\">\\r\\n                  <div></div>\\r\\n                  <div></div>\\r\\n                  <div></div>\\r\\n                  <div></div>\\r\\n                </div>\\r\\n              </ng-template>\\r\\n            </div> <!-- End Wizard container -->\\r\\n          </div>\\r\\n        </div>\\r\\n        <!--End Row  -->\\r\\n      </div>\\r\\n      <!-- 5th Page -->\\r\\n      <div *ngIf=\\\"state === '5'\\\">\\r\\n\\r\\n        <div class=\\\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center border-bottom bbcg\\\">\\r\\n          <span class=\\\"page-title\\\">Auftragsfinalisierung</span>\\r\\n          <div class=\\\"btn-toolbar mb-2 mb-md-0\\\">\\r\\n            <div class=\\\"btn-group mr-2\\\">\\r\\n              <button class=\\\"btn btn-primary\\\" (click)=\\\"goBack('3')\\\">\\r\\n                Zurück\\r\\n              </button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <!-- Final Page with \\\"billing-details\\\" and the final button to book the service -->\\r\\n        <div class=\\\"shadow card fluid cgrid\\\">\\r\\n\\r\\n          <!-- <div class=\\\"card-header\\\">\\r\\n            <button class=\\\"btn btn-primary float-right\\\" (click)=\\\"goBack('3')\\\">Zurück</button>\\r\\n            <h5 class=\\\"card-title text-left wsn\\\">Auftragsfinalisierung:</h5>\\r\\n          </div> -->\\r\\n\\r\\n          <!--  -->\\r\\n          <div class=\\\"card-body\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"col-12\\\">\\r\\n                <div\\r\\n                  *ngIf=\\\"arrayContainsValue(selectedPackages, '2') || selectedFloorplans.length > 0 || selectedRetouching.length > 0 || selectedVStaging.length > 0 || selectedExposes.length > 0 || selected3dVisualisation.length > 0 || selectedHDPhotos.length > 0\\\">\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-12 col-md-6\\\">\\r\\n                      <h4>Ausgewähltes Paket:</h4>\\r\\n                      <table class=\\\"table\\\">\\r\\n                        <tr *ngFor=\\\"let package_price of package_price_list\\\">\\r\\n                          <td width=\\\"75%\\\">{{package_price.package_label}}</td>\\r\\n                          <td width=\\\"25%\\\" class=\\\"text-right\\\"><strong>{{package_price.total_price}}\\r\\n                              €</strong></td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                          <td width=\\\"75%\\\">\\r\\n                            <strong>Summe</strong>\\r\\n                          </td>\\r\\n                          <td width=\\\"25%\\\" class=\\\"text-right\\\">\\r\\n                            <strong>{{total_price_sum}} €</strong>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                        </tbody>\\r\\n                      </table>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-12 col-md-6\\\">\\r\\n                      <ng-container *ngIf=\\\"selectedRealestate | async as realestate; else loading\\\">\\r\\n                        <h4>Objekt:</h4>\\r\\n                        <h5 class=\\\"card-title text-left wsn\\\">{{ realestate.title }}</h5>\\r\\n                        <p class=\\\"card-text text-left mb-1\\\" *ngIf=\\\"realestate.objectNumber\\\">\\r\\n                          {{ realestate.objectNumber }}\\r\\n                        </p>\\r\\n                        <p class=\\\"card-text text-left\\\">{{ realestate.street }}\\r\\n                          {{ realestate.streetnumber }}, {{ realestate.postalcode }} {{ realestate.city }}\\r\\n                        </p>\\r\\n                      </ng-container>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <!-- Border -->\\r\\n                  <div class=\\\"border-bottom bbcb mt-3 mb-3\\\"></div>\\r\\n\\r\\n                  <!-- Billing details -->\\r\\n                  <h4>Rechnungsdaten:</h4>\\r\\n                  <h5>{{user.firstName}} {{user.lastName}}</h5>\\r\\n\\r\\n                  <!-- Profile Form with prefilled data if available -->\\r\\n                  <form [formGroup]=\\\"profileForm\\\" (ngSubmit)=\\\"submitHandler()\\\">\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"col-12 col-md-6\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <div class=\\\"input-group mb-md-3\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Unternehmensname</span>\\r\\n                            </div>\\r\\n                            <input formControlName=\\\"company\\\" type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                              placeholder=\\\"Unternehmensname\\\">\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"col-12 col-md-6\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <div class=\\\"input-group mb-md-3\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">USt-ID</span>\\r\\n                            </div>\\r\\n                            <input formControlName=\\\"ustid\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"USt-ID\\\">\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"col-12 col-md-6\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <div class=\\\"input-group mb-md-3\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Straße <span\\r\\n                                  class=\\\"text-danger\\\">*</span></span>\\r\\n                            </div>\\r\\n                            <input formControlName=\\\"street\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Straße\\\">\\r\\n                          </div>\\r\\n                          <div *ngIf=\\\"street.invalid && street.touched\\\" class=\\\"alert alert-warning\\\">\\r\\n                            Bitte geben Sie eine gültige Straße an!\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"col-12 col-md-6\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <div class=\\\"input-group mb-md-3\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Nr. <span\\r\\n                                  class=\\\"text-danger\\\">*</span></span>\\r\\n                            </div>\\r\\n                            <input formControlName=\\\"streetNumber\\\" type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                              placeholder=\\\"Hausnummer\\\">\\r\\n                          </div>\\r\\n                          <div *ngIf=\\\"streetNumber.invalid && streetNumber.touched\\\" class=\\\"alert alert-warning\\\">\\r\\n                            Bitte geben Sie eine gültige Hausnummer an!\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-row\\\">\\r\\n\\r\\n                      <div class=\\\"col-12 col-md-6\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <div class=\\\"input-group mb-md-3\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Postleitzahl <span\\r\\n                                  class=\\\"text-danger\\\">*</span></span>\\r\\n                            </div>\\r\\n                            <input formControlName=\\\"postalcode\\\" type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                              placeholder=\\\"Postleitzahl\\\">\\r\\n                          </div>\\r\\n                          <div *ngIf=\\\"postalcode.invalid && postalcode.touched\\\" class=\\\"alert alert-warning\\\">\\r\\n                            Bitte geben Sie eine gültige Postleitzahl an!\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"col-12 col-md-6\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <div class=\\\"input-group mb-md-3\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Stadt <span\\r\\n                                  class=\\\"text-danger\\\">*</span></span>\\r\\n                            </div>\\r\\n                            <input formControlName=\\\"city\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Stadt\\\">\\r\\n                          </div>\\r\\n                          <div *ngIf=\\\"city.invalid && city.touched\\\" class=\\\"alert alert-warning\\\">\\r\\n                            Bitte geben Sie eine (gültige) Stadt an!\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                    </div>\\r\\n                    <div class=\\\"form-row\\\">\\r\\n                      <div class=\\\"col-12 col-md-6\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <div class=\\\"input-group mb-md-3\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Telefonnummer <span\\r\\n                                  class=\\\"text-danger\\\">*</span></span>\\r\\n                            </div>\\r\\n                            <input formControlName=\\\"phone\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Telefonnummer\\\">\\r\\n                          </div>\\r\\n                          <div *ngIf=\\\"phone.invalid && phone.touched\\\" class=\\\"alert alert-warning\\\">\\r\\n                            Bitte geben Sie eine (gültige) Telefonnummer an!\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"col-12 col-md-6\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <div class=\\\"input-group mb-md-3\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                              <span class=\\\"input-group-text\\\" id=\\\"inputGroup-sizing-default\\\">Erreichbarkeit</span>\\r\\n                            </div>\\r\\n                            <input formControlName=\\\"reachability\\\" type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                              placeholder=\\\"z.B.: Mo-Fr 09:00 Uhr bis 17:00 Uhr\\\">\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <br>\\r\\n\\r\\n\\r\\n                    <!-- Border -->\\r\\n                    <div class=\\\"border-bottom bbcb mt-3 mb-3\\\"></div>\\r\\n\\r\\n                    <!-- Invoice details -->\\r\\n                    <h4>Kauf auf Rechnung:</h4>\\r\\n                    <p>Beim Kauf auf Rechnung erhalten Sie eine Rechnung. Die Zahlungsfrist beträgt 14 Tage.</p>\\r\\n                    <p class=\\\"font-weight-bold\\\">Überweisungen/Zahlungen an:</p>\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"col-md-4\\\">\\r\\n                        <ul class=\\\"list-unstyled\\\">\\r\\n                          <li>IMOGENT GmbH</li>\\r\\n                          <li>Technologiepark 8</li>\\r\\n                          <li>33100 Paderborn</li>\\r\\n                          <li>Gesellschafter: Peer Bausch, Robin Kroll</li>\\r\\n                        </ul>\\r\\n\\r\\n                      </div>\\r\\n                      <div class=\\\"col-md-4\\\">\\r\\n                        <ul class=\\\"list-unstyled\\\">\\r\\n                          <li>Kontoinhaber: IMOGENT GmbH</li>\\r\\n                          <li>Sparkasse Hameln-Weserbergland</li>\\r\\n                          <li>IBAN: DE47 2545 0110 0031 0398 86</li>\\r\\n                          <li>BIC: NOLADE21SWB</li>\\r\\n                        </ul>\\r\\n                      </div>\\r\\n                      <div class=\\\"col-md-4\\\">\\r\\n                        <ul class=\\\"list-unstyled\\\">\\r\\n                          <li>UStId: DE319399373</li>\\r\\n                          <li>Registernummer: 13537</li>\\r\\n                          <li>Amtsgericht: Paderborn</li>\\r\\n                        </ul>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <br>\\r\\n\\r\\n                    <!-- Border -->\\r\\n                    <div class=\\\"border-bottom bbcb mt-3 mb-3\\\"></div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <div class=\\\"form-check\\\">\\r\\n                        <!-- <input class=\\\"form-check-input\\\" type=\\\"checkbox\\\" id=\\\"invalidCheck\\\" (click)=\\\"toggleWiderruf();\\\"\\r\\n                          required> -->\\r\\n                        <mat-checkbox color=\\\"primary\\\" formControlName=\\\"conditionsCheck\\\" id=\\\"invalidCheck\\\"\\r\\n                          required=\\\"true\\\">\\r\\n                        </mat-checkbox>\\r\\n                        <b> Ich stimme zu, dass IMOGENT vor Ablauf der 14 tägigen\\r\\n                          Widerrufsfrist mit der Ausführung des Auftrages beginnt. Mir ist\\r\\n                          bekannt, dass ich durch diese Zustimmung mit Beginn der Ausführung\\r\\n                          des Auftrages mein\\r\\n                          Widerrufsrecht verliere. <span class=\\\"text-danger\\\">*</span></b>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <!-- Book service button -->\\r\\n                    <button class=\\\"btn btn-primary mr-2 mt-2\\\" [disabled]=\\\"profileForm.invalid\\\">Kostenpflichtig\\r\\n                      buchen</button>\\r\\n                    <!-- Cancel Button -->\\r\\n                    <button class=\\\"btn btn-danger mt-2\\\" (click)=\\\"goToPackageSelection()\\\">Abbrechen</button>\\r\\n                  </form>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <ng-template #loading>\\r\\n              <!-- CSS Loading Spinner -->\\r\\n              <div class=\\\"lds-ring ring-default\\\">\\r\\n                <div></div>\\r\\n                <div></div>\\r\\n                <div></div>\\r\\n                <div></div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- 6th Page -->\\r\\n      <div *ngIf=\\\"state === '6'\\\">\\r\\n        <div class=\\\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center border-bottom bbcg\\\">\\r\\n          <span class=\\\"page-title\\\">Auftragsbestätigung</span>\\r\\n        </div>\\r\\n        <!-- Final Page with \\\"billing-details\\\" and the final button to book the service -->\\r\\n        <div class=\\\"shadow card fluid cgrid\\\">\\r\\n\\r\\n          <!-- <div class=\\\"card-header\\\">\\r\\n                    <button class=\\\"btn btn-primary float-right\\\" (click)=\\\"goBack('3')\\\">Zurück</button>\\r\\n                    <h5 class=\\\"card-title text-left wsn\\\">Auftragsfinalisierung:</h5>\\r\\n                  </div> -->\\r\\n          <!--  -->\\r\\n          <div class=\\\"card-body\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"col-12\\\">\\r\\n                <h5 class=\\\"w\\\">Vielen Dank für Ihre Bestellung</h5>\\r\\n                <p class=\\\"w\\\">\\r\\n                  Ihr Auftrag ist bei uns eingegangen und wird bereits bearbeitet. Wir freuen uns auf die\\r\\n                  Lieferung der Ergebnisse.\\r\\n                </p>\\r\\n                <p class=\\\"w\\\">\\r\\n                  Sollten Sie in der Zwischenzeit Fragen haben, kontaktieren Sie uns gerne.\\r\\n                </p>\\r\\n                <!-- Button that links to the orders-page -->\\r\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" routerLink=\\\"/orderoverview\\\">Zu meinen\\r\\n                  Aufträgen</button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </ng-container>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<ng-template #loading>\\r\\n  <!-- CSS Loading Spinner -->\\r\\n  <div class=\\\"lds-ring ring-default\\\">\\r\\n    <div></div>\\r\\n    <div></div>\\r\\n    <div></div>\\r\\n    <div></div>\\r\\n  </div>\\r\\n</ng-template>\"","import { Component, OnInit, OnDestroy, EventEmitter, SimpleChanges, AfterViewInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { RealestateService } from '@app/_services/realestate.service';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { Observable } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { AuthService } from '@app/auth/auth.service';\nimport { tap } from 'rxjs/operators';\nimport { Package } from '../models/package';\nimport * as _ from 'underscore';\nimport { UploadService } from '@app/_services/upload.service';\nimport { ConfigurationService } from '@app/_services/configuration.service';\n\nimport { AngularFireFunctions } from '@angular/fire/functions';\nimport { OrdersService } from '@app/_services/orders.service';\nimport { LANGUAGE } from '@app/language/language';\nimport * as accounting from 'accounting';\nimport { GlobalService } from '@app/_services/global.service';\nimport { UsersService } from '@app/_services/users.service';\n\ndeclare const $: any;\n\n@Component({\n  selector: 'app-services',\n  templateUrl: './services.component.html',\n  styleUrls: ['./services.component.css']\n})\nexport class ServicesComponent implements OnInit, OnDestroy, AfterViewInit {\n  // Seiten Stages\n  state: string;\n  selectedRealestate: Observable<any>;\n  selRID: string;\n  selCity: string;\n  selPostalcode: string;\n  selDesc: string;\n  verzichtWiderruf = false;\n  profileForm: FormGroup;\n  realestateForm: FormGroup;\n  droneMediaForm: FormGroup;\n  user: any;\n  profile: any;\n  selectedPackages: string[] = [];\n  packages: any = {}; // predefined packages hardcoded in models/package.ts\n  selectedFloorplans = [];\n  selectedRetouching = [];\n  emailSendCallable: any;\n  onFloorplanOrderCreation: EventEmitter<boolean> = new EventEmitter();\n  floorplanOrderCount: number = 0;\n  selectedVStaging = [];\n  selected3dVisualisation = [];\n  selectedDroneMedia;\n  selectedExposes = [];\n  package_price_list = []; // maintain selected packages and their prices in this list\n  total_price_sum: any; // total sum of all selected packages prices\n  private subOrderCount = 0;\n  private onSubOrdersCreation: EventEmitter<boolean> = new EventEmitter();\n  public packageList;\n  public availablePackages;\n  cartItems: any[] = [];\n  public chosenPackages: Package[] = [];\n  public selectedService: string = '';\n  public selectedServices: any[] = [];\n  private wizardIntialized = false;\n  reset: boolean = false;\n  selectedHDPhotos = [];\n\n  /**\n   * Set the form validation in the constructor. This form is displayed during booking a service.\n   */\n  constructor(private fb: FormBuilder,\n    private realestateservice: RealestateService,\n    private afs: AngularFirestore,\n    public auth: AuthService,\n    public conf: ConfigurationService,\n    private router: Router,\n    private uploadService: UploadService,\n    private fns: AngularFireFunctions,\n    private os: OrdersService,\n    public gs: GlobalService,\n    private userService: UsersService\n  ) {\n    this.realestateForm = this.fb.group({\n      title: ['', [Validators.required]],\n      objectNumber: [''],\n      street: ['', [\n        Validators.required,\n        Validators.pattern('^([A-ZäöüÄÖÜß.-][a-zA-ZäöüÄÖÜß. -]*[a-zA-ZäöüÄÖÜß.]$)')\n      ]],\n      streetnumber: ['', [\n        Validators.required,\n        Validators.pattern('[1-9][0-9]{0,3}[a-zA-Z]?$')\n      ]],\n      postalcode: ['', [\n        Validators.required,\n        Validators.pattern('^[0-9]{5}$')\n      ]],\n      city: ['', [\n        Validators.required,\n        Validators.pattern('^([A-ZäöüÄÖÜß -][a-zA-ZäöüÄÖÜß -]*[a-zA-ZäöüÄÖÜß]$)')\n      ]],\n    });\n    this.profileForm = this.fb.group({\n      company: [''],\n      ustid: [''],\n      street: ['', [\n        Validators.required,\n        Validators.pattern('^([A-ZäöüÄÖÜß.-][a-zA-ZäöüÄÖÜß. -]*[a-zA-ZäöüÄÖÜß.]$)')\n      ]],\n      streetNumber: ['', [\n        Validators.required,\n        Validators.pattern('[1-9][0-9]{0,3}[a-zA-Z]?$')\n      ]],\n      postalcode: ['', [\n        Validators.required,\n        Validators.pattern('^[0-9]{5}$')\n      ]],\n      city: ['', [\n        Validators.required,\n        Validators.pattern('^([A-ZäöüÄÖÜß -][a-zA-ZäöüÄÖÜß -]*[a-zA-ZäöüÄÖÜß]$)')\n      ]],\n      phone: ['', [\n        Validators.required,\n        Validators.pattern('[0-9+/]*')\n      ]],\n      'reachability': [''],\n      conditionsCheck: [false, [\n        Validators.required\n      ]]\n    });\n    this.droneMediaForm = this.fb.group({\n      wishPilot: [''],\n      description: ['']\n    });\n    // this.emailSendCallable = this.fns.httpsCallable('sendMail');\n    this.emailSendCallable = this.fns.httpsCallable('sendOrderConfirmationEmail');\n  }\n\n  get conditionsCheck() {\n    return this.profileForm.get('conditionsCheck');\n  }\n\n  ngOnInit() {\n    let self = this;\n    self.state = '1';\n    this.os.getAllServices().subscribe((services: any[]) => {\n      let PACKAGES = {};\n      self.packageList = [];\n      services.forEach((service: any) => {\n        PACKAGES[service.id] = service.packages;\n        self.packageList = self.packageList.concat(service.packages);\n      });\n      self.packages = PACKAGES;\n      self.availablePackages = self.fetchAvailableServices('', false);\n      const user = JSON.parse(sessionStorage.getItem('user'));\n      const uid: string = user.uid;\n      self.user = uid; // UID;\n      self.preloadData();\n      self.packages.dronemedia = self.packages.dronemedia.filter(pckg => !pckg.disabled);\n      self.packages.floorplans = self.packages.floorplans.filter(pckg => !pckg.disabled);\n      self.packages.retouching = self.packages.retouching.filter(pckg => !pckg.disabled);\n      self.packages.vstaging = self.packages.vstaging.filter(pckg => !pckg.disabled);\n      self.packages.visualisation = self.packages.visualisation.filter(pckg => !pckg.disabled);\n      self.packages.hdphotos = self.packages.hdphotos.filter(pckg => !pckg.disabled);\n      if (self.userService.cartItems) {\n        self.cartItems = self.userService.cartItems;\n      }\n      if (self.userService.selectedServices) {\n        self.selectedServices = self.userService.selectedServices;\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    /* Prevent Memory Leaks and insufficient permission errors */\n    if (this.profile !== undefined) {\n      this.profile.unsubscribe();\n    }\n  }\n  /**\n   * Preload user profile data when bookign a service\n   */\n  preloadData() {\n    this.profile = this.afs.doc(`users/${this.user}`).valueChanges().pipe(\n      tap(data => {\n        this.profileForm.patchValue(data);\n      })\n    )\n      .subscribe();\n  }\n  /**\n   * Store any additional comments for post processing and for pilot's work\n   * These comments are given by Customer during placing an order\n   */\n  //   setWishes(pilot, editor) {\n  //     this.optionalWishPilot = pilot;\n  //     this.optionalWishEditor = editor;\n  //     console.log(this.optionalWishEditor);\n  //     console.log(this.optionalWishPilot);\n  //     console.log('droneMediaFormValue: ', this.droneMediaForm.value);\n  //   }\n\n  get street() {\n    return this.profileForm.get('street');\n  }\n  get streetNumber() {\n    return this.profileForm.get('streetNumber');\n  }\n  get postalcode() {\n    return this.profileForm.get('postalcode');\n  }\n  get city() {\n    return this.profileForm.get('city');\n  }\n  get phone() {\n    return this.profileForm.get('phone');\n  }\n  get reachability() {\n    return this.profileForm.get('phone');\n  }\n  get wishPilot() {\n    return this.droneMediaForm.get('wishPilot');\n  }\n  get wishEditor() {\n    return this.droneMediaForm.get('description');\n  }\n  get re_title() {\n    return this.realestateForm.get('title');\n  }\n  get re_street() {\n    return this.realestateForm.get('street');\n  }\n  get re_streetnumber() {\n    return this.realestateForm.get('streetnumber');\n  }\n  get re_postalcode() {\n    return this.realestateForm.get('postalcode');\n  }\n  get re_city() {\n    return this.realestateForm.get('city');\n  }\n\n  /**\n   * Submit handler for booking a service for a realestate.\n   * Also updates the address in user profile if the billing address is updated in during booking a service.\n   */\n  async submitHandler() {\n    console.log('Check');\n    const colRef = this.afs.collection('users');\n    this.profileForm.value.profileCompleted = true;\n    const formValue = this.profileForm.value;\n    colRef.doc(this.user).update(formValue);\n    this.bookOrder();\n  }\n\n  async createNewRealestate() {\n    this.realestateservice.add = false;\n    const colRef = this.afs.collection('realestates');\n    const formValue = this.realestateForm.value;\n    try {\n      await colRef.add(formValue).then(docRef => {\n        const docId = docRef.id;\n        colRef.doc(docId).update({\n          id: docId,\n          ownerID: this.user,\n          createdOn: new Date(),\n        });\n        this.realestateForm.reset();\n        this.realestateForm.markAsPristine();\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  /**\n   * Gets triggered when user selects a real estate to book a service. Set the desired class attributes and change the state\n   */\n  realEstateSelectHandler(ridParam: string, selCity: string, selPostalcode: string, selDesc: string) {\n    var self = this;\n    this.selRID = ridParam;\n    this.selCity = selCity;\n    this.selPostalcode = selPostalcode;\n    this.selDesc = selDesc;\n    this.selectedRealestate = this.realestateservice.getRealestate(this.selRID).valueChanges();\n    this.state = '3';\n    // this.packageSelectHandler();\n    // initialize the wizard, a delay is added because $('.card-wizard') is not immediately available\n    setTimeout(() => {\n      this.wizardInitialization();\n    }, 10);\n  }\n\n  packageSelectHandler() {\n    let self = this;\n\n    this.selectedFloorplans = this.packages.floorplans.filter(plan => {\n      return self.selectedPackages.indexOf(plan.package_key) >= 0;\n    });\n    for (let i = 0; i < self.packages.dronemedia.length; i++) {\n      if (self.selectedPackages.indexOf(self.packages.dronemedia[i].package_key) >= 0) {\n        self.selectedDroneMedia = self.packages.dronemedia[i];\n      }\n    }\n    this.selectedRetouching = this.packages.retouching.filter(plan => {\n      return self.selectedPackages.indexOf(plan.package_key) >= 0;\n    });\n    this.selectedVStaging = this.packages.vstaging.filter(plan => {\n      return self.selectedPackages.indexOf(plan.package_key) >= 0;\n    });\n    this.selected3dVisualisation = this.packages.visualisation.filter(plan => {\n      return self.selectedPackages.indexOf(plan.package_key) >= 0;\n    });\n    this.selectedHDPhotos = this.packages.hdphotos.filter(plan => {\n      return self.selectedPackages.indexOf(plan.package_key) >= 0;\n    });\n    this.selectedExposes = this.packages.expose.filter(plan => {\n      return self.selectedPackages.indexOf(plan.package_key) >= 0;\n    });\n  }\n\n  ngAfterViewInit() {\n    /* if (!this.wizardIntialized) {\n      return;\n    } */\n    $(window).resize(() => {\n      $('.card-wizard').each(function () {\n\n        const $wizard = $(this);\n        const index = $wizard.bootstrapWizard('currentIndex');\n        let $total = $wizard.find('.nav li').length;\n        let $li_width = 100 / $total;\n\n        let total_steps = $wizard.find('.nav li').length;\n        let move_distance = $wizard.width() / total_steps;\n        let index_temp = index;\n        let vertical_level = 0;\n\n        let mobile_device = $(document).width() < 600 && $total > 3;\n\n        if (mobile_device) {\n          move_distance = $wizard.width() / 2;\n          index_temp = index % 2;\n          $li_width = 50;\n        }\n\n        $wizard.find('.nav li').css('width', $li_width + '%');\n\n        let step_width = move_distance;\n        move_distance = move_distance * index_temp;\n\n        let $current = index + 1;\n\n        if ($current == 1 || (mobile_device == true && (index % 2 == 0))) {\n          move_distance -= 8;\n        } else if ($current == total_steps || (mobile_device == true && (index % 2 == 1))) {\n          move_distance += 8;\n        }\n\n        if (mobile_device) {\n          let x: any = index / 2;\n          vertical_level = parseInt(x);\n          vertical_level = vertical_level * 38;\n        }\n\n        $wizard.find('.moving-tab').css('width', $li_width + '%');\n        $('.moving-tab').css({\n          'transform': 'translate3d(' + move_distance + 'px, ' + vertical_level + 'px, 0)',\n          'transition': 'all 0.5s cubic-bezier(0.29, 1.42, 0.79, 1)'\n        });\n\n        $('.moving-tab').css({\n          'transition': 'transform 0s'\n        });\n      });\n    });\n  }\n  wizardInitialization() {\n    var self = this;\n    // Wizard Initialization\n    $('.card-wizard').bootstrapWizard({\n      'tabClass': 'nav nav-pills',\n      'nextSelector': '.btn-next',\n      'previousSelector': '.btn-previous',\n      onNext: function (tab, navigation, index) {\n        console.log('onNext called');\n        // self.onServiceChange(self.cartItems[index]);\n        // var $valid = $('.card-wizard form').valid();\n        // if (!$valid) {\n        //   $validator.focusInvalid();\n        //   return false;\n        // }\n        if (!self.areAllFormsValid()) {\n          self.gs.showNotification('Bitte laden Sie die benötigten Dateien hoch', 'danger');\n          return false;\n        }\n      },\n      onPrevious: function (tab, navigation, index) {\n        if (!self.areAllFormsValid()) {\n          self.gs.showNotification('Bitte laden Sie die benötigten Dateien hoch', 'danger');\n          return false;\n        }\n      },\n      onInit: function (tab: any, navigation: any, index: any) {\n        console.log('onInit called');\n        // check number of tabs and fill the entire row\n        let $total = navigation.find('li').length;\n        let $wizard = navigation.closest('.card-wizard');\n\n        let $first_li = navigation.find('li:first-child a').html();\n        let $moving_div = $('<div class=\"moving-tab\">' + $first_li + '</div>');\n        $('.card-wizard .wizard-navigation').append($moving_div);\n\n        $total = $wizard.find('.nav li').length;\n        let $li_width = 100 / $total;\n\n        let total_steps = $wizard.find('.nav li').length;\n        let move_distance = $wizard.width() / total_steps;\n        let index_temp = index;\n        let vertical_level = 0;\n\n        let mobile_device = $(document).width() < 600 && $total > 3;\n\n        if (mobile_device) {\n          move_distance = $wizard.width() / 2;\n          index_temp = index % 2;\n          $li_width = 50;\n        }\n\n        $wizard.find('.nav li').css('width', $li_width + '%');\n\n        let step_width = move_distance;\n        move_distance = move_distance * index_temp;\n\n        let $current = index + 1;\n\n        if ($current == 1 || (mobile_device == true && (index % 2 == 0))) {\n          move_distance -= 8;\n        } else if ($current == total_steps || (mobile_device == true && (index % 2 == 1))) {\n          move_distance += 8;\n        }\n\n        if (mobile_device) {\n          let x: any = index / 2;\n          vertical_level = parseInt(x);\n          vertical_level = vertical_level * 38;\n        }\n\n        $wizard.find('.moving-tab').css('width', step_width);\n        $('.moving-tab').css({\n          'transform': 'translate3d(' + move_distance + 'px, ' + vertical_level + 'px, 0)',\n          'transition': 'all 0.5s cubic-bezier(0.29, 1.42, 0.79, 1)'\n\n        });\n        $('.moving-tab').css('transition', 'transform 0s');\n      },\n      onTabClick: function (tab: any, navigation: any, index: any) {\n        // console.log('in OnTabClick');\n        // console.log(self.state);\n        // self.onServiceChange(self.cartItems[index]);\n        // const $valid = $('.card-wizard form').valid();\n\n        // if (!$valid) {\n        //   return false;\n        // } else {\n        //   return true;\n        // }\n        if (!self.areAllFormsValid()) {\n          self.gs.showNotification('Bitte laden Sie die benötigten Dateien hoch', 'danger');\n          return false;\n        }\n      },\n      onTabShow: function (tab: any, navigation: any, index: any) {\n        let $total = navigation.find('li').length;\n        let $current = index + 1;\n\n        const $wizard = navigation.closest('.card-wizard');\n\n        // If it's the last tab then hide the last button and show the finish instead\n        if ($current >= $total) {\n          $($wizard).find('.btn-next').hide();\n          $($wizard).find('.btn-finish').show();\n        } else {\n          $($wizard).find('.btn-next').show();\n          $($wizard).find('.btn-finish').hide();\n        }\n\n        const button_text = navigation.find('li:nth-child(' + $current + ') a').html();\n\n        setTimeout(function () {\n          $('.moving-tab').text(button_text);\n        }, 150);\n\n        const checkbox = $('.footer-checkbox');\n\n        if (index !== 0) {\n          $(checkbox).css({\n            'opacity': '0',\n            'visibility': 'hidden',\n            'position': 'absolute'\n          });\n        } else {\n          $(checkbox).css({\n            'opacity': '1',\n            'visibility': 'visible'\n          });\n        }\n        $total = $wizard.find('.nav li').length;\n        let $li_width = 100 / $total;\n\n        let total_steps = $wizard.find('.nav li').length;\n        let move_distance = $wizard.width() / total_steps;\n        let index_temp = index;\n        let vertical_level = 0;\n\n        let mobile_device = $(document).width() < 600 && $total > 3;\n\n        if (mobile_device) {\n          move_distance = $wizard.width() / 2;\n          index_temp = index % 2;\n          $li_width = 50;\n        }\n\n        $wizard.find('.nav li').css('width', $li_width + '%');\n\n        let step_width = move_distance;\n        move_distance = move_distance * index_temp;\n\n        $current = index + 1;\n\n        if ($current == 1 || (mobile_device == true && (index % 2 == 0))) {\n          move_distance -= 8;\n        } else if ($current == total_steps || (mobile_device == true && (index % 2 == 1))) {\n          move_distance += 8;\n        }\n\n        if (mobile_device) {\n          let x: any = index / 2;\n          vertical_level = parseInt(x);\n          vertical_level = vertical_level * 38;\n        }\n\n        $wizard.find('.moving-tab').css('width', step_width);\n        $('.moving-tab').css({\n          'transform': 'translate3d(' + move_distance + 'px, ' + vertical_level + 'px, 0)',\n          'transition': 'all 0.5s cubic-bezier(0.29, 1.42, 0.79, 1)'\n\n        });\n      }\n    });\n    self.cartItems = self.cartItems;\n    this.wizardIntialized = true;\n  }\n\n  /**\n   * Navigate to realestate component and open the form to add the new real estate by default.\n   */\n  navigateToRealestateCreation() {\n    // this.router.navigate(['realestate']);\n    this.realestateservice.add = !this.realestateservice.add;\n  }\n\n  /**\n   * Check if array contains value\n   */\n  arrayContainsValue(list: string[], value: string) {\n    return list.indexOf(value) > -1;\n  }\n  /**\n   * Book the order. Create a new order in orders collection\n   */\n  async bookOrder() {\n    debugger;\n    return;\n    const user = JSON.parse(sessionStorage.getItem('user'));\n    // create order and different suborders\n    // check which suborders we need to create\n    this.auth.showLoader.emit(true);\n    await this.afs.collection('orders').add({\n      createdOn: new Date(),\n      createdBy: user.uid,\n      status: 'opened',\n      realestateId: this.selRID,\n      assignedTo: '',\n      areaDesc: `${this.selCity}` + ` (${this.selPostalcode})`,\n      Desc: `${this.selDesc}`,\n      packageNumbers: this.selectedPackages,\n      adminActionRequired: true,\n      price: this.total_price_sum // total price for the order (sum of all suborder prices)\n    }).then(async doc => {\n      this.subOrderCount = 0;\n      const docId = doc.id;\n      this.afs.collection('orders').doc(docId).update({\n        orderId: docId\n      });\n      // create sub orders now sequantially(await) because if create all parallely there\n      // will be too many requests initiated parallely to firebase\n      if (this.selectedPackages.indexOf('2') > -1) {\n        // we need to create drone photos suborder and retouching suborder\n        await this.createDroneMediaSubOrder(doc.id);\n      }\n      if (this.selectedFloorplans.length > 0) {\n        this.floorplanOrderCount = 0;\n        this.selectedFloorplans.forEach(async (fp, index) => {\n          await this.createFloorPlanSubOrder(doc.id, fp.formValues, fp.title + ' - ' + fp.name, fp);\n        });\n      }\n      if (this.selectedRetouching.length > 0) {\n        this.selectedRetouching.forEach(async retouch => {\n          await this.createRetouchingSubOrder(doc.id, retouch.formValues, false, retouch);\n        });\n      }\n      if (this.selectedVStaging.length > 0) {\n        this.selectedVStaging.forEach(async vstaging => {\n          await this.createVStagingSubOrder(doc.id, vstaging.formValues, vstaging);\n        });\n      }\n      if (this.selected3dVisualisation.length > 0) {\n        this.selected3dVisualisation.forEach(async visualisation => {\n          await this.create3dVisualisationSubOrder(doc.id, visualisation);\n        });\n      }\n      if (this.selectedHDPhotos.length > 0) {\n        this.selectedHDPhotos.forEach(async hdPhotoOrder => {\n          await this.createHDPhotosSubOrder(doc.id, hdPhotoOrder.formValues, 'HD Fotos', hdPhotoOrder);\n        });\n      }\n      if (this.selectedExposes.length > 0) {\n        this.selectedExposes.forEach(async expose => {\n          await this.createExposeSubOrder(doc.id, expose.formValues, expose);\n        });\n      }\n      this.onSubOrdersCreation.subscribe(() => {\n        this.auth.showLoader.emit(false);\n        this.sendConfirmationEmail(doc.id);\n        this.selectedServices = [];\n        this.cartItems = [];\n        this.userService.selectedServices = [];\n        this.userService.cartItems = [];\n        console.log(\"All suborders created.\");\n        this.state = '6';\n      });\n    });\n  }\n  create3dVisualisationSubOrder(id: string, visualisation: any) {\n    console.log('Creating 3D visualisation sub order', visualisation);\n    const selectedPackage = (visualisation.package_key == 10 ? 'Innenvisualisierung' : 'Außenvisualisierung');\n    const outputFormatArray = ['', 'Standbild', '360° Tour', 'Rundflug'];\n    const qualityArray = ['', 'Basic', 'Standard', 'High Quality', 'Premium'];\n    const lengthArray = ['', '30 Sekunden', '40 Sekunden', '50 Sekunden'];\n    const appartmentsArray = ['', '1 - 4 Appartments', '5 - 10 Appartments', 'mehr als 10 Appartments'];\n    let suborder = {\n      createdOn: new Date(),\n      createdBy: this.user,\n      status: 'opened',\n      realestateId: this.selRID,\n      assignedTo: '',\n      orderType: 'visualisation',\n      areaDesc: `${this.selCity}` + ` (${this.selPostalcode})`,\n      Desc: `${this.selDesc}`,\n      orderId: id,\n      packageNum: visualisation.package_key,\n      selectedPackage: selectedPackage,\n      outputFormat: outputFormatArray[visualisation.outputFormat],\n      quality: qualityArray[visualisation.quality],\n      length: lengthArray[visualisation.length],\n      apartments: appartmentsArray[visualisation.apartments],\n      price: visualisation.total_price,\n      numPhotos: visualisation.numPhotos\n    };\n    if (visualisation.description) {\n      suborder = _.extend(suborder, {\n        description: visualisation.description\n      });\n    } else {\n      suborder = _.extend(suborder, {\n        description: ''\n      });\n    }\n\n    this.afs.collection('suborders').add(suborder).then(async doc => {\n      // upload attachments\n      this.subOrderCount++;\n      console.log(\"3D visualisation order created. Suborder count: \" + this.subOrderCount);\n      if (this.subOrderCount === this.selectedPackages.length) {\n        this.onSubOrdersCreation.emit(true);\n      }\n    });\n  }\n\n  createExposeSubOrder(id: string, formValues: any, expose: any) {\n    console.log('Creating expose sub order');\n    let suborder = {\n      createdOn: new Date(),\n      createdBy: this.user,\n      status: 'opened',\n      realestateId: this.selRID,\n      assignedTo: '',\n      orderType: 'expose',\n      areaDesc: `${this.selCity}` + ` (${this.selPostalcode})`,\n      Desc: `${this.selDesc}`,\n      orderId: id,\n      packageNum: expose.package_key\n    };\n    if (formValues) {\n      if (formValues.description) {\n        suborder = _.extend(suborder, {\n          description: formValues.description\n        });\n      } else {\n        suborder = _.extend(suborder, {\n          description: ''\n        });\n      }\n    } else {\n      suborder = _.extend(suborder, {\n        description: ''\n      });\n    }\n    this.afs.collection('suborders').add(suborder);\n  }\n\n  /**\n   * Create drone-media suborder against an order\n   */\n  createDroneMediaSubOrder(orderId) {\n    if (this.selectedPackages.indexOf('2') > -1) {\n      let suborder = {\n        createdOn: new Date(),\n        createdBy: this.user,\n        status: 'opened',\n        realestateId: this.selRID,\n        assignedTo: '',\n        orderType: 'dronemedia',\n        optionalWishPilot: this.droneMediaForm.value.wishPilot,\n        areaDesc: `${this.selCity}` + ` (${this.selPostalcode})`,\n        Desc: `${this.selDesc}`,\n        orderId: orderId\n      };\n      // store the package number also, every package is assigned a fixed number\n      suborder = _.extend(suborder, {\n        packageNum: '2'\n      });\n      this.afs.collection('suborders').add(suborder).then(doc => {\n        console.log('sub order dronemedia created');\n        // retouching is part of package number 2\n        this.createRetouchingSubOrder(orderId, doc.id, true);\n      });\n    }\n  }\n\n  /**\n   * Create retouching sub order against an order\n   */\n  createRetouchingSubOrder(orderId, values, drone, selectedPackage = {}) {\n    console.log('Creating retouching sub order');\n    let suborder;\n    suborder = {\n      createdOn: new Date(),\n      createdBy: this.user,\n      // status: 'opened',\n      realestateId: this.selRID,\n      assignedTo: this.conf.serviceProviders.retouchingService,\n      orderType: 'retouching',\n      // description: values.description,\n      areaDesc: `${this.selCity}` + ` (${this.selPostalcode})`,\n      Desc: `${this.selDesc}`,\n      orderId: orderId\n    };\n    if (drone) {\n      suborder = _.extend(suborder, {\n        status: 'pending',\n        packageNum: '2',\n        pendingOnSuborderId: values\n      });\n      if (this.droneMediaForm.value.description) {\n        suborder = _.extend(suborder, {\n          description: this.droneMediaForm.value.description\n        });\n      } else {\n        suborder = _.extend(suborder, {\n          description: ''\n        });\n      }\n    } else {\n      suborder = _.extend(suborder, {\n        status: 'opened',\n        packageNum: values.packageNum\n      });\n      // add price for selected package\n      if (!_.isEmpty(selectedPackage)) {\n        const total_price = selectedPackage['total_price'] ? selectedPackage['total_price'] : selectedPackage['price'];\n        suborder['price'] = total_price;\n      }\n      if (values.description) {\n        suborder = _.extend(suborder, {\n          description: values.description\n        });\n      } else {\n        suborder = _.extend(suborder, {\n          description: ''\n        });\n      }\n      if (values.uploadedFiles && values.uploadedFiles.length > 0) {\n        // the number of retouched photos required is equal to number of original photos provided\n        suborder = _.extend(suborder, {\n          requiredUploads: values.uploadedFiles.length\n        });\n      }\n    }\n\n    this.afs.collection('suborders').add(suborder).then(async doc => {\n      let uploadedFileCount = 0;\n      // upload attachments\n      if (values.uploadedFiles && values.uploadedFiles.length > 0) {\n        let data = {};\n        for (let i = 0; i < values.uploadedFiles.length; i++) {\n          await this.uploadService.uploadtoSubOrder(values.uploadedFiles[i], doc.id + '/originalPhotos', '').then(\n            (url) => {\n              console.log('file uploaded, now adding to subcollection');\n              data = {\n                download_url: url,\n                file_name: values.uploadedFiles[i].name\n              };\n              this.os.addSubCollectionDocument('suborders', doc.id, 'originalPhotos', data).then(() => {\n                uploadedFileCount++;\n                if (uploadedFileCount == values.uploadedFiles.length) {\n                  this.subOrderCount++;\n                  console.log(\"retouching order created. Suborder count: \" + this.subOrderCount);\n                  if (this.subOrderCount === this.selectedPackages.length) {\n                    this.onSubOrdersCreation.emit(true);\n                  }\n                }\n              });\n            }\n          );\n        }\n      } else {\n        this.subOrderCount++;\n        console.log(\"retouching order created. Suborder count: \" + this.subOrderCount);\n        if (this.subOrderCount === this.selectedPackages.length) {\n          this.onSubOrdersCreation.emit(true);\n        }\n      }\n    });\n  }\n\n  /**\n     * Create virtual staging sub order against an order\n     */\n  createVStagingSubOrder(orderId, values, selectedPackage = {}) {\n    console.log('Creating virtual staging sub order');\n    let suborder = {\n      createdOn: new Date(),\n      createdBy: this.user,\n      status: 'opened',\n      realestateId: this.selRID,\n      assignedTo: this.conf.serviceProviders.vstagingService,\n      orderType: 'vstaging',\n      areaDesc: `${this.selCity}` + ` (${this.selPostalcode})`,\n      Desc: `${this.selDesc}`,\n      orderId: orderId,\n      packageNum: values.packageNum\n    };\n    if (values.description) {\n      suborder = _.extend(suborder, {\n        description: values.description\n      });\n    } else {\n      suborder = _.extend(suborder, {\n        description: ''\n      });\n    }\n    // add price for selected package\n    if (!_.isEmpty(selectedPackage)) {\n      const total_price = selectedPackage['total_price'] ? selectedPackage['total_price'] : selectedPackage['price'];\n      suborder['price'] = total_price;\n    }\n    if (values.uploadedFiles && values.uploadedFiles.length > 0) {\n      // the number of staging photos required is equal to number of original photos provided\n      suborder = _.extend(suborder, {\n        requiredUploads: values.uploadedFiles.length\n      });\n    }\n    this.afs.collection('suborders').add(suborder).then(async doc => {\n      let uploadedFileCount = 0;\n      // upload attachments\n      if (values.uploadedFiles && values.uploadedFiles.length > 0) {\n        let data = {};\n        for (let i = 0; i < values.uploadedFiles.length; i++) {\n          await this.uploadService.uploadtoSubOrder(values.uploadedFiles[i], doc.id + '/originalPhotos', '').then(\n            (url) => {\n              console.log('virtual staging file uploaded, now adding to subcollection');\n              data = {\n                download_url: url,\n                file_name: values.uploadedFiles[i].name\n              };\n              this.os.addSubCollectionDocument('suborders', doc.id, 'originalPhotos', data).then(() => {\n                uploadedFileCount++;\n                if (uploadedFileCount == values.uploadedFiles.length) {\n                  this.subOrderCount++;\n                  console.log(\"virtual staging order created. Suborder count: \" + this.subOrderCount);\n                  if (this.subOrderCount === this.selectedPackages.length) {\n                    this.onSubOrdersCreation.emit(true);\n                  }\n                }\n              });\n            }\n          );\n        }\n      } else {\n        this.subOrderCount++;\n        console.log(\"virtual staging order created. Suborder count: \" + this.subOrderCount);\n        if (this.subOrderCount === this.selectedPackages.length) {\n          this.onSubOrdersCreation.emit(true);\n        }\n      }\n    });\n  }\n\n  goNext(): void {\n    if (this.selectedPackages && this.selectedPackages.length <= 0) {\n      this.gs.showNotification('Bitte wählen Sie ein Paket aus', 'danger');\n      return;\n    }\n    var errorMsg = '';\n    var canContinue: boolean = true;\n    this.total_price_sum = 0;\n    this.package_price_list = [];\n    // add price for dronemedia package\n    if (!_.isEmpty(this.selectedDroneMedia) && canContinue) {\n      this.priceCalculation(this.selectedDroneMedia);\n    }\n    this.selectedFloorplans.forEach(plan => {\n      if (plan.form.invalid) {\n        canContinue = false;\n        plan.validate = !plan.validate;\n      } else if (canContinue) {\n        this.priceCalculation(plan);\n      }\n    });\n    // retouching form validation\n    this.selectedRetouching.forEach(retouching => {\n      if (retouching.form.invalid) {\n        canContinue = false;\n        retouching.validate = !retouching.validate;\n      } else if (canContinue) {\n        this.priceCalculation(retouching);\n      }\n    });\n    // virtual staging form valdiation\n    this.selectedVStaging.forEach(staging => {\n      if (staging.form.invalid) {\n        canContinue = false;\n        staging.validate = !staging.validate;\n      } else if (canContinue) {\n        this.priceCalculation(staging);\n      }\n    });\n    // // 3D Visualisation form valdiation\n    this.selected3dVisualisation.forEach(vis => {\n      if (!vis.total_price || vis.total_price === '0,00') {\n        canContinue = false;\n        vis.validate = !vis.validate;\n        errorMsg = 'Bitte geben Sie alle benötigten Informationen an';\n      } else if (canContinue) {\n        this.priceCalculation(vis);\n      }\n    });\n    this.selectedHDPhotos.forEach(hdPhotos => {\n      if (hdPhotos.form.invalid) {\n        canContinue = false;\n        hdPhotos.validate = !hdPhotos.validate;\n        errorMsg = 'Bitte geben Sie alle benötigten Informationen an';\n      } else if (canContinue) {\n        this.priceCalculation(hdPhotos);\n      }\n    });\n    // expose form valdiation\n    this.selectedExposes.forEach(expose => {\n      if (expose.form.invalid) {\n        canContinue = false;\n        expose.validate = !expose.validate;\n      } else if (canContinue) {\n        this.priceCalculation(expose);\n      }\n    });\n    if (canContinue) {\n      this.state = '5';\n      this.verzichtWiderruf = false;\n      this.total_price_sum = accounting.formatMoney(this.total_price_sum, '', 2, '.', ',');\n    } else {\n      if (!errorMsg) {\n        this.gs.showNotification('Bitte laden Sie die benötigten Dateien hoch', 'danger');\n      } else {\n        this.gs.showNotification(errorMsg, 'danger');\n      }\n\n    }\n  }\n\n  priceCalculation(package_data: any) {\n    const total_price = package_data.total_price ? package_data.total_price : package_data.price;\n    // add price\n    this.total_price_sum += accounting.unformat(total_price, ',');\n    this.package_price_list.push({\n      package_label: LANGUAGE.app_list_strings.order_type_list[package_data.service_key] + ' - ' + package_data.name,\n      total_price: total_price\n    });\n  }\n\n  onFloorPlanChange(formValues: any): void {\n    for (let i = 0; i < this.selectedFloorplans.length; i++) {\n      if (this.selectedFloorplans[i].package_key === formValues.packageNum) {\n        this.selectedFloorplans[i].formValues = formValues;\n        break;\n      }\n    }\n  }\n\n  onRetouchingChange(formValues: any): void {\n    for (let i = 0; i < this.selectedRetouching.length; i++) {\n      if (formValues.packageNum == this.selectedRetouching[i].package_key) {\n        this.selectedRetouching[i].formValues = formValues;\n      }\n    }\n  }\n\n  onVStagingChange(formValues: any): void {\n    for (let i = 0; i < this.selectedVStaging.length; i++) {\n      if (formValues.packageNum == this.selectedVStaging[i].package_key) {\n        this.selectedVStaging[i].formValues = formValues;\n      }\n    }\n  }\n\n  on3dVisualisationChange(formValues: any): void {\n    for (let i = 0; i < this.selected3dVisualisation.length; i++) {\n      if (formValues.packageNum === this.selected3dVisualisation[i].package_key) {\n        this.selected3dVisualisation[i].formValues = formValues;\n      }\n    }\n  }\n\n  onHDPhotosChange(formValues: any): void {\n    for (let i = 0; i < this.selectedHDPhotos.length; i++) {\n      if (formValues.packageNum === this.selectedHDPhotos[i].package_key) {\n        this.selectedHDPhotos[i].formValues = formValues;\n      }\n    }\n  }\n\n  onExposeChange(formValues: any): void {\n    for (let i = 0; i < this.selectedExposes.length; i++) {\n      if (formValues.packageNum == this.selectedExposes[i].package_key) {\n        this.selectedExposes[i].formValues = formValues;\n        console.log(this.selectedExposes[i]);\n      }\n    }\n  }\n\n  async createFloorPlanSubOrder(orderId: string, fpValues: any, packageName: string, selectedPackage = {}) {\n    var self = this;\n    let suborder = {\n      createdOn: new Date(),\n      createdBy: this.user,\n      status: 'opened',\n      realestateId: this.selRID,\n      assignedTo: this.conf.serviceProviders.floorplanService,\n      areaDesc: `${this.selCity}` + ` (${this.selPostalcode})`,\n      Desc: `${this.selDesc}`,\n      orderId: orderId,\n      packageName: packageName,\n      imgUrl: fpValues.baseurl + 'Grundriss_moebliert.jpeg'\n    };\n    // add price for selected package\n    if (!_.isEmpty(selectedPackage)) {\n      const total_price = selectedPackage['total_price'] ? selectedPackage['total_price'] : selectedPackage['price'];\n      suborder['price'] = total_price;\n    }\n    Object.keys(fpValues).forEach(key => {\n      if (!(fpValues[key] instanceof FileList) && key !== 'planImages' && key !== 'logoImage') {\n        suborder[key] = fpValues[key];\n      }\n    });\n    this.afs.collection('suborders').add(suborder).then(async doc => {\n      fpValues.subOrderId = doc.id;\n      if (fpValues.planImages.length > 0) {\n        let fpImageLst = [];\n        for (let i = 0; i < fpValues.planImages.length; i++) {\n          await self.uploadService.uploadtoSubOrder(fpValues.planImages[i], doc.id, 'fp_').then(\n            (url) => {\n              fpImageLst.push({\n                'url': url,\n                'fileName': fpValues.planImages[i].name\n              });\n            }\n          );\n        }\n        this.afs.collection('suborders').doc(doc.id).update({\n          planImages: fpImageLst\n        });\n      }\n      if (fpValues.logoImage.length > 0) {\n        self.uploadService.uploadtoSubOrder(fpValues.logoImage[0], doc.id, 'logo_').then(\n          async (url) => {\n            await this.afs.collection('suborders').doc(doc.id).update({\n              logoImage: {\n                'url': url,\n                'fileName': fpValues.logoImage[0].name\n              }\n            }).then(() => {\n              self.floorplanOrderCount += 1;\n              self.subOrderCount++;\n              console.log(\"Floorplan order created. Suborder count: \" + self.subOrderCount);\n              if (self.floorplanOrderCount === self.selectedFloorplans.length) {\n                self.onFloorplanOrderCreation.emit(true);\n              }\n              if (this.subOrderCount === this.selectedPackages.length) {\n                this.onSubOrdersCreation.emit(true);\n              }\n            });\n          }\n        );\n      } else {\n        self.floorplanOrderCount += 1;\n        self.subOrderCount++;\n        console.log(\"Floorplan order created. Suborder count: \" + self.subOrderCount);\n        if (self.floorplanOrderCount === self.selectedFloorplans.length) {\n          self.onFloorplanOrderCreation.emit(true);\n        }\n        if (this.subOrderCount === this.selectedPackages.length) {\n          this.onSubOrdersCreation.emit(true);\n        }\n      }\n    });\n  }\n\n  async createHDPhotosSubOrder(orderId: string, hdpValues: any, packageName: string, selectedPackage = {}) {\n    var self = this;\n    let suborder = {\n      createdOn: new Date(),\n      createdBy: this.user,\n      status: 'opened',\n      realestateId: this.selRID,\n      assignedTo: this.conf.serviceProviders.floorplanService,\n      areaDesc: `${this.selCity}` + ` (${this.selPostalcode})`,\n      Desc: `${this.selDesc}`,\n      orderId: orderId,\n      packageName: packageName\n    };\n    // add price for selected package\n    if (!_.isEmpty(selectedPackage)) {\n      const total_price = selectedPackage['total_price'] ? selectedPackage['total_price'] : selectedPackage['price'];\n      suborder['price'] = total_price;\n    }\n    Object.keys(hdpValues).forEach(key => {\n      if (!(hdpValues[key] instanceof FileList) && key !== 'logoImage') {\n        suborder[key] = hdpValues[key];\n      }\n    });\n    this.afs.collection('suborders').add(suborder).then(async doc => {\n      hdpValues.subOrderId = doc.id;\n      if (hdpValues.logoImage.length > 0) {\n        self.uploadService.uploadtoSubOrder(hdpValues.logoImage[0], doc.id, 'logo_').then(\n          async (url) => {\n            await this.afs.collection('suborders').doc(doc.id).update({\n              logoImage: {\n                'url': url,\n                'fileName': hdpValues.logoImage[0].name\n              }\n            }).then(() => {\n              self.subOrderCount++;\n              console.log(\"HD Photos order created. Suborder count: \" + self.subOrderCount);\n              if (this.subOrderCount === this.selectedPackages.length) {\n                this.onSubOrdersCreation.emit(true);\n              }\n            });\n          }\n        );\n      } else {\n        self.subOrderCount++;\n        console.log(\"HD Photos order created. Suborder count: \" + self.subOrderCount);\n        if (this.subOrderCount === this.selectedPackages.length) {\n          this.onSubOrdersCreation.emit(true);\n        }\n      }\n    });\n  }\n  sendEmail(orderId: string, userEmail: string): void {\n    console.log('sendEmail');\n\n    userEmail = JSON.parse(sessionStorage.getItem('user')).email;\n    let self = this;\n    let data = {\n      dronemedia: [],\n      imageEditings: [],\n      virtualStagings: [],\n      floorPlans: [],\n      attachments: [],\n      orderId: orderId,\n      customerEmail: userEmail\n    };\n    let files = [];\n    let referenceFiles = [];\n    if (this.selectedFloorplans.length > 0) {\n      this.selectedFloorplans.forEach(fp => {\n        let formData = fp.formValues;\n        formData.attachments = [];\n        formData.planImages.forEach(file => files.push(file));\n        if (formData.logoImage.length > 0) {\n          files.push(formData.logoImage[0]);\n        }\n        referenceFiles.push(formData.baseurl + 'Grundriss_moebliert.jpeg');\n        if (formData.dimension === '3d' && formData.isometric) {\n          referenceFiles.push(formData.baseurl + 'Seitenansicht_moebliert.jpeg');\n        }\n        data.floorPlans.push(fp.formValues);\n      });\n    }\n    if (self.selectedPackages.indexOf('2') > -1) {\n      data.dronemedia.push({\n        'optionalWishPilot': this.droneMediaForm.value.wishPilot\n      });\n    }\n    if (this.selectedRetouching.length > 0) {\n      this.selectedRetouching.forEach(retouch => {\n        let formData = retouch.formValues || {};\n        formData.uploadedFiles && formData.uploadedFiles.forEach(file => files.push(file));\n        data.imageEditings.push(retouch.formValues);\n      });\n    }\n    if (this.selectedVStaging.length > 0) {\n      this.selectedVStaging.forEach(vstaging => {\n        let formData = vstaging.formValues || {};\n        formData.uploadedFiles && formData.uploadedFiles.forEach(file => files.push(file));\n        data.virtualStagings.push(vstaging.formValues);\n      });\n    }\n    if (referenceFiles.length > 0) {\n      self.fetchAllFiles(referenceFiles).then(referenceFileContents => {\n        referenceFileContents.forEach(fileContent => {\n          fileContent['style'] = true;\n          files.push(fileContent);\n        });\n        self.readAllFiles(files).then(fileContents => {\n          data.attachments = fileContents;\n          // this.emailSendCallable(data).subscribe();\n        });\n      });\n    } else if (files.length > 0) {\n      self.readAllFiles(files).then(fileContents => {\n        data.attachments = fileContents;\n        // console.log(data);\n        // this.emailSendCallable(data).subscribe();\n      });\n    } else {\n      // console.log(data);\n      // this.emailSendCallable(data).subscribe();\n    }\n  }\n\n  fetchAllFiles(fileList: any[]): Promise<any> {\n    let fileContents = [];\n    return new Promise(resolve => {\n      fileList.forEach(file => {\n        const filepath = file.url;\n        var xmlhttp = new XMLHttpRequest();\n        xmlhttp.responseType = 'blob';\n        xmlhttp.onreadystatechange = function () {\n          if (xmlhttp.status == 200 && xmlhttp.readyState == 4) {\n            fileContents.push(new File([xmlhttp.response], file.fileName, {\n              'type': xmlhttp.getResponseHeader('content-type')\n            }));\n            if (fileContents.length === fileList.length) {\n              resolve(fileContents);\n            }\n          }\n        };\n        xmlhttp.open(\"GET\", filepath, true);\n        xmlhttp.send();\n      });\n    });\n  }\n\n  readAllFiles(fileList: any[]): Promise<any> {\n    let files = [];\n    let fileNames = {};\n    return new Promise(resolve => {\n      for (let i = 0; i < fileList.length; i++) {\n        let file = fileList[i];\n        let myReader = new FileReader();\n        myReader.readAsDataURL(file);\n        myReader.onload = () => {\n          let fileName = '';\n          fileName = file.name;\n          files.push({\n            url: myReader.result,\n            fileName: fileName,\n            style: file.style || false\n          });\n          if (files.length === fileList.length) {\n            resolve(files);\n          }\n        };\n      }\n    });\n  }\n\n  sendConfirmationEmail(orderId: string): void {\n    const user = JSON.parse(sessionStorage.getItem('user'));\n    // if (user.sendConfirmationEmail) {\n    console.log('sendConfirmationEmail');\n    const self = this;\n    const userEmail = JSON.parse(sessionStorage.getItem('user')).email;\n    const requestData = {\n      dronemedia: [],\n      imageEditings: [],\n      virtualStagings: [],\n      floorPlans: [],\n      hdphotos: [],\n      visualisations: [],\n      attachments: [],\n      orderId: orderId,\n      customerEmail: userEmail\n    };\n    this.os.getAllSuborders(orderId).then((subOrders: [any]) => {\n      const referenceFiles = [];\n      subOrders.forEach(subOrder => {\n        subOrder.description = subOrder.description || 'Nicht angegeben';\n        switch (subOrder.orderType) {\n          case 'dronemedia':\n            subOrder.optionalWishPilot = subOrder.optionalWishPilot || 'Nicht angegeben';\n            requestData.dronemedia.push(subOrder);\n            break;\n          case 'retouching':\n            requestData.imageEditings.push(subOrder);\n            break;\n          case 'vstaging':\n            requestData.virtualStagings.push(subOrder);\n            break;\n          case 'floorplan':\n            referenceFiles.push({\n              url: subOrder.baseurl + 'Grundriss_moebliert.jpeg',\n              fileName: subOrder.id + \"_style.jpeg\"\n            });\n            if (subOrder.dimension === '3d' && subOrder.isometric) {\n              referenceFiles.push({\n                url: subOrder.baseurl + 'Seitenansicht_moebliert.jpeg',\n                fileName: subOrder.id + \"_style_isometric.jpeg\"\n              });\n            }\n            requestData.floorPlans.push(subOrder);\n            break;\n          case 'hdphotos':\n            requestData.hdphotos.push(subOrder);\n            break;\n          case 'visualisation':\n            requestData.visualisations.push(subOrder);\n            break;\n        }\n        subOrder.attachments.forEach((attachment, index) => {\n          requestData.attachments.push({\n            'fileName': subOrder.id + '_' + (index + 1) + attachment.fileName.substr(attachment.fileName.lastIndexOf(\".\")),\n            'url': attachment.url\n          });\n        });\n      });\n      if (referenceFiles.length > 0) {\n        const files = [];\n        self.fetchAllFiles(referenceFiles).then(referenceFileContents => {\n          referenceFileContents.forEach(fileContent => {\n            fileContent['style'] = true;\n            files.push(fileContent);\n          });\n          self.readAllFiles(files).then(fileContents => {\n            fileContents.forEach(attachment => {\n              requestData.attachments.push(attachment);\n            });\n            this.emailSendCallable(requestData).subscribe();\n          });\n        });\n      } else {\n        this.emailSendCallable(requestData).subscribe();\n      }\n    });\n    // } else {\n    // console.log('email confirmation service disabled');\n    // }\n  }\n\n  removeItemFromCart(service, index): void {\n    this.cartItems.splice(index, 1);\n    if (this.state === '2') {\n      this.chosenPackages.forEach(pckg => {\n        this.selectedPackages.splice(this.selectedPackages.indexOf(pckg.package_key), 1);\n      });\n      if (this.cartItems.length === 0) {\n        this.goToPackageSelection();\n        return;\n      }\n      this.onServiceChange(this.cartItems[0]);\n    } else {\n      this.selectedServices.splice(this.selectedServices.indexOf(service.service_key), 1);\n    }\n    this.userService.cartItems = this.cartItems;\n    this.userService.selectedServices = this.selectedServices;\n  }\n\n  removeAllItemsFromCart(): void {\n    this.cartItems = [];\n    this.selectedServices = [];\n    if (this.state === '2') {\n      this.goToPackageSelection();\n    }\n    this.userService.cartItems = this.cartItems;\n    this.userService.selectedServices = this.selectedServices;\n  }\n\n  fetchAvailableServices(filter, event: boolean): any[] {\n    let availableServices = [];\n    const serviceList = [];\n    this.packageList.forEach(pack => {\n      if (serviceList.indexOf(pack.service_key) < 0) {\n        availableServices.push({\n          'package_images': pack.package_images,\n          'title': pack.service_title,\n          'package_key': serviceList.length,\n          'newProperty': pack.newProperty,\n          'physicalProduct': pack.physicalProduct,\n          'service_key': pack.service_key,\n          'disabled': pack.disabled\n        });\n        serviceList.push(pack.service_key);\n      } else {\n        const service_index = serviceList.indexOf(pack.service_key);\n        availableServices[service_index].package_images = availableServices[service_index].package_images.concat(pack.package_images);\n        availableServices[service_index].newProperty = availableServices[service_index].newProperty && pack.newProperty;\n        availableServices[service_index].disabled = availableServices[service_index].disabled && pack.disabled;\n      }\n    });\n\n    //sort availableServices by disabled\n    availableServices = _.sortBy(availableServices, 'disabled');\n\n    switch (filter) {\n      case 'newProperty':\n        if (event) {\n          availableServices = availableServices.filter(service => service.newProperty);\n        }\n        break;\n      case 'physicalProduct':\n        if (event) {\n          availableServices = availableServices.filter(service => service.physicalProduct);\n        }\n        break;\n      default:\n        break;\n    }\n    return availableServices;\n  }\n\n  filterNewProperties(event): void {\n    this.availablePackages = this.fetchAvailableServices('newProperty', event.checked);\n  }\n\n  filterPhysicalProducts(event): void {\n    this.availablePackages = this.fetchAvailableServices('physicalProduct', event.checked);\n  }\n\n  goToPackageSelection(): void {\n    let self = this;\n    // self.selectedServices = [];\n    // self.cartItems = [];\n    self.state = '1';\n    self.availablePackages = self.fetchAvailableServices('', false);\n  }\n\n  onCheckout(): void {\n    let self = this;\n    if (self.state === '1') {\n      self.state = '2';\n      self.selectedService = self.cartItems[0].service_key;\n      self.chosenPackages = self.packageList.filter(pack => pack.service_key === self.selectedService && !pack.disabled);\n    } else {\n      self.state = '3';\n    }\n  }\n\n  onServiceChange(item): void {\n    let self = this;\n    self.selectedService = item.service_key;\n    self.chosenPackages = self.packageList.filter(pack => pack.service_key === self.selectedService && !pack.disabled);\n  }\n\n  goToPackageForms(): void {\n    // setTimeout(() => this.wizardInitialization(), 10);\n    /* setTimeout(() => {\n      $('.card-wizard').bootstrapWizard();\n    }); */\n    this.state = \"3\";\n  }\n\n  goBack(state: string): void {\n    let self = this;\n    switch (state) {\n      case '1':\n        self.state = '1';\n        this.realestateservice.add = false;\n        break;\n      case '2':\n        self.reset = true;\n        setTimeout(() => {\n          self.reset = false;\n          self.state = '2';\n        }, 10);\n        self.selectedPackages = [];\n        this.realestateservice.add = false;\n        self.packageSelectHandler();\n        break;\n      case '3':\n        self.state = '3';\n        setTimeout(() => this.wizardInitialization(), 10);\n        break;\n    }\n  }\n\n  areAllFormsValid(): boolean {\n    let self = this;\n    let canContinue = true;\n    self.selectedFloorplans.forEach(plan => {\n      if (plan.form.invalid) {\n        plan.validate = !plan.validate;\n        canContinue = false;\n      }\n    });\n    // retouching form validation\n    self.selectedRetouching.forEach(retouching => {\n      if (retouching.form.invalid) {\n        retouching.validate = !retouching.validate;\n        canContinue = false;\n      }\n    });\n    // virtual staging form valdiation\n    self.selectedVStaging.forEach(staging => {\n      if (staging.form.invalid) {\n        staging.validate = !staging.validate;\n        canContinue = false;\n      }\n    });\n\n    self.selectedHDPhotos.forEach(hdPhoto => {\n      if (hdPhoto.form.invalid) {\n        hdPhoto.validate = !hdPhoto.validate;\n        canContinue = false;\n      }\n    });\n\n    self.selected3dVisualisation.forEach(visualisation => {\n      if (visualisation.form.invalid) {\n        visualisation.validate = !visualisation.validate;\n        canContinue = false;\n      }\n    });\n\n    return canContinue;\n  }\n}\n","export * from './settings.component';\r\n","module.exports = \".position {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2V0dGluZ3Mvc2V0dGluZ3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFrQjtBQUNwQiIsImZpbGUiOiJzcmMvYXBwL3NldHRpbmdzL3NldHRpbmdzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucG9zaXRpb24ge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59Il19 */\"","module.exports = \"<div class=\\\"shadow card cgrid\\\">\\n  <div class=\\\"card-header\\\">\\n    <a class=\\\"my-link\\\" (click)=\\\"active = !active\\\" [attr.aria-expanded]=\\\"active\\\" aria-controls=\\\"collapse1\\\">\\n      <h5 class=\\\"card-title text-left wsn\\\">Information</h5>\\n    </a>\\n  </div>\\n  <div>\\n    <div class=\\\"card-body\\\">\\n      <form [formGroup]=\\\"settingsForm\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-1 position\\\">\\n            <mat-checkbox formControlName=\\\"sendConfirmationEmail\\\" color=\\\"primary\\\" (change)=\\\"submitHandler()\\\">\\n            </mat-checkbox>\\n          </div>\\n          <div class=\\\"col-6\\\">\\n            Emailbestätigungen\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '@app/auth/auth.service';\nimport { FormBuilder } from '@angular/forms';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { tap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.css']\n})\nexport class SettingsComponent implements OnInit {\n\n  active = true; // Initial State der einklappbaren Card\n  settingsForm: any;\n  success: boolean;\n  settings: any;\n\n  constructor(\n    public auth: AuthService,\n    private afs: AngularFirestore,\n    private fb: FormBuilder) {\n    this.settingsForm = this.fb.group({\n      sendConfirmationEmail: ['']\n    });\n  }\n\n  /**\n   * Submit handler for settings form. Updates the config document in firebase\n   */\n  async submitHandler() {\n    try {\n      await this.afs.doc(`users/${this.auth.uid}`).update(this.settingsForm.value);\n      this.success = true;\n      setTimeout(() => {\n        this.success = false;\n      },\n        1500);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n  /**\n   * Preload data for user profile\n   */\n  async preloadData() {\n    this.settings = await this.afs.doc(`users/${this.auth.uid}`).valueChanges().pipe(\n      tap(data => {\n        this.settingsForm.patchValue(data);\n      })\n    )\n      .subscribe();\n  }\n\n  ngOnInit() {\n    this.preloadData();\n  }\n\n  ngOnDestroy() {\n    this.settings.unsubscribe(); // Missing or insufficient permissions Error, Memory Leak fix\n  }\n\n  onChanges() {\n    this.settingsForm.get('sendConfirmationEmail').valueChanges.subscribe(this.submitHandler());\n  }\n\n}\n","module.exports = \".cart-container .cart-item-thumbnail{\\n    height: 40px;\\n    width: 40px;\\n}\\n.cart-container .remove-item-icon{\\n    cursor: pointer;\\n}\\n.cart-container .cart-item{\\n    margin: 0.5rem 0 0.5rem 0;\\n    border-bottom: 1px solid rgba(153, 153, 153, 0.3);\\n    color: #999999;\\n    padding: 12px 0;\\n}\\n.fixed-plugin .cart-icon{\\n    color: #FFF !important;\\n    margin: 1rem 0 1rem 0;\\n}\\n.fixed-plugin .text-default{\\n    color: #000;\\n}\\n.fixed-plugin .item-count{\\n    position: absolute;\\n    top: 5px;\\n    right: 10px;\\n    font-size: 9px;\\n    background: #22bca4;\\n    color: #fff;\\n    min-width: 20px;\\n    padding: 1px 5px;\\n    height: 20px;\\n    border-radius: 10px;\\n    text-align: center;\\n    line-height: 19px;\\n    display: block;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2ZpeGVkLWNhcnQvZml4ZWQtY2FydC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtJQUNaLFdBQVc7QUFDZjtBQUNBO0lBQ0ksZUFBZTtBQUNuQjtBQUNBO0lBQ0kseUJBQXlCO0lBQ3pCLGlEQUFpRDtJQUNqRCxjQUFjO0lBQ2QsZUFBZTtBQUNuQjtBQUNBO0lBQ0ksc0JBQXNCO0lBQ3RCLHFCQUFxQjtBQUN6QjtBQUNBO0lBQ0ksV0FBVztBQUNmO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsUUFBUTtJQUNSLFdBQVc7SUFDWCxjQUFjO0lBQ2QsbUJBQW1CO0lBQ25CLFdBQVc7SUFDWCxlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixjQUFjO0FBQ2xCIiwiZmlsZSI6InNyYy9hcHAvc2hhcmVkL2ZpeGVkLWNhcnQvZml4ZWQtY2FydC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcnQtY29udGFpbmVyIC5jYXJ0LWl0ZW0tdGh1bWJuYWlse1xuICAgIGhlaWdodDogNDBweDtcbiAgICB3aWR0aDogNDBweDtcbn1cbi5jYXJ0LWNvbnRhaW5lciAucmVtb3ZlLWl0ZW0taWNvbntcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG4uY2FydC1jb250YWluZXIgLmNhcnQtaXRlbXtcbiAgICBtYXJnaW46IDAuNXJlbSAwIDAuNXJlbSAwO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDE1MywgMTUzLCAxNTMsIDAuMyk7XG4gICAgY29sb3I6ICM5OTk5OTk7XG4gICAgcGFkZGluZzogMTJweCAwO1xufVxuLmZpeGVkLXBsdWdpbiAuY2FydC1pY29ue1xuICAgIGNvbG9yOiAjRkZGICFpbXBvcnRhbnQ7XG4gICAgbWFyZ2luOiAxcmVtIDAgMXJlbSAwO1xufVxuLmZpeGVkLXBsdWdpbiAudGV4dC1kZWZhdWx0e1xuICAgIGNvbG9yOiAjMDAwO1xufVxuLmZpeGVkLXBsdWdpbiAuaXRlbS1jb3VudHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiA1cHg7XG4gICAgcmlnaHQ6IDEwcHg7XG4gICAgZm9udC1zaXplOiA5cHg7XG4gICAgYmFja2dyb3VuZDogIzIyYmNhNDtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBtaW4td2lkdGg6IDIwcHg7XG4gICAgcGFkZGluZzogMXB4IDVweDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbGluZS1oZWlnaHQ6IDE5cHg7XG4gICAgZGlzcGxheTogYmxvY2s7XG59XG4iXX0= */\"","module.exports = \"<!-- Fixed Plugin configurator, used just for Demo Purpose -->\\n<div class=\\\"fixed-plugin\\\">\\n    <div class=\\\"dropdown show-dropdown\\\">\\n        <a href=\\\"#\\\" data-toggle=\\\"dropdown\\\" aria-expanded=\\\"true\\\">\\n            <i class=\\\"cart-icon material-icons\\\">shopping_cart</i>\\n            <span [hidden]=\\\"cartItems.length < 1\\\" class=\\\"item-count\\\">{{cartItems.length}}</span>\\n        </a>\\n        <div class=\\\"dropdown-menu text-center\\\">\\n            <div class=\\\"cards pt-3 pb-3\\\">\\n                <h4 class=\\\"card-title\\\">\\n                    Warenkorb\\n                </h4>\\n                <a href=\\\"javascript:void(0)\\\" class=\\\"switch-trigger\\\">\\n                    <div class=\\\"mt-3 mb-4 cart-container\\\" *ngIf=\\\"cartItems && cartItems.length > 0; else noItems\\\">\\n                        <div class=\\\"text-truncate row align-items-center cart-item text-left\\\">\\n                            <div class=\\\"col-3\\\">\\n                                <strong>Artikel</strong>\\n                            </div>\\n                            <div class=\\\"col-9\\\">\\n                                <strong>Beschreibung</strong>\\n                            </div>\\n                        </div>\\n                        <div *ngFor=\\\"let item of cartItems; let index = index\\\"\\n                            class=\\\"text-truncate row align-items-center text-left cart-item\\\">\\n                            <div class=\\\"col-3\\\">\\n                                <img class=\\\"cart-item-thumbnail\\\" src=\\\"../../../assets/images/{{item.package_images[0]}}\\\"\\n                                    alt=\\\"Card image cap\\\">\\n                            </div>\\n                            <div class=\\\"col-7\\\">\\n                                {{item.title}}\\n                            </div>\\n                            <div class=\\\"col-2\\\">\\n                                <i class=\\\"material-icons text-danger remove-item-icon\\\"\\n                                    (click)=\\\"parent.removeItemFromCart(item, index)\\\">delete</i>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </a>\\n                <ng-template #noItems>\\n                    <p class=\\\"pt-3 text-default text-center\\\">\\n                        Ihr Warenkorb ist leer.\\n                    </p>\\n                </ng-template>\\n                <button *ngIf=\\\"cartItems && cartItems.length > 0\\\" class=\\\"btn btn-sm btn-primary\\\"\\n                    (click)=\\\"parent.onCheckout()\\\">\\n                    Weiter\\n                </button>\\n                <button *ngIf=\\\"cartItems && cartItems.length > 0\\\" class=\\\"btn btn-sm btn-danger\\\"\\n                    (click)=\\\"parent.removeAllItemsFromCart()\\\">\\n                    Warenkorb leeren\\n                </button>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"","import { Component, OnInit, Input } from '@angular/core';\n\ndeclare const $: any;\nconst md: any = {\n    misc: {\n        navbar_menu_visible: 0,\n        active_collapse: true,\n        disabled_collapse_init: 0,\n    }\n};\n\n@Component({\n    selector: 'app-fixed-cart',\n    templateUrl: './fixed-cart.component.html',\n    styleUrls: ['./fixed-cart.component.css']\n})\n\nexport class FixedCartComponent implements OnInit {\n\n    @Input() cartItems: any[];\n    @Input() parent;\n\n    constructor() { }\n\n    ngOnInit() {\n        // fixed plugin\n        const window_width = $(window).width();\n\n        const fixed_plugin_open = $('.sidebar .sidebar-wrapper .nav li.active a p').html();\n\n        if (window_width > 767 && fixed_plugin_open === 'Dashboard') {\n            if ($('.fixed-plugin .dropdown').hasClass('show-dropdown')) {\n                $('.fixed-plugin .dropdown').addClass('open');\n            }\n\n        }\n\n        $('.fixed-plugin a').click(function (event) {\n            // Alex: if we click on switch, stop propagation of the event,\n            // so the dropdown will not be hide, otherwise we set the  section active\n            if ($(this).hasClass('switch-trigger')) {\n                if (event.stopPropagation) {\n                    event.stopPropagation();\n                } else if (window.event) {\n                    window.event.cancelBubble = true;\n                }\n            }\n        });\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FixedCartComponent } from './fixed-cart.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [FixedCartComponent],\n  exports: [FixedCartComponent]\n})\nexport class FixedCartModule { }\n","import { ValidatorFn, AbstractControl } from \"@angular/forms\";\n\nexport function passwordValidator(): ValidatorFn {\n    return (control: AbstractControl): { [key: string]: any } | null => {\n        const lowerCase = /(.*[a-z].*)/.test(control.value);\n        const upperCase = /(.*[A-Z].*)/.test(control.value);\n        const digit = /(.*\\d.*)/.test(control.value);\n        const length = control.value.length >= 6 && control.value.length <= 32;\n        let validation = null;\n\n        if (!length || !lowerCase || !upperCase || !digit) {\n            validation = {\n                'passwordError': {\n                    value: 'Password not meeting requirements',\n                    length: length,\n                    lowerCase: lowerCase,\n                    upperCase: upperCase,\n                    digit: digit\n                }\n            }\n        }\n        return validation;\n    };\n}\n\nexport function repeatPasswordValidator(firstPassword): ValidatorFn {\n    return (control: AbstractControl): { [key: string]: any } | null => {\n        let validation = null;\n        if (firstPassword.value !== control.value) {\n            validation = {\n                'repeatPasswordError': {\n                    value: 'Passwörter stimmen nicht überein!'\n                }\n            };\n        }\n        return validation;\n    };\n}\n\nexport function noRepeatPasswordValidator(firstPassword): ValidatorFn {\n    return (control: AbstractControl): { [key: string]: any } | null => {\n        let validation = null;\n        if (firstPassword.value === control.value) {\n            validation = {\n                'noRepeatPasswordError': {\n                    value: 'New Password cannot be same as existing.'\n                }\n            };\n        }\n        return validation;\n    };\n}\n","module.exports = \"<nav #navbar class=\\\"navbar navbar-expand-lg navbar-transparent  navbar-absolute\\\">\\n  <div class=\\\"container-fluid\\\">\\n    <div class=\\\"navbar-wrapper\\\">\\n      <div class=\\\"navbar-minimize\\\">\\n        <button mat-raised-button (click)=\\\"minimizeSidebar()\\\" class=\\\"btn btn-just-icon btn-white btn-fab btn-round\\\">\\n          <i class=\\\"material-icons text_align-center visible-on-sidebar-regular\\\">more_vert</i>\\n          <i class=\\\"material-icons design_bullet-list-67 visible-on-sidebar-mini\\\">view_list</i>\\n        </button>\\n      </div>\\n      <a class=\\\"navbar-brand\\\" [routerLink]=\\\"getPath()\\\"> {{getTitle()}}</a>\\n    </div>\\n    <button mat-button class=\\\"navbar-toggler btn-no-ripple\\\" type=\\\"button\\\" (click)=\\\"sidebarToggle()\\\">\\n      <span class=\\\"sr-only\\\">Toggle navigation</span>\\n      <span class=\\\"navbar-toggler-icon icon-bar\\\"></span>\\n      <span class=\\\"navbar-toggler-icon icon-bar\\\"></span>\\n      <span class=\\\"navbar-toggler-icon icon-bar\\\"></span>\\n    </button>\\n    <div class=\\\"collapse navbar-collapse justify-content-end\\\" id=\\\"navigation\\\">\\n      <ul class=\\\"navbar-nav\\\">\\n        <li class=\\\"nav-item\\\">\\n          <a class=\\\"nav-link\\\" [routerLink]=\\\"'profile'\\\">\\n            <i class=\\\"material-icons\\\">person</i>\\n            <p>\\n              <span class=\\\"d-lg-none d-md-block\\\">Account</span>\\n            </p>\\n          </a>\\n        </li>\\n        <li class=\\\"nav-item\\\">\\n          <a class=\\\"nav-link\\\" [routerLink]=\\\"'settings'\\\">\\n            <i class=\\\"material-icons\\\">settings</i>\\n            <p>\\n              <span class=\\\"d-lg-none d-md-block\\\">Settings</span>\\n            </p>\\n          </a>\\n        </li>\\n        <li class=\\\"nav-item\\\">\\n          <a class=\\\"nav-link\\\" target=\\\"_blank\\\" href=\\\"https://www.imogent.de/kontakt/\\\">\\n            <i class=\\\"material-icons\\\">help</i>\\n            <p>\\n              <span class=\\\"d-lg-none d-md-block\\\">Help</span>\\n            </p>\\n          </a>\\n        </li>\\n        <li class=\\\"nav-item\\\">\\n          <a class=\\\"nav-link clickable\\\" (click)=\\\"loader.logout()\\\">\\n            <i class=\\\"material-icons\\\">power_settings_new</i>\\n            <p>\\n              <span class=\\\"d-lg-none d-md-block\\\">Logout</span>\\n            </p>\\n          </a>\\n        </li>\\n      </ul>\\n    </div>\\n  </div>\\n</nav>\"","import { Component, OnInit, Renderer, ViewChild, ElementRef, Directive } from '@angular/core';\nimport { ROUTES } from '../.././sidebar/sidebar.component';\nimport { Router, ActivatedRoute, NavigationEnd, NavigationStart } from '@angular/router';\nimport { Subscription } from 'rxjs/Subscription';\nimport { Location, LocationStrategy, PathLocationStrategy } from '@angular/common';\nimport { filter } from 'rxjs/operators';\nimport { LoaderService } from '@app/_services/loader.service';\n\nconst misc: any = {\n  navbar_menu_visible: 0,\n  active_collapse: true,\n  disabled_collapse_init: 0,\n};\n\ndeclare var $: any;\n@Component({\n  selector: 'app-navbar-cmp',\n  templateUrl: 'navbar.component.html'\n})\n\nexport class NavbarComponent implements OnInit {\n  private listTitles: any[];\n  location: Location;\n  mobile_menu_visible: any = 0;\n  private nativeElement: Node;\n  private toggleButton: any;\n  private sidebarVisible: boolean;\n  private _router: Subscription;\n\n  @ViewChild('app-navbar-cmp') button: any;\n\n  constructor(location: Location, private renderer: Renderer, private element: ElementRef, private router: Router, public loader: LoaderService) {\n    this.location = location;\n    this.nativeElement = element.nativeElement;\n    this.sidebarVisible = false;\n  }\n  minimizeSidebar() {\n    const body = document.getElementsByTagName('body')[0];\n\n    if (misc.sidebar_mini_active === true) {\n      body.classList.remove('sidebar-mini');\n      misc.sidebar_mini_active = false;\n\n    } else {\n      setTimeout(function () {\n        body.classList.add('sidebar-mini');\n\n        misc.sidebar_mini_active = true;\n      }, 300);\n    }\n\n    // we simulate the window Resize so the charts will get updated in realtime.\n    const simulateWindowResize = setInterval(function () {\n      window.dispatchEvent(new Event('resize'));\n    }, 180);\n\n    // we stop the simulation of Window Resize after the animations are completed\n    setTimeout(function () {\n      clearInterval(simulateWindowResize);\n    }, 1000);\n  }\n  hideSidebar() {\n    const body = document.getElementsByTagName('body')[0];\n    const sidebar = document.getElementsByClassName('sidebar')[0];\n\n    if (misc.hide_sidebar_active === true) {\n      setTimeout(function () {\n        body.classList.remove('hide-sidebar');\n        misc.hide_sidebar_active = false;\n      }, 300);\n      setTimeout(function () {\n        sidebar.classList.remove('animation');\n      }, 600);\n      sidebar.classList.add('animation');\n\n    } else {\n      setTimeout(function () {\n        body.classList.add('hide-sidebar');\n        // $('.sidebar').addClass('animation');\n        misc.hide_sidebar_active = true;\n      }, 300);\n    }\n\n    // we simulate the window Resize so the charts will get updated in realtime.\n    const simulateWindowResize = setInterval(function () {\n      window.dispatchEvent(new Event('resize'));\n    }, 180);\n\n    // we stop the simulation of Window Resize after the animations are completed\n    setTimeout(function () {\n      clearInterval(simulateWindowResize);\n    }, 1000);\n  }\n\n  ngOnInit() {\n    this.listTitles = ROUTES.filter(listTitle => listTitle);\n\n    const navbar: HTMLElement = this.element.nativeElement;\n    const body = document.getElementsByTagName('body')[0];\n    this.toggleButton = navbar.getElementsByClassName('navbar-toggler')[0];\n    if (body.classList.contains('sidebar-mini')) {\n      misc.sidebar_mini_active = true;\n    }\n    if (body.classList.contains('hide-sidebar')) {\n      misc.hide_sidebar_active = true;\n    }\n    this._router = this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe((event: NavigationEnd) => {\n      this.sidebarClose();\n\n      const $layer = document.getElementsByClassName('close-layer')[0];\n      if ($layer) {\n        $layer.remove();\n      }\n    });\n  }\n  onResize(event) {\n    if ($(window).width() > 991) {\n      return false;\n    }\n    return true;\n  }\n  sidebarOpen() {\n    var $toggle = document.getElementsByClassName('navbar-toggler')[0];\n    const toggleButton = this.toggleButton;\n    const body = document.getElementsByTagName('body')[0];\n    setTimeout(function () {\n      toggleButton.classList.add('toggled');\n    }, 500);\n    body.classList.add('nav-open');\n    setTimeout(function () {\n      $toggle.classList.add('toggled');\n    }, 430);\n\n    var $layer = document.createElement('div');\n    $layer.setAttribute('class', 'close-layer');\n\n\n    if (body.querySelectorAll('.main-panel')) {\n      document.getElementsByClassName('main-panel')[0].appendChild($layer);\n    } else if (body.classList.contains('off-canvas-sidebar')) {\n      document.getElementsByClassName('wrapper-full-page')[0].appendChild($layer);\n    }\n\n    setTimeout(function () {\n      $layer.classList.add('visible');\n    }, 100);\n\n    $layer.onclick = function () { //asign a function\n      body.classList.remove('nav-open');\n      this.mobile_menu_visible = 0;\n      this.sidebarVisible = false;\n\n      $layer.classList.remove('visible');\n      setTimeout(function () {\n        $layer.remove();\n        $toggle.classList.remove('toggled');\n      }, 400);\n    }.bind(this);\n\n    body.classList.add('nav-open');\n    this.mobile_menu_visible = 1;\n    this.sidebarVisible = true;\n  };\n  sidebarClose() {\n    var $toggle = document.getElementsByClassName('navbar-toggler')[0];\n    const body = document.getElementsByTagName('body')[0];\n    this.toggleButton.classList.remove('toggled');\n    var $layer = document.createElement('div');\n    $layer.setAttribute('class', 'close-layer');\n\n    this.sidebarVisible = false;\n    body.classList.remove('nav-open');\n    // $('html').removeClass('nav-open');\n    body.classList.remove('nav-open');\n    if ($layer) {\n      $layer.remove();\n    }\n\n    setTimeout(function () {\n      if (typeof $toggle !== 'undefined') {\n        $toggle.classList.remove('toggled');\n      }\n    }, 400);\n\n    this.mobile_menu_visible = 0;\n  };\n  sidebarToggle() {\n    if (this.sidebarVisible === false) {\n      this.sidebarOpen();\n    } else {\n      this.sidebarClose();\n    }\n  }\n\n  getTitle() {\n    let titlee: any = this.location.prepareExternalUrl(this.location.path());\n    switch (titlee) {\n      case '/settings':\n        return 'Einstellungen';\n      case '/profile':\n        return 'Profil';\n      case '/changepassword':\n        return 'Passwort ändern';\n    }\n    for (let i = 0; i < this.listTitles.length; i++) {\n      if (this.listTitles[i].type === \"link\" && this.listTitles[i].path === titlee) {\n        return this.listTitles[i].title;\n      } else if (this.listTitles[i].type === \"sub\") {\n        for (let j = 0; j < this.listTitles[i].children.length; j++) {\n          let subtitle = this.listTitles[i].path + '/' + this.listTitles[i].children[j].path;\n          if (subtitle === titlee) {\n            return this.listTitles[i].children[j].title;\n          }\n        }\n      }\n    }\n    return 'Dashboard';\n  }\n  getPath() {\n    return this.location.prepareExternalUrl(this.location.path());\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { NavbarComponent } from './navbar.component';\nimport { MatButtonModule } from '@angular/material';\n@NgModule({\n    imports: [ RouterModule, CommonModule, MatButtonModule ],\n    declarations: [ NavbarComponent ],\n    exports: [ NavbarComponent ]\n})\n\nexport class NavbarModule {}\n","module.exports = \"<ng-container *ngIf=\\\"(!authService.registering && authService.emailVerified)\\\">\\n  <ng-container *ngIf=\\\"authService.myUserObservable as user; else loading\\\">\\n    <div class=\\\"logo\\\">\\n      <a [routerLink]=\\\"'home'\\\" class=\\\"simple-text logo-mini\\\">\\n        <div class=\\\"logo-img\\\">\\n          <!-- <img src=\\\"/assets/img/angular2-logo-white.png\\\" /> -->\\n          <img src=\\\"/assets/images/favicon.ico\\\">\\n        </div>\\n      </a>\\n      <a [routerLink]=\\\"'home'\\\" class=\\\"simple-text logo-normal\\\">\\n        IMOGENT\\n      </a>\\n    </div>\\n\\n\\n    <div class=\\\"sidebar-wrapper\\\">\\n\\n      <div class=\\\"user\\\">\\n        <div class=\\\"user-info\\\">\\n          <a data-toggle=\\\"collapse\\\" href=\\\"#user-settings\\\" class=\\\"collapsed\\\">\\n            <span>\\n              <strong>{{ user.firstName }} {{ user.lastName }}</strong>\\n              <b class=\\\"caret\\\"></b>\\n            </span>\\n            <span *ngIf=\\\"user.role == 'Kunde'\\\" class=\\\"user-role mt-1\\\">{{ user.company }}</span>\\n            <span *ngIf=\\\"user.role != 'Kunde'\\\" class=\\\"user-role mt-1\\\">{{ user.role }}</span>\\n          </a>\\n          <div class=\\\"collapse\\\" id=\\\"user-settings\\\">\\n            <ul class=\\\"nav\\\">\\n              <li class=\\\"nav-item\\\">\\n                <a [routerLink]=\\\"'profile'\\\" class=\\\"nav-link\\\">\\n                  <i class=\\\"material-icons\\\">person</i>\\n                  <span class=\\\"sidebar-normal\\\">Mein Profil</span>\\n                </a>\\n              </li>\\n              <li class=\\\"nav-item\\\">\\n                <a [routerLink]=\\\"'changepassword'\\\" class=\\\"nav-link\\\">\\n                  <i class=\\\"material-icons\\\">lock</i>\\n                  <span class=\\\"sidebar-normal\\\">Passwort ändern</span>\\n                </a>\\n              </li>\\n            </ul>\\n          </div>\\n        </div>\\n      </div>\\n      <div *ngIf=\\\"isMobileMenu()\\\">\\n        <ul class=\\\"nav navbar-nav nav-mobile-menu\\\">\\n          <li class=\\\"nav-item\\\">\\n            <a class=\\\"nav-link clickable\\\" (click)=\\\"loader.logout()\\\">\\n              <i class=\\\"material-icons\\\">power_settings_new</i>\\n              <p>\\n                <span class=\\\"d-lg-none d-md-block\\\">Logout</span>\\n              </p>\\n            </a>\\n          </li>\\n        </ul>\\n      </div>\\n      <ul class=\\\"nav\\\">\\n        <li routerLinkActive=\\\"active\\\" *ngFor=\\\"let menuitem of menuItems\\\" class=\\\"nav-item\\\">\\n          <ng-container *ngIf=\\\"menuitem.roles[0] == 'all' || inArray(user.role, menuitem.roles)\\\">\\n            <!--If is a single link-->\\n            <a [routerLink]=\\\"[menuitem.path]\\\" *ngIf=\\\"menuitem.type === 'link'\\\" class=\\\"nav-link\\\">\\n              <i class=\\\"material-icons\\\">{{menuitem.icontype}}</i>\\n              <p>{{menuitem.title}}</p>\\n            </a>\\n            <!--If it have a submenu-->\\n            <a data-toggle=\\\"collapse\\\" href=\\\"#{{menuitem.collapse}}\\\" *ngIf=\\\"menuitem.type === 'sub'\\\" (click)=\\\"updatePS()\\\"\\n              class=\\\"nav-link\\\">\\n              <i class=\\\"material-icons\\\">{{menuitem.icontype}}</i>\\n              <p>{{menuitem.title}}<b class=\\\"caret\\\"></b></p>\\n            </a>\\n\\n            <!--Display the submenu items-->\\n            <div id=\\\"{{menuitem.collapse}}\\\" class=\\\"collapse\\\" *ngIf=\\\"menuitem.type === 'sub'\\\">\\n              <ul class=\\\"nav\\\">\\n                <li routerLinkActive=\\\"active\\\" *ngFor=\\\"let childitem of menuitem.children\\\"\\n                  class=\\\"nav-item nav-item-transform\\\">\\n                  <a [routerLink]=\\\"[menuitem.path, childitem.path]\\\" class=\\\"nav-link\\\">\\n                    <span class=\\\"sidebar-mini\\\">{{childitem.ab}}</span>\\n                    <span class=\\\"sidebar-normal\\\">{{childitem.title}}</span>\\n                  </a>\\n                </li>\\n              </ul>\\n            </div>\\n          </ng-container>\\n        </li>\\n        <!-- Display some Official links -->\\n        <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\">\\n          <a data-toggle=\\\"collapse\\\" href=\\\"#rechtliches\\\" (click)=\\\"updatePS()\\\" class=\\\"nav-link\\\">\\n            <i class=\\\"material-icons\\\">grid_on</i>\\n            <p>Rechtliches<b class=\\\"caret\\\"></b></p>\\n          </a>\\n          <div id=\\\"rechtliches\\\" class=\\\"collapse\\\">\\n            <!-- Impressum -->\\n            <ul class=\\\"nav\\\">\\n              <li class=\\\"nav-item\\\">\\n                <a href=\\\"https://www.imogent.de/impressum/\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" class=\\\"nav-link\\\">\\n                  <i class=\\\"material-icons\\\">copyright</i>\\n                  <span class=\\\"sidebar-normal\\\">Impressum</span>\\n                </a>\\n              </li>\\n            </ul>\\n            <!-- AGB -->\\n            <ul class=\\\"nav\\\">\\n              <li class=\\\"nav-item\\\">\\n                <a href=\\\"https://www.imogent.de/agb/\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" class=\\\"nav-link\\\">\\n                  <i class=\\\"material-icons\\\">assignment</i>\\n                  <span class=\\\"sidebar-normal\\\">AGB</span>\\n                </a>\\n              </li>\\n            </ul>\\n            <!-- Datenschutz -->\\n            <ul class=\\\"nav\\\">\\n              <li class=\\\"nav-item\\\">\\n                <a href=\\\"https://www.imogent.de/datenschutz/\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" class=\\\"nav-link\\\">\\n                  <i class=\\\"material-icons\\\">security</i>\\n                  <span class=\\\"sidebar-normal\\\">Datenschutz</span>\\n                </a>\\n              </li>\\n            </ul>\\n          </div>\\n        </li>\\n      </ul>\\n    </div>\\n  </ng-container>\\n</ng-container>\"","import { Component, OnInit } from '@angular/core';\nimport PerfectScrollbar from 'perfect-scrollbar';\nimport { Observable } from 'rxjs';\nimport { AuthService } from '@app/auth/auth.service';\nimport { LoaderService } from '@app/_services/loader.service';\nimport { SidebarService } from '@app/sidebar/sidebar.service';\n\n\ndeclare const $: any;\n\n//Metadata\nexport interface RouteInfo {\n  path: string;\n  title: string;\n  type: string;\n  icontype: string;\n  collapse?: string;\n  children?: ChildrenItems[];\n  roles: string[]; // roles for which this link is allowed, possible values all, Administrator, Kunde, Dienstleister\n}\n\nexport interface ChildrenItems {\n  path: string;\n  title: string;\n  ab: string;\n  type?: string;\n}\n\n//Menu Items\nexport const ROUTES: RouteInfo[] = [{\n  path: '/home',\n  title: 'Startseite',\n  type: 'link',\n  icontype: 'dashboard',\n  roles: ['all'],\n},\n{\n  path: '/orderoverview',\n  title: 'Aufträge',\n  type: 'link',\n  icontype: 'business_center',\n  roles: ['all'],\n},\n{\n  path: '/services',\n  title: 'Service buchen',\n  type: 'link',\n  icontype: 'note_add',\n  roles: ['Kunde', 'Administrator'],\n},\n{\n  path: '/realestate',\n  title: 'Immobilien',\n  type: 'link',\n  icontype: 'store',\n  roles: ['Kunde', 'Administrator'],\n},\n{\n  path: '/payments',\n  title: 'Zahlungen',\n  type: 'link',\n  icontype: 'credit_card',\n  roles: ['all'],\n},\n{\n  path: '/faq',\n  title: 'Anforderungen',\n  type: 'link',\n  icontype: 'question_answer',\n  roles: ['Dienstleister', 'Administrator'],\n},\n{\n  path: '/users',\n  title: 'User Management',\n  type: 'link',\n  icontype: 'supervisor_account',\n  roles: ['Administrator']\n}\n];\n@Component({\n  selector: 'app-sidebar-cmp',\n  templateUrl: 'sidebar.component.html'\n})\n\nexport class SidebarComponent implements OnInit {\n  public menuItems: any[];\n  public myUserObservable: Observable<any>;\n\n  constructor(private sidebarservice: SidebarService, public authService: AuthService, public loader: LoaderService) { }\n\n  isMobileMenu() {\n    if ($(window).width() > 991) {\n      return false;\n    }\n    return true;\n  };\n\n  ngOnInit() {\n    this.menuItems = ROUTES.filter(menuItem => menuItem);\n  }\n  updatePS(): void {\n    if (window.matchMedia(`(min-width: 960px)`).matches && !this.isMac()) {\n      const elemSidebar = <HTMLElement>document.querySelector('.sidebar .sidebar-wrapper');\n      let ps = new PerfectScrollbar(elemSidebar, { wheelSpeed: 2, suppressScrollX: true });\n    }\n  }\n  isMac(): boolean {\n    let bool = false;\n    if (navigator.platform.toUpperCase().indexOf('MAC') >= 0 || navigator.platform.toUpperCase().indexOf('IPAD') >= 0) {\n      bool = true;\n    }\n    return bool;\n  }\n  inArray(val: never, arr: []) {\n    return arr.indexOf(val) > -1;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { SidebarComponent } from './sidebar.component';\n\n@NgModule({\n    imports: [ RouterModule, CommonModule ],\n    declarations: [ SidebarComponent ],\n    exports: [ SidebarComponent ]\n})\n\nexport class SidebarModule {}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SidebarService {\n  toggled = true;\n\n  constructor() { }\n\n  toggle() {\n    this.toggled = ! this.toggled;\n  }\n\n  getSidebarState() {\n    return this.toggled;\n  }\n\n  setSidebarState(state: boolean) {\n    this.toggled = state;\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N1Ym9yZGVyLWxpc3Qvc3Vib3JkZXItbGlzdC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<!-- Suborder List -->\\n<ng-container *ngIf=\\\"auth.myUserObservable as user; else loading\\\">\\n  <div *ngIf=\\\"user.role === 'Dienstleister'\\\">\\n    <!-- Only show this page to the pilots after they were verified -->\\n    <ng-container *ngIf=\\\"user.pilotVerified || !user.dronepilot; else notVerified\\\">\\n      <div *ngIf=\\\"suborder_state == 'detail-view'\\\" class=\\\"shadow card cgrid\\\">\\n        <div class=\\\"card-header\\\">\\n          <!-- Sub orders navigation button -->\\n          <button class=\\\"btn btn-sm btn-primary float-right\\\" (click)=\\\"suborder_state = 'list-view';\\\">Zurück</button>\\n          <h5 class=\\\"mb-0\\\" *ngIf=\\\"os.currentSuborder != undefined\\\">\\n            <strong>{{ os.currentSuborder.createdOn.toDate() | date: 'dd.MM.yy'}}:</strong>\\n            {{ os.currentSuborder.Desc }} in {{ os.currentSuborder.areaDesc }}</h5>\\n        </div>\\n        <div class=\\\"card-body\\\">\\n          <!-- Show suborder detail component -->\\n          <app-suborder-overview *ngIf=\\\"suborder_state == 'detail-view'\\\" [realestateId]=\\\"realestateId\\\"\\n            [parentContext]=\\\"this\\\" [suborderId]=\\\"suborderId\\\" [createdById]=\\\"createdById\\\">\\n          </app-suborder-overview>\\n        </div>\\n      </div>\\n\\n      <!-- Default: Show 4 lists to the pilot -->\\n      <div *ngIf=\\\"suborder_state === 'list-view'\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col\\\">\\n            <div class=\\\"shadow card cgrid\\\">\\n              <div class=\\\"card-header\\\">\\n                <h5 class=\\\"mb-0\\\">Globale Auftragsdatenbank</h5>\\n              </div>\\n              <div class=\\\"card-body\\\">\\n                <p class=\\\"card-text\\\">Hier findest du alle offenen unzugewiesenene Aufträge, die du\\n                  annehmen kannst.\\n                </p>\\n                <div class=\\\"table-responsive\\\">\\n                  <table class=\\\"table table-striped table-sm\\\">\\n                    <thead>\\n                      <tr>\\n                        <th>Auftragstyp</th>\\n                        <th>Auftrag vom</th>\\n                        <th>Immobilie</th>\\n                        <th>Region</th>\\n                        <th> </th>\\n                      </tr>\\n                    </thead>\\n                    <tbody>\\n                      <!-- todo: os.allUnassignedSuborders (suborder-overview) -->\\n                      <ng-container *ngIf=\\\"os.allSuborders as orders; else loadingSmall\\\">\\n                        <ng-container *ngFor=\\\"let order of orders;\\\">\\n                          <!-- Filter for skills -->\\n                          <tr\\n                            *ngIf=\\\"(user.dronepilot && order.orderType === 'dronemedia') || (user.retouching && order.orderType === 'retouching') || (user.floorplan && order.orderType === 'floorplan') || (user.vstaging && order.orderType === 'vstaging') || (user.visualisation && order.orderType === 'visualisation')\\\">\\n                            <td>\\n                              {{gs.translateAppListStrings('order_type_list', order.orderType)}}\\n                            </td>\\n                            <td>\\n                              <ng-container *ngIf=\\\"order.createdOn\\\">\\n                                {{ order.createdOn.toDate() | date: 'dd.MM.yy'}}\\n                              </ng-container>\\n                            </td>\\n                            <td>{{ order.Desc }}</td>\\n                            <td>{{ order.areaDesc }}</td>\\n                            <!-- Details -->\\n                            <!-- Not passing the realestateId here because it is not required in this status type of order -->\\n                            <td><button class=\\\"btn btn-primary btn-sm align-self-center\\\"\\n                                (click)=\\\"suborderId = order.id; realestateId = ''; createdById = ''; suborder_state = 'detail-view'\\\">Details</button>\\n                            </td>\\n                            <ng-template #orderStatus>\\n                              <span [ngSwitch]=\\\"order.status\\\">\\n                                <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'opened'\\\">\\n                                  In Prüfung\\n                                </span>\\n                                <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'pending'\\\">\\n                                  Wartet auf Aufnahmen\\n                                </span>\\n                                <span class=\\\"text-warning\\\" *ngSwitchCase=\\\"'checked'\\\">\\n                                  In Vermittlung\\n                                </span>\\n                                <span class=\\\"text-warning\\\" *ngSwitchCase=\\\"'requested'\\\">\\n                                  Angefragt\\n                                </span>\\n                                <span class=\\\"text-warning\\\" *ngSwitchCase=\\\"'processing'\\\">\\n                                  In Bearbeitung\\n                                </span>\\n                                <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'uploaded'\\\">\\n                                  In Nachbearbeitung\\n                                </span>\\n                                <span class=\\\"text-success\\\" *ngSwitchCase=\\\"'completed'\\\">\\n                                  Abgeschlossen\\n                                </span>\\n                                <span *ngSwitchDefault>\\n                                  {{ order.status }}\\n                                </span>\\n                              </span>\\n                            </ng-template>\\n                          </tr>\\n                        </ng-container>\\n                      </ng-container>\\n                    </tbody>\\n                  </table>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"border-bottom bbcw\\\"></div>\\n            <div class=\\\"shadow card cgrid\\\">\\n              <div class=\\\"card-header\\\">\\n                <h5 class=\\\"mb-0\\\">Angefragte Aufträge</h5>\\n              </div>\\n              <div class=\\\"card-body\\\">\\n                <p class=\\\"card-text\\\">Deine angefragten Aufträge. Die Prüfung der Zuweisung dauert in der\\n                  Regel nicht lange.\\n                </p>\\n                <div class=\\\"table-responsive\\\">\\n                  <table class=\\\"table table-striped table-sm\\\">\\n                    <thead>\\n                      <tr>\\n                        <th>Auftragstyp</th>\\n                        <th>Auftrag vom</th>\\n                        <th>Immobilie</th>\\n                        <th>Region</th>\\n                        <th> </th>\\n                      </tr>\\n                    </thead>\\n                    <tbody>\\n                      <ng-container *ngIf=\\\"os.myRequestedSuborders as orders; else loadingSmall\\\">\\n                        <ng-container *ngFor=\\\"let order of orders;\\\">\\n                          <!-- Filter for skills -->\\n                          <tr\\n                            *ngIf=\\\"(user.dronepilot && order.orderType === 'dronemedia') || (user.retouching && order.orderType === 'retouching') ||(user.floorplan && order.orderType === 'floorplan') || (user.vstaging && order.orderType === 'vstaging') || (user.visualisation && order.orderType === 'visualisation')\\\">\\n                            <td>\\n                              {{gs.translateAppListStrings('order_type_list', order.orderType)}}\\n                            </td>\\n                            <td>\\n                              <ng-container *ngIf=\\\"order.createdOn\\\">\\n                                {{ order.createdOn.toDate() | date: 'dd.MM.yy'}}\\n                              </ng-container>\\n                            </td>\\n                            <td>{{ order.Desc }}</td>\\n                            <td>{{ order.areaDesc }}</td>\\n                            <!-- Details -->\\n                            <td><button class=\\\"btn btn-primary btn-sm align-self-center\\\"\\n                                (click)=\\\"suborderId = order.id; realestateId = ''; createdById = ''; suborder_state = 'detail-view'\\\">Details</button>\\n                            </td>\\n                          </tr>\\n                        </ng-container>\\n                      </ng-container>\\n\\n                    </tbody>\\n                  </table>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <div class=\\\"border-bottom bbcw\\\"></div>\\n            <div class=\\\"shadow card cgrid\\\">\\n              <div class=\\\"card-header\\\">\\n                <h5 class=\\\"mb-0\\\">Zu bearbeitende Aufträge</h5>\\n              </div>\\n              <div class=\\\"card-body\\\">\\n                <p class=\\\"card-text\\\">Dir zugeordnete offene Aufträge.</p>\\n                <div class=\\\"table-responsive\\\">\\n                  <table class=\\\"table table-striped table-sm\\\">\\n                    <thead>\\n                      <tr>\\n                        <th>Auftragstyp</th>\\n                        <th>Auftrag vom</th>\\n                        <th>Immobilie</th>\\n                        <th>Region</th>\\n                        <th> </th>\\n                      </tr>\\n                    </thead>\\n                    <tbody>\\n                      <ng-container *ngIf=\\\"os.myAssignedSuborders as orders; else loadingSmall\\\">\\n                        <ng-container *ngFor=\\\"let order of orders;\\\">\\n                          <!-- Filter for skills -->\\n                          <tr\\n                            *ngIf=\\\"(user.dronepilot && order.orderType === 'dronemedia') || (user.retouching && order.orderType === 'retouching') ||(user.floorplan && order.orderType === 'floorplan') || (user.vstaging && order.orderType === 'vstaging') || (user.visualisation && order.orderType === 'visualisation')\\\">\\n                            <td>\\n                              {{gs.translateAppListStrings('order_type_list', order.orderType)}}\\n                            </td>\\n                            <td>\\n                              <ng-container *ngIf=\\\"order.createdOn\\\">\\n                                {{ order.createdOn.toDate() | date: 'dd.MM.yy'}}\\n                              </ng-container>\\n                            </td>\\n                            <td>{{ order.Desc }}</td>\\n                            <td>{{ order.areaDesc }}</td>\\n                            <!-- Details -->\\n                            <td><button class=\\\"btn btn-primary btn-sm align-self-center\\\" (click)=\\\"suborderId = order.id;\\n                                                                realestateId = order.realestateId;\\n                                                                createdById = order.createdBy;\\n                                                                suborder_state = 'detail-view'\\\">Auftrag\\n                                bearbeiten</button>\\n                            </td>\\n                          </tr>\\n                        </ng-container>\\n                      </ng-container>\\n\\n                    </tbody>\\n                  </table>\\n\\n                </div>\\n              </div>\\n            </div>\\n\\n\\n            <div class=\\\"border-bottom bbcw\\\"></div>\\n            <div class=\\\"shadow card cgrid\\\">\\n              <div class=\\\"card-header\\\">\\n                <h5 class=\\\"mb-0\\\">Abgeschlossene Aufträge</h5>\\n              </div>\\n              <div class=\\\"card-body\\\">\\n                <p class=\\\"card-text\\\">Deine erledigten Aufträge. Diese werden im Anschluss von IMOGENT\\n                  überprüft und an den Auftragsgeber weitergeleitet.</p>\\n                <div class=\\\"table-responsive\\\">\\n                  <table class=\\\"table table-striped table-sm\\\">\\n                    <thead>\\n                      <tr>\\n                        <th>Auftragstyp</th>\\n                        <th>Auftrag vom</th>\\n                        <th>Immobilie</th>\\n                        <th>Region</th>\\n                        <th> </th>\\n                      </tr>\\n                    </thead>\\n                    <tbody>\\n                      <ng-container *ngIf=\\\"os.myUploadedSuborders as orders; else loadingSmall\\\">\\n                        <ng-container *ngFor=\\\"let order of orders;\\\">\\n                          <!-- Filter for skills -->\\n                          <tr\\n                            *ngIf=\\\"(user.dronepilot && order.orderType === 'dronemedia') || (user.retouching && order.orderType === 'retouching') ||(user.floorplan && order.orderType === 'floorplan') || (user.vstaging && order.orderType === 'vstaging') || (user.visualisation && order.orderType === 'visualisation')\\\">\\n                            <td>\\n                              {{gs.translateAppListStrings('order_type_list', order.orderType)}}\\n                            </td>\\n                            <td>\\n                              <ng-container *ngIf=\\\"order.createdOn\\\">\\n                                {{ order.createdOn.toDate() | date: 'dd.MM.yy'}}\\n                              </ng-container>\\n                            </td>\\n                            <td>{{ order.Desc }}</td>\\n                            <td>{{ order.areaDesc }}</td>\\n                            <!-- Details -->\\n                            <td><button class=\\\"btn btn-primary btn-sm align-self-center\\\"\\n                                (click)=\\\"suborderId = order.id ; realestateId = order.realestateId; createdById= order.createdBy; suborder_state = 'detail-view'\\\">Details</button>\\n                            </td>\\n                          </tr>\\n                        </ng-container>\\n                      </ng-container>\\n\\n                    </tbody>\\n                  </table>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <div class=\\\"border-bottom bbcw\\\"></div>\\n            <div class=\\\"shadow card cgrid\\\">\\n              <div class=\\\"card-header\\\">\\n                <h5 class=\\\"mb-0\\\">Geprüfte Aufträge</h5>\\n              </div>\\n              <div class=\\\"card-body\\\">\\n                <p class=\\\"card-text\\\">Deine geprüften Aufträge.</p>\\n                <div class=\\\"table-responsive\\\">\\n                  <table class=\\\"table table-striped table-sm\\\">\\n                    <thead>\\n                      <tr>\\n                        <th>Auftragstyp</th>\\n                        <th>Auftrag vom</th>\\n                        <th>Immobilie</th>\\n                        <th>Region</th>\\n                        <th> </th>\\n                      </tr>\\n                    </thead>\\n                    <tbody>\\n                      <ng-container *ngIf=\\\"os.myCompletedSuborders as orders; else loadingSmall\\\">\\n                        <ng-container *ngFor=\\\"let order of orders;\\\">\\n                          <!-- Filter for skills -->\\n                          <tr\\n                            *ngIf=\\\"(user.dronepilot && order.orderType === 'dronemedia') || (user.retouching && order.orderType === 'retouching') ||(user.floorplan && order.orderType === 'floorplan') || (user.vstaging && order.orderType === 'vstaging') || (user.visualisation && order.orderType === 'visualisation')\\\">\\n                            <td>\\n                              {{gs.translateAppListStrings('order_type_list', order.orderType)}}\\n                            </td>\\n                            <td>\\n                              <ng-container *ngIf=\\\"order.createdOn\\\">\\n                                {{ order.createdOn.toDate() | date: 'dd.MM.yy'}}\\n                              </ng-container>\\n                            </td>\\n                            <td>{{ order.Desc }}</td>\\n                            <td>{{ order.areaDesc }}</td>\\n                            <!-- Details -->\\n                            <td><button class=\\\"btn btn-primary btn-sm align-self-center\\\"\\n                                (click)=\\\"suborderId = order.id ;realestateId = order.realestateId; createdById= order.createdBy; suborder_state = 'detail-view'\\\">Details</button>\\n                            </td>\\n                          </tr>\\n                        </ng-container>\\n                      </ng-container>\\n\\n                    </tbody>\\n                  </table>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"col-sm-3 d-none d-lg-block\\\">\\n          <div class=\\\"shadow card fluid cgrid\\\">\\n            <div class=\\\"card-header\\\">\\n              <h5 class=\\\"card-title text-left wsn\\\">Information</h5>\\n            </div>\\n            <div class=\\\"card-body\\\">\\n              <p class=\\\"card-text text-left\\\">Wenn du Fragen zur Funktionsweise der Auftragsvergabe hast,\\n                dann zögere nicht uns zu kontakieren.</p>\\n              <a href=\\\"mailto:kontakt@imogent.com?subject=Problem%20beim%20Daten%20einpflegen\\\"\\n                class=\\\"my-link\\\">Kontakt</a>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </ng-container>\\n  </div>\\n\\n  <!-- Showing information about when the pilots will be able to see this page -->\\n  <ng-template #notVerified>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col\\\">\\n        <div class=\\\"shadow card fluid cgrid\\\">\\n          <div class=\\\"card-header\\\">\\n            <h5 class=\\\"card-title text-left wsn\\\">Achtung</h5>\\n          </div>\\n          <div class=\\\"card-body\\\">\\n            <p class=\\\"card-text text-left\\\" style=\\\"color: orange;\\\">Ihre Unterlagen sind noch nicht überprüft\\n              worden. Sobald wir dies erledigt haben, wird die Auftragsübersicht freigeschaltet und hier\\n              erscheinen.\\n            </p>\\n            <p class=\\\"card-text text-left\\\">In der Zwischenzeit empfehlen wir als Lektüre unsere\\n              Auftragsanforderungen. Diese sind kategoriert nach Auftragstyp und geben eine genaue\\n              Anleitung was je nach Auftragstyp zu tun ist.</p>\\n            <a routerLink=\\\"/faq\\\" class=\\\"my-link\\\">Jetzt ansehen</a>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <!-- Right small column -->\\n      <div class=\\\"col-3 d-none d-lg-block\\\">\\n        <div class=\\\"shadow card fluid cgrid\\\">\\n\\n          <div class=\\\"card-header\\\">\\n            <h5 class=\\\"card-title text-left wsn\\\">Anforderungen</h5>\\n          </div>\\n\\n          <div class=\\\"card-body\\\">\\n            <p class=\\\"card-text text-left\\\">Bitte lese dir bevor du deinen ersten Auftrag bearbeitest unsere\\n              Auftragsanforderungen durch. Diese sind kategoriert nach Auftragstyp und geben dir eine\\n              genaue Anleitung was zu tun ist.</p>\\n            <a routerLink=\\\"/faq\\\" class=\\\"my-link\\\">Jetzt ansehen</a>\\n          </div>\\n\\n        </div>\\n      </div>\\n\\n    </div>\\n  </ng-template>\\n\\n  <div *ngIf=\\\"user.role != 'Dienstleister'\\\">\\n    <!-- Display the sub order list table inside a card -->\\n    <div class=\\\"shadow card cgrid\\\">\\n      <div class=\\\"card-header\\\">\\n        <!-- Sub orders navigation button -->\\n        <button *ngIf=\\\"suborder_state == 'detail-view'\\\" class=\\\"btn btn-sm btn-primary float-right\\\"\\n          (click)=\\\"suborder_state = 'list-view';\\\">Zurück</button>\\n        <h5 class=\\\"mb-0\\\">Dienstleistungen</h5>\\n      </div>\\n      <div class=\\\"card-body\\\">\\n        <!-- Show suborder detail component -->\\n        <app-suborder-overview *ngIf=\\\"suborder_state == 'detail-view'\\\" [realestateId]=\\\"realestateId\\\"\\n          [suborderId]=\\\"suborderId\\\" [assignedTo]=\\\"assignedTo\\\">\\n        </app-suborder-overview>\\n        <!-- Table that shows the customer's suborders -->\\n        <div class=\\\"table-responsive\\\" *ngIf=\\\"suborder_state == 'list-view'\\\">\\n          <table class=\\\"table table-striped table-sm\\\">\\n            <thead>\\n              <tr>\\n                <th>Auftragstyp</th>\\n                <th>Status</th>\\n                <th></th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              <!-- todo: os.allSubordersId (suborder-overview) -->\\n              <ng-container *ngIf=\\\"os.allSuborders as s_orders; else loading\\\">\\n                <ng-container *ngFor=\\\"let s_order of s_orders;\\\">\\n                  <tr>\\n                    <!-- Order type -->\\n                    <td>\\n                      {{gs.translateAppListStrings('order_type_list', s_order.orderType)}}\\n                    </td>\\n                    <!-- Order status -->\\n                    <td>\\n                      <ng-container *ngTemplateOutlet=\\\"orderStatus\\\"></ng-container>\\n                    </td>\\n                    <td><button class=\\\"btn btn-primary btn-sm align-self-center float-right\\\"\\n                        (click)=\\\"suborderId = s_order.id; realestateId = s_order.realestateId; assignedTo = s_order.assignedTo; suborder_state = 'detail-view'\\\">Details</button>\\n                    </td>\\n                    <ng-template #orderStatus>\\n                      <span [ngSwitch]=\\\"s_order.status\\\">\\n                        <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'opened'\\\">\\n                          In Prüfung\\n                        </span>\\n                        <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'pending'\\\">\\n                          Wartet auf Aufnahmen\\n                        </span>\\n                        <span class=\\\"text-warning\\\" *ngSwitchCase=\\\"'checked'\\\">\\n                          In Vermittlung\\n                        </span>\\n                        <div *ngSwitchCase=\\\"'requested'\\\">\\n                          <span *ngIf=\\\"user.role == 'Administrator'\\\" class=\\\"text-warning\\\">\\n                            Angefragt\\n                          </span>\\n                          <span *ngIf=\\\"user.role == 'Kunde'\\\" class=\\\"text-warning\\\">\\n                            In Vermittlung\\n                          </span>\\n                        </div>\\n                        <span class=\\\"text-warning\\\" *ngSwitchCase=\\\"'processing'\\\">\\n                          In Bearbeitung\\n                        </span>\\n                        <div *ngSwitchCase=\\\"'uploaded'\\\">\\n                          <span *ngIf=\\\"s_order.orderType == 'dronemedia'\\\" class=\\\"text-danger\\\">\\n                            In Nachbearbeitung\\n                          </span>\\n                          <span *ngIf=\\\"s_order.orderType != 'dronemedia'\\\" class=\\\"text-danger\\\">\\n                            In Prüfung\\n                          </span>\\n                        </div>\\n                        <span class=\\\"text-success\\\" *ngSwitchCase=\\\"'completed'\\\">\\n                          Abgeschlossen\\n                        </span>\\n                        <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'canceled'\\\">\\n                          Storniert\\n                        </span>\\n                        <span *ngSwitchDefault>\\n                          {{ s_order.status }}\\n                        </span>\\n                      </span>\\n                    </ng-template>\\n                  </tr>\\n                </ng-container>\\n              </ng-container>\\n            </tbody>\\n          </table>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</ng-container>\\n<ng-template #loading>\\n  <!-- CSS Loading Spinner -->\\n  <div class=\\\"lds-ring\\\">\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n  </div>\\n</ng-template>\"","import { Component, OnInit, Input } from '@angular/core';\nimport { OrdersService } from '@app/_services/orders.service';\nimport { LoaderService } from '@app/_services/loader.service';\nimport { AuthService } from '@app/auth/auth.service';\nimport { GlobalService } from '@app/_services/global.service';\n\n@Component({\n  selector: 'app-suborder-list',\n  templateUrl: './suborder-list.component.html',\n  styleUrls: ['./suborder-list.component.css']\n})\nexport class SuborderListComponent implements OnInit {\n  // @Input() suborderList: []; // package list to render\n  @Input() orderId: string; // id of the parent order\n  suborder_state: string; // initial state i.e list\n  // userRef: any;\n\n  constructor(\n    private os: OrdersService,\n    public auth: AuthService,\n    public loader: LoaderService,\n    public gs: GlobalService) {\n  }\n\n  ngOnInit() {\n    this.suborder_state = 'list-view';\n    if (this.auth.role !== 'Dienstleister') {\n      this.loader.getSubordersID(this.orderId);\n    }\n  }\n}\n","module.exports = \"button {\\n    margin:5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3Vib3JkZXItb3ZlcnZpZXcvc3Vib3JkZXItb3ZlcnZpZXcuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFVBQVU7QUFDZCIsImZpbGUiOiJzcmMvYXBwL3N1Ym9yZGVyLW92ZXJ2aWV3L3N1Ym9yZGVyLW92ZXJ2aWV3LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJidXR0b24ge1xuICAgIG1hcmdpbjo1cHg7XG59Il19 */\"","module.exports = \"<ng-container *ngIf=\\\"auth.myUserObservable as user; else loading\\\">\\n  <ng-container *ngIf=\\\"os.currentSuborder as suborder; else loading\\\">\\n    <ng-container *ngIf=\\\"suborder !== undefined\\\">\\n      <ng-container *ngIf=\\\"user.role !== 'Dienstleister'\\\">\\n        <div class=\\\"row\\\">\\n          <!-- Left column: Order-Details -->\\n          <!-- Common order details for every type of order -->\\n          <div class=\\\"col-12 col-md-6\\\">\\n            <h5 class=\\\"card-title text-left wsn\\\">Informationen:</h5>\\n            <!-- todo: suborder (suborder-overview) -->\\n            <p class=\\\"mb-1\\\"><strong>Eingegangen am:</strong>\\n              {{ suborder.createdOn.toDate() | date: 'dd.MM.yyyy HH:mm'}}</p>\\n            <!-- todo: os.allSubordersId (suborder-overview) -->\\n            <p class=\\\"mb-1\\\"><strong>ID:</strong> {{ suborder.id }} (bitte geben Sie diese bei\\n              Supportanfragen an)\\n            </p>\\n            <p class=\\\"mb-1\\\"><strong>Auftragstyp:\\n              </strong>{{gs.translateAppListStrings('order_type_list', suborder.orderType)}}</p>\\n            <p class=\\\"mb-1\\\"><strong>Aktueller Status:</strong>\\n              <ng-container *ngTemplateOutlet=\\\"orderStatus\\\"></ng-container>\\n            </p>\\n            <!-- todo: os.allSubordersId (suborder-overview) -->\\n            <p class=\\\"mb-1\\\" *ngIf=\\\"suborder.price\\\"><strong>Preis:</strong> {{suborder.price}} €\\n            </p>\\n          </div>\\n        </div>\\n      </ng-container>\\n      <ng-container *ngIf=\\\"user.role === 'Dienstleister'\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-12 col-md-6\\\">\\n            <h5 class=\\\"card-title text-left wsn\\\">Auftrags-Details:</h5>\\n            <p class=\\\"mb-1\\\"><strong>Eingegangen am:</strong>\\n              {{ suborder.createdOn.toDate() | date: 'dd.MM.yyyy'}}</p>\\n            <p class=\\\"mb-1\\\"><strong>ID:</strong> {{ suborder.id }} (bitte geben Sie diese bei\\n              Supportanfragen an)\\n              <p><strong>Auftragstyp: </strong>{{gs.translateAppListStrings('order_type_list', suborder.orderType)}}</p>\\n              <!-- <h5 class=\\\"card-title text-left wsn\\\">Ihre Verdienstmöglichkeit:</h5>\\n            <p><strong>Auftragshonorar:</strong> 130,00 €</p> -->\\n          </div>\\n          <div class=\\\"col-12 col-md-6\\\">\\n            <h5 class=\\\"card-title text-left wsn\\\">Immobilien-Details:</h5>\\n            <ng-container\\n              *ngIf=\\\"suborder.status == 'checked' || suborder.status == 'requested' || suborder.status == 'pending'\\\">\\n              <p class=\\\"mb-1\\\"><strong>Objektbeschreibung:</strong> {{ suborder.Desc }}</p>\\n              <p class=\\\"mb-1\\\"><strong>Ort:</strong> {{ suborder.areaDesc }}</p>\\n            </ng-container>\\n            <ng-container\\n              *ngIf=\\\"suborder.status == 'processing' || suborder.status == 'uploaded' || suborder.status == 'completed'\\\">\\n              <ng-container *ngIf=\\\"res.currentRealestate\\\">\\n                <p class=\\\"mb-1\\\"><strong>Objekt-Titel:</strong> {{ res.currentRealestate.title }}</p>\\n                <p><strong>Adresse:</strong> {{ res.currentRealestate.street }}\\n                  {{ res.currentRealestate.streetnumber }},\\n                  {{ res.currentRealestate.postalcode }} {{res.currentRealestate.city }}</p>\\n              </ng-container>\\n              <ng-container *ngIf='createdByUserData | async as Kunde;'>\\n                <h5 class=\\\"card-title text-left wsn\\\">Kunde-Details:</h5>\\n                <p class=\\\"mb-1\\\"><strong>Name:</strong> {{ Kunde.firstName }} {{ Kunde.lastName }} </p>\\n                <p class=\\\"mb-1\\\"><strong>Telefon-Nummer:</strong> {{ Kunde.phone }}</p>\\n                <p class=\\\"mb-1\\\"><strong>E-Mail:</strong> {{ Kunde.email }}</p>\\n                <p><strong>Erreichbarkeit:</strong> {{ Kunde.reachability }}</p>\\n              </ng-container>\\n            </ng-container>\\n          </div>\\n        </div>\\n      </ng-container>\\n      <hr />\\n      <!-- Placeholder for suborders detail-->\\n      <ng-container *ngTemplateOutlet=\\\"orderType\\\"></ng-container>\\n      <!-- Placeholder for order action buttons -->\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-6\\\">\\n          <ng-container *ngTemplateOutlet=\\\"orderAction\\\"></ng-container>\\n        </div>\\n      </div>\\n\\n      <!-- Showing the current status for sub order in different colors -->\\n      <ng-template #orderStatus>\\n        <span [ngSwitch]=\\\"suborder.status\\\">\\n          <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'opened'\\\">\\n            In Prüfung\\n          </span>\\n          <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'pending'\\\">\\n            Wartet auf Aufnahmen\\n          </span>\\n          <span class=\\\"text-warning\\\" *ngSwitchCase=\\\"'checked'\\\">\\n            In Vermittlung\\n          </span>\\n          <div *ngSwitchCase=\\\"'requested'\\\">\\n            <span *ngIf=\\\"user.role == 'Administrator'\\\" class=\\\"text-warning\\\">\\n              Angefragt\\n            </span>\\n            <span *ngIf=\\\"user.role == 'Kunde'\\\" class=\\\"text-warning\\\">\\n              In Vermittlung\\n            </span>\\n          </div>\\n          <span class=\\\"text-success\\\" *ngSwitchCase=\\\"'processing'\\\">\\n            In Bearbeitung\\n          </span>\\n          <div *ngSwitchCase=\\\"'uploaded'\\\">\\n            <span *ngIf=\\\"suborder.orderType == 'dronemedia'\\\" class=\\\"text-danger\\\">\\n              In Nachbearbeitung\\n            </span>\\n            <span *ngIf=\\\"suborder.orderType != 'dronemedia'\\\" class=\\\"text-danger\\\">\\n              In Prüfung\\n            </span>\\n          </div>\\n          <span class=\\\"text-success\\\" *ngSwitchCase=\\\"'completed'\\\">\\n            Abgeschlossen\\n          </span>\\n          <span class=\\\"text-danger\\\" *ngSwitchCase=\\\"'canceled'\\\">\\n            Storniert\\n          </span>\\n          <span *ngSwitchDefault>\\n            {{ suborder.status }}\\n          </span>\\n        </span>\\n      </ng-template>\\n\\n      <!-- Show details for subordertype -->\\n      <ng-template #orderType>\\n\\n        <!-- todo: os.allSubordersId (suborder-overview) -->\\n        <div [ngSwitch]=\\\"suborder.orderType\\\">\\n          <div *ngSwitchCase=\\\"'dronemedia'\\\">\\n            <app-dronemedia-suborder-overview (setSubmitDisabled)=\\\"setSubmitDisabled($event)\\\">\\n            </app-dronemedia-suborder-overview>\\n          </div>\\n\\n          <div *ngSwitchCase=\\\"'retouching'\\\">\\n            <app-retouching-suborder-overview (setSubmitDisabled)=\\\"setSubmitDisabled($event)\\\">\\n            </app-retouching-suborder-overview>\\n          </div>\\n\\n          <div *ngSwitchCase=\\\"'floorplan'\\\">\\n            <app-floorplan-suborder-overview (setSubmitDisabled)=\\\"setSubmitDisabled($event)\\\">\\n            </app-floorplan-suborder-overview>\\n          </div>\\n\\n          <div *ngSwitchCase=\\\"'vstaging'\\\">\\n            <app-virtual-staging-suborder-overview (setSubmitDisabled)=\\\"setSubmitDisabled($event)\\\">\\n            </app-virtual-staging-suborder-overview>\\n          </div>\\n\\n          <div *ngSwitchCase=\\\"'visualisation'\\\">\\n            <app-visualisation-service-overview (setSubmitDisabled)=\\\"setSubmitDisabled($event)\\\">\\n            </app-visualisation-service-overview>\\n          </div>\\n\\n          <div *ngSwitchCase=\\\"'hdphotos'\\\">\\n            <app-hdphotos-suborder-overview (setSubmitDisabled)=\\\"setSubmitDisabled($event)\\\">\\n            </app-hdphotos-suborder-overview>\\n          </div>\\n\\n          <div *ngSwitchCase=\\\"'expose'\\\">\\n            <app-expose-service-overview (setSubmitDisabled)=\\\"setSubmitDisabled($event)\\\">\\n            </app-expose-service-overview>\\n          </div>\\n        </div>\\n      </ng-template>\\n\\n      <ng-template #orderAction>\\n        <div [ngSwitch]=\\\"user.role\\\">\\n          <div *ngSwitchCase=\\\"'Kunde'\\\">\\n            <!-- Customer can only cancel the complete order for now -->\\n          </div>\\n          <div *ngSwitchCase=\\\"'Administrator'\\\">\\n            <!-- accept request -->\\n            <div *ngIf=\\\"suborder.status == 'requested'\\\">\\n              <div *ngIf='requestServiceProvider | async as ServiceProvider;'>\\n                <p>Der Dienstleister {{ ServiceProvider.firstName }} {{ ServiceProvider.lastName }} (ID:\\n                  {{suborder.assignedTo}}) hat diesen Auftrag\\n                  angefragt.</p>\\n                <button class=\\\"btn btn-success\\\" (click)=\\\"acceptRequest(suborder.id, true)\\\">Auftrag erteilen</button>\\n                <button class=\\\"btn btn-danger\\\" (click)=\\\"acceptRequest(suborder.id, false)\\\">Anfrage ablehnen</button>\\n              </div>\\n            </div>\\n            <div *ngIf=\\\"suborder.status == 'uploaded'\\\">\\n              <div *ngIf='requestServiceProvider | async as ServiceProvider;'>\\n                <p>Der Dienstleister {{ ServiceProvider.firstName }} {{ ServiceProvider.lastName }} (ID:\\n                  {{suborder.assignedTo}}) hat diesen Auftrag\\n                  angeschlossen.</p>\\n                <button class=\\\"btn btn-success\\\" (click)=\\\"changeSuborderStatus(suborder.id, 'completed')\\\">Auftrag\\n                  abschließen</button>\\n                <button class=\\\"btn btn-danger\\\" (click)=\\\"changeSuborderStatus(suborder.id, 'processing')\\\">Anfrage\\n                  zurückweisen</button>\\n              </div>\\n            </div>\\n            <button *ngIf=\\\"suborder.status == 'processing'\\\" [disabled]=\\\"isSubmitDisabled()\\\" class=\\\"btn btn-warning\\\"\\n              (click)=\\\"completeOrder(suborder.id)\\\">Auftrag abschließen</button>\\n            <button *ngIf=\\\"suborder.status == 'completed'\\\" class=\\\"btn btn-success\\\" disabled><span\\n                class=\\\"fas fa-check-circle\\\"></span>&nbsp; Abgeschlossen</button>\\n          </div>\\n          <div *ngSwitchCase=\\\"'Dienstleister'\\\">\\n            <!-- Request suborder button -->\\n            <button *ngIf=\\\"suborder.status == 'checked'\\\" class=\\\"btn btn-warning\\\"\\n              (click)=\\\"requestOrder(suborder.id)\\\">Auftrag annehmen</button>\\n            <button *ngIf=\\\"suborder.status == 'requested'\\\" class=\\\"btn btn-secondary\\\" disabled>Auftrag angefragt</button>\\n            <!-- Complete suborder -->\\n            <button *ngIf=\\\"suborder.status == 'processing'\\\" [disabled]=\\\"isSubmitDisabled()\\\" class=\\\"btn btn-warning\\\"\\n              (click)=\\\"completeOrder(suborder.id)\\\">Auftrag abschließen</button>\\n            <button *ngIf=\\\"suborder.status == 'uploaded' || suborder.status == 'completed'\\\" class=\\\"btn btn-success\\\"\\n              disabled><span class=\\\"fas fa-check-circle\\\"></span>&nbsp; Abgeschlossen</button>\\n          </div>\\n        </div>\\n      </ng-template>\\n    </ng-container>\\n  </ng-container>\\n</ng-container>\\n<ng-template #loading>\\n  <!-- CSS Loading Spinner -->\\n  <div class=\\\"lds-ring\\\">\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n  </div>\\n</ng-template>\"","import { Component, OnInit, Input, ViewChild } from '@angular/core';\nimport { OrdersService } from '@app/_services/orders.service';\nimport * as _ from 'underscore';\nimport { AuthService } from '@app/auth/auth.service';\nimport { RealestateService } from '@app/_services/realestate.service';\nimport { UsersService } from '@app/_services/users.service';\nimport { UploadService } from '@app/_services/upload.service';\nimport { GlobalService } from '@app/_services/global.service';\n\n@Component({\n  selector: 'app-suborder-overview',\n  templateUrl: './suborder-overview.component.html',\n  styleUrls: ['./suborder-overview.component.css']\n})\nexport class SuborderOverviewComponent implements OnInit {\n  @Input() suborderId: string;\n  @Input() realestateId: string;\n  @Input() createdById: string;\n  @Input() assignedTo: string;\n  @Input() parentContext: any;\n\n  createdByUserData: any;\n  requestServiceProvider: any;\n  submitDisabled = false;\n\n  constructor(\n    private os: OrdersService,\n    public auth: AuthService,\n    public res: RealestateService,\n    public us: UsersService,\n    private ups: UploadService,\n    public gs: GlobalService\n  ) {\n  }\n\n  async ngOnInit() {\n    // fetch current suborder details on initialize\n    // only fetch if the currently fetched suborder is different from the current\n    if ((!_.isEmpty(this.os.currentSuborder) &&\n      this.os.currentSuborder.id !== this.suborderId) ||\n      _.isEmpty(this.os.currentSuborder)) {\n      await this.os.getSuborderDetails(this.suborderId);\n    }\n    // fetch current realestate detail on intiailize\n    if (!_.isEmpty(this.realestateId)) {\n      this.res.getRealestateSubscription(this.realestateId);\n    }\n    // fetch current service provider detail on intiailize\n    if (!_.isEmpty(this.assignedTo)) {\n      this.requestServiceProvider = this.us.getUserDetails(this.assignedTo);\n    }\n    // fetch current realestate detail on intiailize\n    if (!_.isEmpty(this.createdById)) {\n      this.createdByUserData = this.us.getUserDetails(this.createdById);\n    }\n  }\n\n  /**\n * Gets triggered when service provider requests the order. The order gets assigned to current logged in service provider\n */\n  async requestOrder(orderIdParam: string) {\n    const confirmed = confirm('Sie verpflichten Sich hiermit, sollten wir Ihnen den Auftrag nach einer Prüfung durch uns final erteilen, diesen zu dem vereinbarten Auftragshonorar zu erledigen.');\n    if (confirmed) {\n      try {\n        await this.os.assignSuborder(orderIdParam, this.auth.userData.uid);\n      } catch (e) {\n        alert(e);\n      }\n    } else {\n    }\n  }\n\n  /**\n * Gets triggered when service provider completes the order.\n */\n  async completeOrder(orderIdParam: string) {\n    const confirmed = confirm('Sind Sie sicher, dass Sie diesen Auftrag final abschließen möchten?');\n    if (confirmed) {\n      try {\n        let status = this.auth.myUserObservable.role === 'Administrator' ? 'completed' : 'uploaded';\n        await this.os.changeSuborderStatus(orderIdParam, status);\n      } catch (e) {\n        alert(e);\n      }\n    } else {\n    }\n  }\n\n  /**\n   * Disable the submit button \"Auftrag abschließen\" for dienstleister depending on suborder type\n   * add your conditions for enabling/disabling inside this function based on your suborder type\n   */\n  isSubmitDisabled() {\n    if (this.submitDisabled) {\n      return true;\n    }\n    return false;\n  }\n\n  setSubmitDisabled(value: boolean) {\n    this.submitDisabled = value;\n  }\n\n  /**\n * change suborder status for Admin.\n */\n  async changeSuborderStatus(orderIdParam: string, status) {\n    await this.os.changeSuborderStatus(orderIdParam, status);\n    // additional actions for dronemedia suborder\n    if (this.os.currentSuborder.orderType === 'dronemedia' && status === 'completed') {\n      // update pending retoucing suborder status\n      this.os.updatePendingSuborder(this.os.currentSuborder.id);\n    }\n  }\n\n  /**\n * Gets triggered when service provider requests the order. The order gets assigned to current logged in service provider\n */\n  async acceptRequest(orderIdParam: string, response: boolean) {\n    try {\n      await this.os.acceptRequest(orderIdParam, response);\n    } catch (e) {\n      alert(e);\n    }\n  }\n\n  ngOnDestroy() {\n    // unsubscripte the obeservables when the view is destroyed\n    if (!_.isEmpty(this.os.$suborderSub)) {\n      this.os.$suborderSub.unsubscribe();\n      this.os.currentSuborder = null;\n    }\n\n    if (!_.isEmpty(this.res.$realestateSub)) {\n      this.res.$realestateSub.unsubscribe();\n      this.res.currentRealestate = null;\n    }\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Rlcm1zL3Rlcm1zLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<p>\\n  terms works!\\n</p>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-terms',\n  templateUrl: './terms.component.html',\n  styleUrls: ['./terms.component.css']\n})\nexport class TermsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"progress::-webkit-progress-value {\\n-webkit-transition: width 0.1s ease;\\ntransition: width 0.1s ease;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXBsb2FkLXRhc2svdXBsb2FkLXRhc2suY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLG1DQUEyQjtBQUEzQiwyQkFBMkI7QUFDM0IiLCJmaWxlIjoic3JjL2FwcC91cGxvYWQtdGFzay91cGxvYWQtdGFzay5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsicHJvZ3Jlc3M6Oi13ZWJraXQtcHJvZ3Jlc3MtdmFsdWUge1xudHJhbnNpdGlvbjogd2lkdGggMC4xcyBlYXNlO1xufVxuIl19 */\"","module.exports = \"<div *ngIf=\\\"percentage | async as pct\\\">\\n  <progress [value]=\\\"pct\\\" max=\\\"100\\\"></progress>\\n  {{ pct | number }}%\\n</div>\\n<div *ngIf=\\\"snapshot | async as snap\\\">\\n</div>\"","import { Component, OnInit, Input, Output } from '@angular/core';\nimport { AngularFireUploadTask, AngularFireStorage } from '@angular/fire/storage';\nimport { Observable } from 'rxjs';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { finalize } from 'rxjs/operators';\nimport { EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-upload-task',\n  templateUrl: './upload-task.component.html',\n  styleUrls: ['./upload-task.component.css']\n})\nexport class UploadTaskComponent implements OnInit {\n  @Input() file: File; // file to be uploaded\n  @Input() path: string; // path to upload file on cloud storage\n  @Input() parentId: string; // id of the parent record to which subcollection for files is linked\n  @Input() parentType: string; // parent type e.g suborders\n  @Input() subCollectionName: string; // name for the subcollection\n  @Output() removeFileFromQueue = new EventEmitter();\n  task: AngularFireUploadTask;\n  percentage: Observable<number>;\n  snapshot: Observable<any>;\n  downloadURL: string;\n\n\n  constructor(\n    private storage: AngularFireStorage,\n    private db: AngularFirestore\n  ) { }\n\n  ngOnInit() {\n    this.startUpload();\n  }\n\n  startUpload() {\n    // The storage path\n    //const path = `folderName/${Date.now()}_${this.file.name}`;\n    let self = this;\n    // Reference to storage bucket\n    const ref = this.storage.ref(this.path);\n    // The main task\n    this.task = this.storage.upload(this.path, this.file);\n    // Progress monitoring\n    this.percentage = this.task.percentageChanges();\n\n    this.snapshot = this.task.snapshotChanges().pipe(\n      // The file's download URL\n      finalize(async () => {\n        self.downloadURL = await ref.getDownloadURL().toPromise();\n        // add reference to file in the parent's subcollection\n        self.db.collection(self.parentType).doc(self.parentId)\n        .collection(self.subCollectionName).add({\n          download_url: self.downloadURL,\n          file_name: self.file.name\n        }).then(() => {\n          console.log('file uploaded. Now removing from upload queue');\n          self.removeFileFromQueue.emit(self.file);\n        });\n      }),\n    );\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VzZXJzL3VzZXJzLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<!-- This component is only rendered for administrators -->\\n\\n<!-- Page-Content below -->\\n<ng-container *ngIf=\\\"state === 'default'\\\">\\n  <ng-container *ngIf=\\\"auth.myUserObservable as user\\\">\\n    <!-- Only show content to users that are Administrators -->\\n    <ng-container *ngIf=\\\"user.role === 'Administrator'; else forbidden\\\">\\n\\n      <div class=\\\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center border-bottom bbcg\\\">\\n        <span class=\\\"page-title\\\">Alle Nutzer</span>\\n        <div class=\\\"btn-toolbar mb-2 mb-md-0\\\">\\n          <div class=\\\"btn-group mr-2\\\">\\n            <button class=\\\"btn btn-primary\\\" (click)=\\\"createNewUser()\\\">\\n              Benutzer anlegen\\n            </button>\\n          </div>\\n        </div>\\n      </div>\\n      <!-- Show User list in a card -->\\n      <div class=\\\"shadow card cgrid\\\">\\n        <!-- <div class=\\\"card-header\\\">\\n          <h5 class=\\\"mb-0\\\">Alle Nutzer</h5>\\n        </div> -->\\n        <div class=\\\"card-body\\\">\\n          <div class=\\\"table-responsive\\\">\\n\\n            <!-- Table that lists all users that are signed up on the platform to the Admin User -->\\n            <table class=\\\"table table-striped table-sm\\\">\\n\\n              <thead>\\n                <tr>\\n                  <th>Name</th>\\n                  <th>E-Mail</th>\\n                  <th>Nutzertyp</th>\\n                  <th>ID</th>\\n                  <th>Status</th>\\n                  <th></th>\\n                </tr>\\n              </thead>\\n\\n              <tbody>\\n                <!-- Show all users in a table/list for now with the fields Name, E-Mail, Role and status badge and a button to open detail page -->\\n                <ng-container *ngIf=\\\"us.allUsers as users; else loadingSmall\\\">\\n                  <ng-container *ngFor=\\\"let user of users\\\">\\n                    <tr>\\n                      <td>{{ user.firstName }} {{ user.lastName }}</td>\\n                      <td>{{ user.email }}</td>\\n                      <td>{{ user.role }}</td>\\n                      <td>{{ user.uid }}</td>\\n                      <td>\\n                        <ng-container *ngTemplateOutlet=\\\"userStatus\\\"></ng-container>\\n                      </td>\\n                      <td><button class=\\\"btn btn-primary btn-sm align-self-center float-right\\\"\\n                          (click)=\\\"openDetailPage(user.uid)\\\"><span><i class=\\\"far fa-edit\\\"></i></span></button></td>\\n\\n                    </tr>\\n                    <!-- Display different Status badges -->\\n                    <ng-template #userStatus>\\n                      <span *ngIf=\\\"user.emailVerified === true\\\">\\n                        <span *ngIf=\\\"user.test !== true\\\">\\n                          <span *ngIf=\\\"user.profileCompleted === true && user.role === 'Kunde'\\\"\\n                            class=\\\"badge badge-info\\\">Kunde</span>\\n                          <span *ngIf=\\\"user.profileCompleted === false\\\" class=\\\"badge badge-danger\\\">Profil nicht\\n                            ausgefüllt</span>\\n                          <span *ngIf=\\\"user.verificationNeeded === true\\\" class=\\\"badge badge-danger\\\">Prüfung\\n                            notwendig</span>\\n                          <!-- Dienstleister -->\\n                          <div *ngIf=\\\"user.role === 'Dienstleister'\\\">\\n                            <!-- important: all variables have to be boolean! -->\\n                            <span class=\\\"badge badge-warning\\\">Dienstleister</span>\\n                            <span *ngIf=\\\"user.floorplan === true\\\" class=\\\"badge badge-success\\\">Grundrisse</span>\\n                            <span *ngIf=\\\"user.retouching === true\\\" class=\\\"badge badge-success\\\">Bildbearbeitung</span>\\n                            <span *ngIf=\\\"user.dronepilot === true\\\" class=\\\"badge badge-success\\\">Drohnenpilot</span>\\n                            <span *ngIf=\\\"user.vstaging\\\" class=\\\"badge badge-success\\\">Virtual Staging</span>\\n                            <span *ngIf=\\\"user.visualisation\\\" class=\\\"badge badge-success\\\">3D Visualisierung</span>\\n                            <!-- test -->\\n                            <!-- <span class=\\\"badge badge-success\\\">Grundrisse {{user.floorplan}}</span>\\n                            <span class=\\\"badge badge-success\\\">Grundrisse {{user.retouching}}</span>\\n                            <span class=\\\"badge badge-success\\\">Drohnenpilot {{user.dronepilot}}</span> -->\\n                            <!-- end test -->\\n                          </div>\\n                          <!-- <div *ngIf=\\\"user.dronepilot === true\\\">\\n                            <span *ngIf=\\\"user.profileCompleted === true && user.pilotVerified === true\\\"\\n                              class=\\\"badge badge-success\\\">Verifiziert</span>\\n                            <span\\n                              *ngIf=\\\"user.pilotVerified === false && user.profileCompleted === true && user.verificationNeeded === false\\\"\\n                              class=\\\"badge badge-warning\\\">Verifikationsdokumente ausstehend</span>\\n                          </div> -->\\n                          <span *ngIf=\\\"user.role === 'Administrator'\\\" class=\\\"badge badge-dark\\\">Admin</span>\\n                        </span>\\n                        <span *ngIf=\\\"user.test === true\\\" class=\\\"badge badge-dark\\\">Testaccount</span>\\n                      </span>\\n                      <span *ngIf=\\\"user.emailVerified !== true\\\">\\n                        <span class=\\\"badge badge-danger\\\">E-Mail nicht bestätigt!</span>\\n                      </span>\\n                    </ng-template>\\n\\n                  </ng-container>\\n                </ng-container>\\n              </tbody>\\n\\n            </table>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <!-- Show assigned roles in a card -->\\n      <div class=\\\"shadow card cgrid\\\">\\n        <div class=\\\"card-header\\\">\\n          <h5 class=\\\"msb-0\\\">Zuweisung Dienstleister</h5>\\n        </div>\\n        <div class=\\\"card-body\\\">\\n\\n          <form [formGroup]=\\\"serviceForm\\\" (ngSubmit)=\\\"submitHandler()\\\">\\n            <div class=\\\"form-group row\\\">\\n              <label class=\\\"col-sm-1 col-form-label\\\" style=\\\"color: black\\\">Grundrisse</label>\\n              <div class=\\\"col-sm-4\\\">\\n                <input formControlName=\\\"floorplanService\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"floorplanService\\\"\\n                  aria-describedby=\\\"floorplanHelp\\\" placeholder=\\\"Benutzer-ID\\\">\\n                <small id=\\\"floorplanHelp\\\" class=\\\"form-text text-muted\\\">Bitte geben Sie eine gültige Benutzer-ID\\n                  an.</small>\\n              </div>\\n            </div>\\n            <div class=\\\"form-group row\\\">\\n              <label class=\\\"col-sm-1 col-form-label\\\" style=\\\"color: black\\\">Bildbearbeitung</label>\\n              <div class=\\\"col-sm-4\\\">\\n                <input formControlName=\\\"retouchingService\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"retouchingService\\\"\\n                  aria-describedby=\\\"retouchingHelp\\\" placeholder=\\\"Benutzer-ID\\\">\\n                <small id=\\\"retouchingHelp\\\" class=\\\"form-text text-muted\\\">Bitte geben Sie eine gültige Benutzer-ID\\n                  an.</small>\\n              </div>\\n            </div>\\n            <div class=\\\"form-group row\\\">\\n              <label class=\\\"col-sm-1 col-form-label\\\" style=\\\"color: black\\\">Virtual Staging</label>\\n              <div class=\\\"col-sm-4\\\">\\n                <input formControlName=\\\"vstagingService\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"vstagingService\\\"\\n                  aria-describedby=\\\"vstagingHelp\\\" placeholder=\\\"Benutzer-ID\\\">\\n                <small id=\\\"vstagingHelp\\\" class=\\\"form-text text-muted\\\">Bitte geben Sie eine gültige Benutzer-ID\\n                  an.</small>\\n              </div>\\n            </div>\\n            <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\"\\n              [disabled]=\\\"serviceForm.invalid || serviceForm.pristine\\\">Submit</button>\\n          </form>\\n        </div>\\n      </div>\\n    </ng-container>\\n\\n    <!-- Message displayed to all users that are not administrators but try to access this route manually in their browser -->\\n    <ng-template #forbidden>\\n      <h2>Du hast keine Zugangsberechtigung für diese Seite!</h2>\\n    </ng-template>\\n\\n  </ng-container>\\n</ng-container>\\n\\n<!-- Detailed Page for each user -->\\n<ng-container *ngIf=\\\"state === 'detail-view'\\\">\\n  <ng-container *ngIf=\\\"currentUserData | async as user; else loading\\\">\\n    <div class=\\\"shadow card fluid cgrid\\\">\\n      <div class=\\\"card-header\\\">\\n        <button class=\\\"btn btn-sm btn-primary float-right\\\" (click)=\\\"state = 'default'\\\">Zurück</button>\\n\\n        <!-- Display some general user details in the header -->\\n        <h5>{{ user.firstName }} {{ user.lastName }} ({{ user.uid }})</h5>\\n      </div>\\n      <div class=\\\"card-body\\\">\\n\\n        <div class=\\\"row\\\">\\n\\n          <!-- This column displays almost all relevant fields of the selected user's database entry -->\\n          <div class=\\\"col-6\\\">\\n            <h5 class=\\\"card-title text-left wsn\\\">Nutzer-Details:</h5>\\n            <p class=\\\"mb-0\\\"><strong>Name: </strong> {{ user.firstName }} {{ user.lastName }}</p>\\n            <p class=\\\"mb-0\\\"><strong>Unternehmen: </strong>{{ user.company }}</p>\\n            <p class=\\\"mb-0\\\"><strong>Adressdaten: </strong> {{ user.street }} {{ user.streetNumber }},\\n              {{ user.postalcode }} {{ user.city }}</p>\\n            <p class=\\\"mb-0\\\"><strong>Telefonnummer: </strong> {{ user.phone }}</p>\\n            <p class=\\\"mb-0\\\"><strong>E-Mail Adresse: </strong> {{ user.email }}</p>\\n            <p class=\\\"mb-2\\\"><strong>Registriert am: </strong> {{ user.registeredOn.toDate() | date: 'dd.MM.yyyy HH:mm'}}\\n              Uhr</p>\\n          </div>\\n\\n          <!-- This column displays the uploaded documents of the user to the Admin -->\\n          <div class=\\\"col-6\\\">\\n            <h5 class=\\\"card-title text-left wsn\\\">Profildokumente:</h5>\\n            <p\\n              *ngIf=\\\"user.verificationDocument0 === undefined && user.verificationDocument1 === undefined && user.verificationDocument2 === undefined && user.verificationDocument3 === undefined\\\">\\n              Keine Dokumente vorhanden.</p>\\n            <ng-container *ngIf=\\\"user.verificationDocument0 !== undefined\\\">\\n              <a class=\\\"my-link\\\" href=\\\"{{ user.verificationDocument0 }}\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\">Vertragliche\\n                Vereinbarung</a><span> - </span><a style=\\\"color: #dc3545;\\\"\\n                (click)=\\\"deleteDoc('doc0', user.uid)\\\">löschen</a><br>\\n            </ng-container>\\n            <ng-container *ngIf=\\\"user.verificationDocument1 !== undefined\\\">\\n              <a class=\\\"my-link\\\" href=\\\"{{ user.verificationDocument1 }}\\\" target=\\\"_blank\\\"\\n                rel=\\\"noopener\\\">Haftpflicht</a><span> - </span><a style=\\\"color: #dc3545;\\\"\\n                (click)=\\\"deleteDoc('doc1', user.uid)\\\">löschen</a><br>\\n            </ng-container>\\n            <ng-container *ngIf=\\\"user.verificationDocument2 !== undefined\\\">\\n              <a class=\\\"my-link\\\" href=\\\"{{ user.verificationDocument2 }}\\\" target=\\\"_blank\\\"\\n                rel=\\\"noopener\\\">Kenntnisnachweis</a><span> - </span><a style=\\\"color: #dc3545;\\\"\\n                (click)=\\\"deleteDoc('doc2', user.uid)\\\">löschen</a><br>\\n            </ng-container>\\n            <ng-container *ngIf=\\\"user.verificationDocument3 !== undefined\\\">\\n              <a class=\\\"my-link\\\" href=\\\"{{ user.verificationDocument3 }}\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\">Allg.\\n                Aufstiegsgenehmigung</a><span> - </span><a style=\\\"color: #dc3545;\\\"\\n                (click)=\\\"deleteDoc('doc3', user.uid)\\\">löschen</a><br>\\n            </ng-container>\\n          </div>\\n\\n        </div>\\n\\n        <!-- Button to set pilots to verified, after the Admin has checked the documents of the pilot -->\\n        <span *ngIf=\\\"success === true\\\" class=\\\"alert alert-success float-left\\\">Erfolgreich gesetzt!</span>\\n        <button *ngIf=\\\"user.verificationNeeded === true\\\" class=\\\"btn btn-warning mt-2 float-left\\\"\\n          (click)=\\\"setVerified(user.uid)\\\">Dokumente geprüft</button>\\n        <span *ngIf=\\\"showSuccessMessage === true\\\" class=\\\"alert alert-success float-left\\\">{{successMessage}}</span>\\n        <button *ngIf=\\\"!user.emailVerified\\\" class=\\\"btn btn-warning mt-2 float-left\\\"\\n          (click)=\\\"setEmailVerified(user.uid)\\\">E-Mail bestätigen</button>\\n      </div>\\n    </div>\\n  </ng-container>\\n</ng-container>\\n\\n<!-- CSS Loading Spinner -->\\n<ng-template #loadingSmall>\\n  <div class=\\\"lds-ring ring-small\\\">\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n    <div></div>\\n  </div>\\n</ng-template>\"","import { Component, OnInit } from '@angular/core';\nimport { UsersService } from '../_services/users.service';\nimport { AuthService } from '@app/auth/auth.service';\nimport { LoaderService } from '@app/_services/loader.service';\nimport { UploadService } from '@app/_services/upload.service';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { tap } from 'rxjs/operators';\nimport { CloseScrollStrategy } from '@angular/cdk/overlay';\nimport { OrdersService } from '@app/_services/orders.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})\nexport class UsersComponent implements OnInit {\n\n  serviceForm: FormGroup;\n  private currentUserData: any;\n  public state = 'default';\n  public success = false;\n  user$;\n  user: any;\n  configuration;\n  configurationDocumentId = 'rsidBwFzO3Kp356emm9N';\n  showSuccessMessage = false;\n  successMessage = '';\n\n  constructor(private fb: FormBuilder,\n    private afs: AngularFirestore,\n    public auth: AuthService,\n    public loader: LoaderService,\n    private us: UsersService,\n    private os: OrdersService,\n    private router: Router\n  ) {\n    // Set the validations for the serviceProvider form\n    this.serviceForm = this.fb.group({\n      floorplanService: [''],\n      retouchingService: [''],\n      vstagingService: ['']\n    });\n  }\n\n  ngOnInit() {\n    const user = JSON.parse(sessionStorage.getItem('user'));\n    const uid: string = user.uid;\n    this.user = uid; // UID;\n    this.preloadData();\n  }\n\n  ngOnDestroy() {\n    this.configuration.unsubscribe(); // Missing or insufficient permissions Error, Memory Leak fix\n  }\n\n  /**\n   * Opens user's detail view\n   */\n  openDetailPage(uidParam: string) {\n    this.currentUserData = this.us.getUserDetails(uidParam);\n    this.state = 'detail-view';\n  }\n  /**\n   * Sets the pilot as verified (called by admin) after he(the pilot/service provider) uploads the required documents.\n   */\n  async setVerified(uidParam: string) {\n    await this.us.setVerified(uidParam);\n    this.success = true;\n    setTimeout(() => {\n      this.success = false;\n    },\n      2000);\n  }\n\n  /**\n   * Sets the emailVerfied as true in user document (called by admin)\n   */\n  setEmailVerified(uid: string) {\n    this.us.updateUser(uid, { emailVerified: true }).then(() => {\n      console.log('email verfied successfully: ');\n      this.successMessage = 'E-Mail erfolgreich verifiziert!';\n      this.showSuccessMessage = true;\n    }).catch(function (error) {\n      alert('Unable to verify email!');\n      console.log('unable to verify email: ', error);\n    });\n    setTimeout(() => {\n      this.showSuccessMessage = false;\n      this.successMessage = '';\n    },\n      2000);\n  }\n  /**\n   *  Admin can delete the uploaded documents by users (service providers)\n   */\n  deleteDoc(doc: string, uid: string) {\n    this.us.deleteDoc(doc, uid);\n  }\n\n  get floorplanService() {\n    return this.serviceForm.get('floorplanService');\n  }\n  get retouchingService() {\n    return this.serviceForm.get('retouchingService');\n  }\n  get vstagingService() {\n    return this.serviceForm.get('vstagingService');\n  }\n\n  /**\n   * Submite handler for service provider form. Updates the user document in firebase\n   */\n  async submitHandler() {\n    const colRef = this.afs.collection('users');\n    const config = this.afs.collection('configuration');\n    const formValue = this.serviceForm.value;\n    this.serviceForm.markAsPristine();\n    if (formValue.floorplanService !== this.currentUserData.floorplanService) {\n      let updateServiceProviderError = false;\n      try {\n        await colRef.doc(formValue.floorplanService).update({\n          floorplan: true\n        });\n      } catch (err) {\n        console.error(err);\n        updateServiceProviderError = true;\n      }\n      if (!updateServiceProviderError) {\n        try {\n          await colRef.doc(this.currentUserData.floorplanService).update({\n            floorplan: false\n          });\n          await config.doc(this.configurationDocumentId).update({\n            floorplanService: formValue.floorplanService\n          });\n          this.os.changeAssignment('floorplan', formValue.floorplanService);\n        } catch (err) {\n          console.error(err);\n        }\n      } else {\n        // ToDo: show user error: id not found in database, nothing updated\n      }\n    }\n    if (formValue.retouchingService !== this.currentUserData.retouchingService) {\n      let updateServiceProviderError = false;\n      try {\n        await colRef.doc(formValue.retouchingService).update({\n          retouching: true\n        });\n      } catch (err) {\n        console.error(err);\n        updateServiceProviderError = true;\n      }\n      if (!updateServiceProviderError) {\n        try {\n          await colRef.doc(this.currentUserData.retouchingService).update({\n            retouching: false\n          });\n          await config.doc(this.configurationDocumentId).update({\n            retouchingService: formValue.retouchingService\n          });\n          this.os.changeAssignment('retouching', formValue.retouchingService);\n        } catch (err) {\n          console.error(err);\n        }\n      } else {\n        // ToDo: show user error: id not found in database, nothing updated\n      }\n    }\n    if (formValue.vstagingService !== this.currentUserData.vstagingService) {\n      let updateServiceProviderError = false;\n      try {\n        await colRef.doc(formValue.vstagingService).update({\n          vstaging: true\n        });\n      } catch (err) {\n        console.error(err);\n        updateServiceProviderError = true;\n      }\n      if (!updateServiceProviderError) {\n        try {\n          await colRef.doc(this.currentUserData.vstagingService).update({\n            vstaging: false\n          });\n          await config.doc(this.configurationDocumentId).update({\n            vstagingService: formValue.vstagingService\n          });\n          this.os.changeAssignment('vstaging', formValue.vstagingService);\n        } catch (err) {\n          console.error(err);\n        }\n      } else {\n        // ToDo: show user error: id not found in database, nothing updated\n      }\n    }\n  }\n  /**\n   * Preload data for user configuration\n   */\n  async preloadData() {\n    this.configuration = await this.afs.doc(`configuration/${this.configurationDocumentId}`).valueChanges().pipe(\n      tap(data => {\n        this.serviceForm.patchValue(data);\n        this.currentUserData = data;\n      })\n    )\n      .subscribe();\n  }\n\n  createNewUser(): void {\n    this.auth.adminFlag = true;\n    this.router.navigate(['/register']);\n  }\n}\n","module.exports = \".fileContainer {\\n  overflow: hidden;\\n  position: relative;\\n}\\n\\n.fileContainer [type=file] {\\n  cursor: inherit;\\n  display: block;\\n  font-size: 999px;\\n  filter: alpha(opacity=0);\\n  min-height: 100%;\\n  min-width: 100%;\\n  opacity: 0;\\n  position: absolute;\\n  right: 0;\\n  text-align: right;\\n  top: 0;\\n}\\n\\n.file-list .file-entry{\\n  border-radius: 5%;\\n  padding: 5px 0 5px 0;\\n}\\n\\n.file-list .file-entry:nth-child(odd){\\n  background-color: #e5f9f6;\\n}\\n\\n.file-list .file-entry .file-name{\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.file-list:not(.logo-file){\\n  height: 123px;\\n  overflow-y: auto;\\n}\\n\\n.file-list .file-entry .file-remove{\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlydHVhbC1zdGFnaW5nLXNlcnZpY2UvdmlydHVhbC1zdGFnaW5nLXNlcnZpY2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsY0FBYztFQUNkLGdCQUFnQjtFQUNoQix3QkFBd0I7RUFDeEIsZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixVQUFVO0VBQ1Ysa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixpQkFBaUI7RUFDakIsTUFBTTtBQUNSOztBQUNBO0VBQ0UsaUJBQWlCO0VBQ2pCLG9CQUFvQjtBQUN0Qjs7QUFDQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFDQTtFQUNFLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFDaEIsdUJBQXVCO0FBQ3pCOztBQUNBO0VBQ0UsYUFBYTtFQUNiLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGVBQWU7QUFDakIiLCJmaWxlIjoic3JjL2FwcC92aXJ0dWFsLXN0YWdpbmctc2VydmljZS92aXJ0dWFsLXN0YWdpbmctc2VydmljZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZpbGVDb250YWluZXIge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5maWxlQ29udGFpbmVyIFt0eXBlPWZpbGVdIHtcbiAgY3Vyc29yOiBpbmhlcml0O1xuICBkaXNwbGF5OiBibG9jaztcbiAgZm9udC1zaXplOiA5OTlweDtcbiAgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTApO1xuICBtaW4taGVpZ2h0OiAxMDAlO1xuICBtaW4td2lkdGg6IDEwMCU7XG4gIG9wYWNpdHk6IDA7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDA7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICB0b3A6IDA7XG59XG4uZmlsZS1saXN0IC5maWxlLWVudHJ5e1xuICBib3JkZXItcmFkaXVzOiA1JTtcbiAgcGFkZGluZzogNXB4IDAgNXB4IDA7XG59XG4uZmlsZS1saXN0IC5maWxlLWVudHJ5Om50aC1jaGlsZChvZGQpe1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTVmOWY2O1xufVxuLmZpbGUtbGlzdCAuZmlsZS1lbnRyeSAuZmlsZS1uYW1le1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbn1cbi5maWxlLWxpc3Q6bm90KC5sb2dvLWZpbGUpe1xuICBoZWlnaHQ6IDEyM3B4O1xuICBvdmVyZmxvdy15OiBhdXRvO1xufVxuXG4uZmlsZS1saXN0IC5maWxlLWVudHJ5IC5maWxlLXJlbW92ZXtcbiAgY3Vyc29yOiBwb2ludGVyO1xufSJdfQ== */\"","module.exports = \"<!-- Description what the customer will get -->\\n<div class=\\\"row\\\">\\n    <div class=\\\"col\\\">\\n        <h4>Das erwartet Sie:</h4>\\n        <ul class=\\\"list-unstyled mt-3 mb-4\\\">\\n            <li *ngFor=\\\"let item of package.package_contents\\\" class=\\\"text-truncate\\\"> ✓ {{item}}</li>\\n        </ul>\\n        <!-- Border -->\\n        <div class=\\\"border-bottom bbcb mt-3 mb-3\\\"></div>\\n\\n        <!-- Form for special wishes of the customer -->\\n        <form [formGroup]=\\\"vstagingForm\\\">\\n            <!-- Start file upload -->\\n            <div class=\\\"form-group row\\\">\\n                <div class=\\\"col-3 upload-button-container\\\">\\n                    <label class=\\\"fileContainer btn btn-dark btn-sm text-white\\\">\\n            Datei hochladen\\n            <input type=\\\"file\\\" [writeFile]=\\\"true\\\" formControlName=\\\"uploadedFiles\\\" multiple=\\\"true\\\" #uploadFileElem (change)=\\\"onChange()\\\"\\n              accept=\\\".png,.jpeg,.pdf,.jpg\\\" ng2FileSelect [uploader]=\\\"uploader\\\" />\\n\\t\\t\\t\\t\\t</label>\\n                </div>\\n                <div class=\\\"col-4 file-list\\\">\\n                    <div class=\\\"file-entry row\\\" *ngFor=\\\"let file of uploader.queue\\\">\\n                        <div class=\\\"col-8 file-name\\\">\\n                            {{ file?.file?.name }}\\n                        </div>\\n                        <div class=\\\"col-4 text-right\\\">\\n                            <span class=\\\"fas fa-trash-alt text-danger file-remove\\\" (click)=\\\"onRemoveFile(file)\\\"></span>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div *ngIf=\\\"uploadedFiles.invalid && (uploadedFiles.dirty || uploadedFiles.touched)\\\" class=\\\"alert alert-danger col-12\\\">\\n                    <div *ngIf=\\\"uploadedFiles.errors.required\\\">\\n                        Bitte geben Sie ein (gültiges) Foto ein!\\n                    </div>\\n                    <div *ngIf=\\\"uploadedFiles.errors.forbiddenFile\\\">\\n                        Bitte laden Sie ein gültiges Dateiformat hoch\\n                    </div>\\n                    <div *ngIf=\\\"!uploadedFiles.errors.required && uploadedFiles.errors.fileRequired\\\">\\n                        Bitte geben Sie ein (gültiges) Foto ein!\\n                    </div>\\n                </div>\\n            </div>\\n            <!-- End file upload field -->\\n            <h4>Sonderwünsche:</h4>\\n            <p class=\\\"mb-0\\\">Sollten Sie besondere Bearbeitungswünsche für die hochgeladenen Aufnahmen haben, erläutern Sie diese bitte möglichst detailiert in dem Kommentarfeld für den Dienstleister.</p>\\n            <a href=\\\"../../assets/images/formulierungshilfe.svg\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" class=\\\"my-link\\\">Formulierungshilfe</a>\\n\\n            <!-- Decription for vstaging -->\\n            <div class=\\\"form-group mt-4\\\">\\n                <p class=\\\"mb-0\\\">Kommentar für das virtuelle Staging:</p>\\n                <!-- placeholder for package 6 -->\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"{{package.description_placeholder}}\\\" formControlName=\\\"description\\\">\\n            </div>\\n        </form>\\n    </div>\\n</div>\\n<!-- Show price -->\\n<div class=\\\"row mb-2\\\">\\n    <div class=\\\"col-4\\\"></div>\\n    <div class=\\\"col-8\\\">\\n        <hr />\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-8\\\">\\n                <h4>Summe</h4>\\n            </div>\\n            <div class=\\\"col-4 text-right font-sz-20\\\"> € {{calculatePrice()}} </div>\\n        </div>\\n    </div>\\n</div>\\n\"","import { Component, OnInit, AfterViewInit, Output, EventEmitter, Input, ViewChild, ElementRef } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Package } from '@app/models/package';\nimport { FileUploader } from 'ng2-file-upload';\nimport { forbiddenFileValidator, fileRequiredValidator } from '@app/modals/package-editor/package-editor.component';\nimport * as accounting from 'accounting';\nimport * as _ from 'underscore';\n\n@Component({\n  selector: 'app-virtual-staging-service',\n  templateUrl: './virtual-staging-service.component.html',\n  styleUrls: ['./virtual-staging-service.component.css']\n})\nexport class VirtualStagingServiceComponent implements OnInit, AfterViewInit {\n  @Output() onFormChange = new EventEmitter();\n  @Input(\"package\") package: Package;\n  @ViewChild(\"uploadFileElem\") uploadFileElem: ElementRef<any>;\n  public uploader: FileUploader = new FileUploader({});\n  filesElem: ElementRef;\n  allowedFileExt = ['jpg', 'jpeg', 'png', 'JPG']; // allowed file extensions for drone photos\n  oldValidate: boolean;\n  vstagingForm: FormGroup;\n\n  constructor(private fb: FormBuilder) {\n    this.vstagingForm = this.fb.group({\n      description: [''],\n      uploadedFiles: ['', [\n        Validators.required,\n        forbiddenFileValidator(this.allowedFileExt, this.filesElem),\n        fileRequiredValidator(this.uploader.queue)\n      ]]\n    });\n  }\n\n  ngOnInit() {\n    this.package.form = this.vstagingForm;\n    this.package[\"validate\"] = true;\n    this.oldValidate = this.package[\"validate\"];\n  }\n\n  ngAfterViewInit() {\n    this.filesElem = this.uploadFileElem.nativeElement;\n    this.vstagingForm.valueChanges.subscribe(() => {\n      let formValues = {};\n      let fileList = [];\n      // handle file uploads\n      Object.keys(this.vstagingForm.controls).forEach(control => {\n        if (control === 'uploadedFiles') {\n          fileList = [];\n          this.uploader.queue.forEach(entry => fileList.push(entry.file.rawFile));\n          formValues[control] = fileList;\n        }\n      });\n      formValues['description'] = this.vstagingForm.value.description;\n      formValues['packageNum'] = this.package['package_key'];\n      this.onFormChange.emit(formValues);\n    });\n  }\n\n  onChange(): void {\n    this.package.form = this.vstagingForm;\n    const fileListLength = this.uploader.queue.length;\n    let lastFile = this.uploader.queue[fileListLength - 1];\n    for (let i = 0; i < fileListLength - 1; i++) {\n      if (lastFile.file.name === this.uploader.queue[i].file.name && lastFile.file.size === this.uploader.queue[i].file.size) {\n        lastFile.remove();\n      }\n    }\n    // fix for Internet Explorer. Manually set the file value\n    if (this.uploader.queue.length > 0 && _.isEmpty(this.vstagingForm.get('uploadedFiles').value)) {\n      this.vstagingForm.controls['uploadedFiles'].setValue(this.uploader.queue[0].file.name);\n    }\n    this.vstagingForm.controls.uploadedFiles.updateValueAndValidity();\n  }\n\n  ngDoCheck(): void {\n    if (this.package[\"validate\"] != this.oldValidate) {\n      Object.keys(this.vstagingForm.controls).forEach(control => {\n        this.vstagingForm.controls[control].markAsTouched();\n      });\n    }\n  }\n\n  onRemoveFile(file, type?: string): void {\n    file.remove();\n    this.vstagingForm.controls.uploadedFiles.updateValueAndValidity();\n  }\n\n  get uploadedFiles() {\n    return this.vstagingForm.get('uploadedFiles');\n  }\n  get description() {\n    return this.vstagingForm.get('description');\n  }\n\n  calculatePrice() {\n    const unformated_number = accounting.unformat(this.package.price, ',');\n    const total_price = unformated_number * this.uploader.queue.length;\n    this.package['total_price'] = accounting.formatMoney(total_price, '', 2, '.', ',');\n    // return formatted price\n    return this.package['total_price'];\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ZpcnR1YWwtc3RhZ2luZy1zdWJvcmRlci1vdmVydmlldy92aXJ0dWFsLXN0YWdpbmctc3Vib3JkZXItb3ZlcnZpZXcuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div class=\\\"row\\\">\\n    <div class=\\\"col-6\\\">\\n      <p><strong>Kommentar für die Nachbearbeitung: </strong> <span\\n          *ngIf=\\\"os.currentSuborder.description === ''\\\">Nicht\\n          angegeben</span>{{ os.currentSuborder.description }}</p>\\n  \\n    </div>\\n  </div>\\n\\n  <div  class=\\\"row\\\">\\n    <div class=\\\"col-6\\\">\\n      <h5 class=\\\"mb-2\\\"> Original</h5>\\n    </div>\\n  </div>\\n  <!-- File upload component to show uplaoded photos without staging-->\\n  <app-file-upload\\n    [parentId]=\\\"os.currentSuborder.id \\\"\\n    [allowedFileExt]=\\\"allowedFileExt\\\" [parentType]=\\\"'suborders'\\\" [readOnly]=\\\"true\\\"\\n    [subCollectionName]=\\\"'originalPhotos'\\\" [parent]=\\\"this\\\">\\n  </app-file-upload>\\n  <hr />\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-6\\\">\\n      <h5 class=\\\"mb-2\\\">Staged</h5>\\n    </div>\\n  </div>\\n  <!-- File upload component to upload/show photos with staging-->\\n  <app-file-upload [parentId]=\\\"os.currentSuborder.id\\\"\\n    [allowedFileExt]=\\\"allowedFileExt\\\" [parentType]=\\\"'suborders'\\\" [subFolderName]=\\\"'stagedPhotos/'\\\"\\n    (setSubmitDisabled)=\\\"setSubmitDisabledHanlder($event)\\\" [subCollectionName]=\\\"'stagedPhotos'\\\" [parent]=\\\"this\\\">\\n  </app-file-upload>\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { OrdersService } from '@app/_services/orders.service';\nimport { AuthService } from '@app/auth/auth.service';\n\n@Component({\n  selector: 'app-virtual-staging-suborder-overview',\n  templateUrl: './virtual-staging-suborder-overview.component.html',\n  styleUrls: ['./virtual-staging-suborder-overview.component.css']\n})\nexport class VirtualStagingSuborderOverviewComponent implements OnInit {\n  allowedFileExt = ['jpg', 'jpeg', 'png', 'JPG']; // allowed file extensions for virtual staging photos\n  @Output() setSubmitDisabled = new EventEmitter<boolean>();\n\n  constructor(\n    public os: OrdersService,\n    public auth: AuthService) { }\n\n  ngOnInit() {\n  }\n  /**\n   * controls disabling of attachment deletion\n   */\n  deleteAttachmentDisabled() {\n    if (this.os.currentSuborder.status === 'uploaded' || this.os.currentSuborder.status === 'completed'\n      || this.auth.role === 'Kunde'\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * controls disabling of attachment upload\n   */\n  isUploadDisabled() {\n    if (this.os.currentSuborder.status === 'uploaded' || this.os.currentSuborder.status === 'completed'\n      || this.auth.role === 'Kunde'\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  setSubmitDisabledHanlder(value: boolean) {\n    this.setSubmitDisabled.emit(value);\n  }\n}\n","module.exports = \".details-list .row {\\n  padding: 5px 0 5px 0;\\n}\\n\\n.details-list .row:nth-child(even) {\\n  background-color: #f6fafd;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlzdWFsaXNhdGlvbi1zZXJ2aWNlLW92ZXJ2aWV3L3Zpc3VhbGlzYXRpb24tc2VydmljZS1vdmVydmlldy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCIiwiZmlsZSI6InNyYy9hcHAvdmlzdWFsaXNhdGlvbi1zZXJ2aWNlLW92ZXJ2aWV3L3Zpc3VhbGlzYXRpb24tc2VydmljZS1vdmVydmlldy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmRldGFpbHMtbGlzdCAucm93IHtcbiAgcGFkZGluZzogNXB4IDAgNXB4IDA7XG59XG5cbi5kZXRhaWxzLWxpc3QgLnJvdzpudGgtY2hpbGQoZXZlbikge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZmYWZkO1xufSJdfQ== */\"","module.exports = \"<div class=\\\"card-body\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-12 col-lg-2\\\">\\n      <div class=\\\"row plan\\\">\\n        <div *ngIf=\\\"subOrderDetails.selectedPackage == 'Innenvisualisierung'\\\">\\n          <img class=\\\"card-img-top\\\" src=\\\"../../assets/images/visualisation/indoor.jpg\\\">\\n        </div>\\n        <div *ngIf=\\\"subOrderDetails.selectedPackage == 'Außenvisualisierung'\\\">\\n          <img class=\\\"card-img-top\\\" src=\\\"../../assets/images/visualisation/outdoor.jpeg\\\">\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"col-1\\\"></div>\\n    <div class=\\\"col-12 col-md-5 details-list\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"pt-2\\\">\\n          <h5>Spezifikationen - {{subOrderDetails.selectedPackage}}\\n          </h5>\\n        </div>\\n      </div>\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-6\\\">\\n          <strong>Ausgabeformat</strong>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n          <span>{{subOrderDetails.outputFormat}}</span>\\n        </div>\\n      </div>\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-6\\\">\\n          <strong>Qualitätsstufe</strong>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n          <span>{{subOrderDetails.quality}}</span>\\n        </div>\\n      </div>\\n      <div *ngIf=\\\"subOrderDetails.outputFormat == 'Rundflug'\\\" class=\\\"row\\\">\\n        <div class=\\\"col-6\\\">\\n          <strong>Videolänge</strong>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n          <span>{{subOrderDetails.length}}</span>\\n        </div>\\n      </div>\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-6\\\">\\n          <strong>Anzahl der\\n            <span *ngIf=\\\"subOrderDetails.outputFormat != 'Rundflug'\\\">Bilder</span>\\n            <span *ngIf=\\\"subOrderDetails.outputFormat == 'Rundflug'\\\">Räume</span>\\n          </strong>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n          <span>{{ subOrderDetails.numPhotos }}</span>\\n        </div>\\n      </div>\\n      <div *ngIf=\\\"subOrderDetails.selectedPackage == 'Außenvisualisierung'\\\" class=\\\"row\\\">\\n        <div class=\\\"col-6\\\">\\n          <strong>Anzahl der Wohneinheiten</strong>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n          <span>{{subOrderDetails.apartments}}</span>\\n        </div>\\n      </div>\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-6\\\">\\n          <strong>Kommentare</strong>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n          {{ subOrderDetails.description || '-' }}\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <!-- File upload component to upload/show photos for visualisation-->\\n  <app-file-upload\\n    *ngIf=\\\"subOrderDetails.status == 'processing' || subOrderDetails.status == 'uploaded' || subOrderDetails.status == 'completed'\\\"\\n    [parentId]=\\\"subOrderDetails.id\\\" [allowedFileExt]=\\\"allowedFileExt\\\" [parentType]=\\\"'suborders'\\\"\\n    [subFolderName]=\\\"'visualisation/'\\\" (setSubmitDisabled)=\\\"setSubmitDisabledHandler($event)\\\"\\n    [subCollectionName]=\\\"'visualisation'\\\" [parent]=\\\"this\\\">\\n  </app-file-upload>\\n\\n</div>\\n<div *ngIf=\\\"this.auth.role === 'Kunde'\\\">\\n  <div *ngIf=\\\"subOrderDetails.selectedPackage == 'Innenvisualisierung'\\\">\\n    <a class=\\\"typeform-share button\\\" href=\\\"https://vietbui815905.typeform.com/to/CYYDf2\\\" data-mode=\\\"popup\\\"\\n      style=\\\"display:inline-block;text-decoration:none;background-color:#2CB3A0;color:white;cursor:pointer;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:50px;text-align:center;margin:0;height:50px;padding:0px 33px;border-radius:7px;max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:bold;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;\\\"\\n      target=\\\"_blank\\\">Bestelldetails eingeben </a>\\n    <script> (function () { var qs, js, q, s, d = document, gi = d.getElementById, ce = d.createElement, gt = d.getElementsByTagName, id = \\\"typef_orm_share\\\", b = \\\"https://embed.typeform.com/\\\"; if (!gi.call(d, id)) { js = ce.call(d, \\\"script\\\"); js.id = id; js.src = b + \\\"embed.js\\\"; q = gt.call(d, \\\"script\\\")[0]; q.parentNode.insertBefore(js, q) } })() </script>\\n    <script> (function () { var qs, js, q, s, d = document, gi = d.getElementById, ce = d.createElement, gt = d.getElementsByTagName, id = \\\"typef_orm_share\\\", b = \\\"https://embed.typeform.com/\\\"; if (!gi.call(d, id)) { js = ce.call(d, \\\"script\\\"); js.id = id; js.src = b + \\\"embed.js\\\"; q = gt.call(d, \\\"script\\\")[0]; q.parentNode.insertBefore(js, q) } })() </script>\\n  </div>\\n  <div *ngIf=\\\"subOrderDetails.selectedPackage == 'Außenvisualisierung'\\\">\\n    <a class=\\\"typeform-share button\\\" href=\\\"https://vietbui815905.typeform.com/to/IIejon\\\" data-mode=\\\"popup\\\"\\n      style=\\\"display:inline-block;text-decoration:none;background-color:#2CB3A0;color:white;cursor:pointer;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:50px;text-align:center;margin:0;height:50px;padding:0px 33px;border-radius:7px;max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:bold;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;\\\"\\n      target=\\\"_blank\\\">Bestelldetails eingeben </a>\\n    <script> (function () { var qs, js, q, s, d = document, gi = d.getElementById, ce = d.createElement, gt = d.getElementsByTagName, id = \\\"typef_orm_share\\\", b = \\\"https://embed.typeform.com/\\\"; if (!gi.call(d, id)) { js = ce.call(d, \\\"script\\\"); js.id = id; js.src = b + \\\"embed.js\\\"; q = gt.call(d, \\\"script\\\")[0]; q.parentNode.insertBefore(js, q) } })() </script>\\n    <script> (function () { var qs, js, q, s, d = document, gi = d.getElementById, ce = d.createElement, gt = d.getElementsByTagName, id = \\\"typef_orm_share\\\", b = \\\"https://embed.typeform.com/\\\"; if (!gi.call(d, id)) { js = ce.call(d, \\\"script\\\"); js.id = id; js.src = b + \\\"embed.js\\\"; q = gt.call(d, \\\"script\\\")[0]; q.parentNode.insertBefore(js, q) } })() </script>\\n  </div>\\n</div>\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { OrdersService } from '@app/_services/orders.service';\nimport { AuthService } from '@app/auth/auth.service';\n\n@Component({\n  selector: 'app-visualisation-service-overview',\n  templateUrl: './visualisation-service-overview.component.html',\n  styleUrls: ['./visualisation-service-overview.component.css']\n})\nexport class VisualisationServiceOverviewComponent implements OnInit {\n  @Output() setSubmitDisabled = new EventEmitter<boolean>();\n\n  subOrderDetails: any;\n  allowedFileExt = ['jpg', 'jpeg', 'png', 'JPG']; // allowed file extensions for retouching photos\n\n  constructor(\n    public orderService: OrdersService,\n    public auth: AuthService) {\n    this.subOrderDetails = this.orderService.currentSuborder;\n  }\n\n  ngOnInit() {\n  }\n\n  /**\n   * controls disabling of attachment deletion\n   */\n  deleteAttachmentDisabled() {\n    if (this.subOrderDetails.status === 'uploaded' || this.subOrderDetails.status === 'completed'\n      || this.auth.role === 'Kunde'\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * controls disabling of attachment upload\n   */\n  isUploadDisabled() {\n    if (this.subOrderDetails.status === 'uploaded' || this.subOrderDetails.status === 'completed'\n      || this.auth.role === 'Kunde'\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  setSubmitDisabledHandler(value: boolean) {\n    this.setSubmitDisabled.emit(value);\n  }\n}\n","module.exports = \"label, :host ::ng-deep .mat-checkbox-layout {\\n  color: #000;\\n}\\n\\n.plan img {\\n  position: absolute;\\n  left: 0;\\n  width: 80%;\\n  margin-left: 3vh;\\n}\\n\\n/* .plan img:first-child {\\n  position: relative;\\n  padding: 0;\\n  height: 50%;\\n} */\\n\\n.plan {\\n  margin-top: 30px;\\n}\\n\\n.style-card .img-thumb {\\n  height: 200px;\\n}\\n\\n:host ::ng-deep .carousel-row {\\n  padding: 0 15px 0 15px;\\n}\\n\\n:host ::ng-deep .carousel-indicators {\\n  bottom: -30px !important;\\n}\\n\\n:host ::ng-deep .carousel-indicators li {\\n  background-color: rgba(0, 0, 0, 0.5) !important;\\n  height: 6px;\\n}\\n\\n:host ::ng-deep .carousel-indicators li.active {\\n  background-color: #2cb3a0 !important;\\n}\\n\\n:host ::ng-deep .carousel-item .style-card {\\n  cursor: pointer;\\n}\\n\\n:focus {\\n  outline: none;\\n}\\n\\n:host ::ng-deep .carousel-item .style-card {\\n  border: 1px solid rgba(0, 0, 0, 0.1);\\n}\\n\\n:host ::ng-deep .carousel-item .style-card.active {\\n  border: 3px solid #2cb3a0;\\n  color: #000 !important;\\n}\\n\\n:host ::ng-deep .carousel-item .style-card .mat-card-content {\\n  text-align: center;\\n  margin-top: 10px;\\n  font-size: 12px;\\n}\\n\\n.font-300 {\\n  font-weight: 300;\\n  font-size: large;\\n}\\n\\n.font-200 {\\n  font-weight: 200;\\n  font-size: small;\\n}\\n\\n.text-primary {\\n  color: #2cb3a0 !important;\\n}\\n\\n.numberText {\\n  text-align: center;\\n}\\n\\n.font-sz-20 {\\n  font-size: 20px;\\n}\\n\\n:host ::ng-deep .mat-checkbox:not(.mat-checkbox-disabled).mat-primary .mat-checkbox-ripple .mat-ripple-element, :host ::ng-deep .mat-checkbox-checked.mat-primary .mat-checkbox-background {\\n  background-color: #2cb3a0 !important;\\n}\\n\\n.fileName {\\n  color: #FFF;\\n  outline: none;\\n}\\n\\n.fileContainer {\\n  overflow: hidden;\\n  position: relative;\\n}\\n\\n.fileContainer [type=file] {\\n  cursor: inherit;\\n  display: block;\\n  font-size: 999px;\\n  filter: alpha(opacity=0);\\n  min-height: 100%;\\n  min-width: 100%;\\n  opacity: 0;\\n  position: absolute;\\n  right: 0;\\n  text-align: right;\\n  top: 0;\\n}\\n\\n.file-list .file-entry {\\n  border-radius: 5%;\\n  padding: 5px 0 5px 0;\\n}\\n\\n.file-list .file-entry:nth-child(odd) {\\n  background-color: #e5f9f6;\\n}\\n\\n.file-list .file-entry .file-name {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.file-list {\\n  height: 120px;\\n  overflow-y: auto;\\n}\\n\\n.file-list .file-entry .file-remove {\\n  cursor: pointer;\\n}\\n\\n.uploadArea {\\n  margin: 0px;\\n}\\n\\n:host ::ng-deep .carousel-control-next, :host ::ng-deep .carousel-control-prev {\\n  width: 4% !important;\\n  background-color: #2cb3a0;\\n  height: 20%;\\n  top: 37%;\\n}\\n\\n.card-package {\\n  padding: 10px;\\n}\\n\\n.margin {\\n  margin-bottom: 10px;\\n  margin-left: 0px;\\n}\\n\\n.buttonUpload {\\n  padding: 0px;\\n}\\n\\n.checkbox_align {\\n  text-align: center;\\n  /* center checkbox horizontally */\\n  margin-top: 5px;\\n}\\n\\n.no_padding {\\n  padding: 0px;\\n}\\n\\n.vertical_align {\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\n.card-header {\\n  border-radius: 5px;\\n  background: rgba(44, 179, 160, 0.5);\\n  padding: 7px 7px;\\n}\\n\\n.form-control.ng-invalid {\\n  background-size: 100% 100%, 100% 100%;\\n}\\n\\nlabel {\\n  color: #50535b;\\n}\\n\\n.package-image {\\n  width: 150px;\\n  height: 150px;\\n}\\n\\nul li {\\n  padding: 0;\\n  border: none;\\n  color: #3C4858;\\n}\\n\\n.package {\\n  cursor: pointer;\\n  border: 2px solid #FFF;\\n  border-radius: 6px;\\n  margin: 5px 0px;\\n}\\n\\n.selected-service, .selected-package {\\n  border: 2px solid #22bca4;\\n}\\n\\n.cards {\\n  height: 100%;\\n}\\n\\n.package-cards {\\n  height: 87% !important;\\n}\\n\\n.cards .card {\\n  height: 90%;\\n}\\n\\n.cards .selected-tick {\\n  position: absolute;\\n  top: 6px;\\n  right: 17px;\\n}\\n\\n.cards .selected-tick::before, .cards .selected-tick::after {\\n  content: '';\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  border-color: transparent;\\n  border-style: solid;\\n}\\n\\n.cards .selected-tick::after {\\n  border-width: 1.35em;\\n  border-right-color: #22bca4;\\n  border-top-color: #22bca4;\\n}\\n\\n.cards .tick-icon {\\n  position: absolute;\\n  top: 10px;\\n  right: 23px;\\n  color: #FFF;\\n}\\n\\n.not-avialable {\\n  background: rgba(222, 222, 222, 0.5);\\n  border: 2px solid #BBB;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlzdWFsaXNhdGlvbi1zZXJ2aWNlL3Zpc3VhbGlzYXRpb24tc2VydmljZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBVztBQUNiOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLE9BQU87RUFDUCxVQUFVO0VBQ1YsZ0JBQWdCO0FBQ2xCOztBQUVBOzs7O0dBSUc7O0FBRUg7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSx3QkFBd0I7QUFDMUI7O0FBRUE7RUFDRSwrQ0FBK0M7RUFDL0MsV0FBVztBQUNiOztBQUVBO0VBQ0Usb0NBQW9DO0FBQ3RDOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTtFQUNFLG9DQUFvQztBQUN0Qzs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxvQ0FBb0M7QUFDdEM7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsYUFBYTtBQUNmOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixjQUFjO0VBQ2QsZ0JBQWdCO0VBQ2hCLHdCQUF3QjtFQUN4QixnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLFVBQVU7RUFDVixrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLGlCQUFpQjtFQUNqQixNQUFNO0FBQ1I7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGdCQUFnQjtFQUNoQix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLFdBQVc7QUFDYjs7QUFFQTtFQUNFLG9CQUFvQjtFQUNwQix5QkFBeUI7RUFDekIsV0FBVztFQUNYLFFBQVE7QUFDVjs7QUFFQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsaUNBQWlDO0VBQ2pDLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSx5QkFBbUI7VUFBbkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLG1DQUFtQztFQUNuQyxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxxQ0FBcUM7QUFDdkM7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGFBQWE7QUFDZjs7QUFFQTtFQUNFLFVBQVU7RUFDVixZQUFZO0VBQ1osY0FBYztBQUNoQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixzQkFBc0I7RUFDdEIsa0JBQWtCO0VBQ2xCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLFdBQVc7QUFDYjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLFFBQVE7RUFDUix5QkFBeUI7RUFDekIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0Usb0JBQW9CO0VBQ3BCLDJCQUEyQjtFQUMzQix5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsU0FBUztFQUNULFdBQVc7RUFDWCxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxvQ0FBb0M7RUFDcEMsc0JBQXNCO0FBQ3hCIiwiZmlsZSI6InNyYy9hcHAvdmlzdWFsaXNhdGlvbi1zZXJ2aWNlL3Zpc3VhbGlzYXRpb24tc2VydmljZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsibGFiZWwsIDpob3N0IDo6bmctZGVlcCAubWF0LWNoZWNrYm94LWxheW91dCB7XG4gIGNvbG9yOiAjMDAwO1xufVxuXG4ucGxhbiBpbWcge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiA4MCU7XG4gIG1hcmdpbi1sZWZ0OiAzdmg7XG59XG5cbi8qIC5wbGFuIGltZzpmaXJzdC1jaGlsZCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgcGFkZGluZzogMDtcbiAgaGVpZ2h0OiA1MCU7XG59ICovXG5cbi5wbGFuIHtcbiAgbWFyZ2luLXRvcDogMzBweDtcbn1cblxuLnN0eWxlLWNhcmQgLmltZy10aHVtYiB7XG4gIGhlaWdodDogMjAwcHg7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuY2Fyb3VzZWwtcm93IHtcbiAgcGFkZGluZzogMCAxNXB4IDAgMTVweDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5jYXJvdXNlbC1pbmRpY2F0b3JzIHtcbiAgYm90dG9tOiAtMzBweCAhaW1wb3J0YW50O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmNhcm91c2VsLWluZGljYXRvcnMgbGkge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSkgIWltcG9ydGFudDtcbiAgaGVpZ2h0OiA2cHg7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuY2Fyb3VzZWwtaW5kaWNhdG9ycyBsaS5hY3RpdmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmNiM2EwICFpbXBvcnRhbnQ7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuY2Fyb3VzZWwtaXRlbSAuc3R5bGUtY2FyZCB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuOmZvY3VzIHtcbiAgb3V0bGluZTogbm9uZTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5jYXJvdXNlbC1pdGVtIC5zdHlsZS1jYXJkIHtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmNhcm91c2VsLWl0ZW0gLnN0eWxlLWNhcmQuYWN0aXZlIHtcbiAgYm9yZGVyOiAzcHggc29saWQgIzJjYjNhMDtcbiAgY29sb3I6ICMwMDAgIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5jYXJvdXNlbC1pdGVtIC5zdHlsZS1jYXJkIC5tYXQtY2FyZC1jb250ZW50IHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuICBmb250LXNpemU6IDEycHg7XG59XG5cbi5mb250LTMwMCB7XG4gIGZvbnQtd2VpZ2h0OiAzMDA7XG4gIGZvbnQtc2l6ZTogbGFyZ2U7XG59XG5cbi5mb250LTIwMCB7XG4gIGZvbnQtd2VpZ2h0OiAyMDA7XG4gIGZvbnQtc2l6ZTogc21hbGw7XG59XG5cbi50ZXh0LXByaW1hcnkge1xuICBjb2xvcjogIzJjYjNhMCAhaW1wb3J0YW50O1xufVxuXG4ubnVtYmVyVGV4dCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmZvbnQtc3otMjAge1xuICBmb250LXNpemU6IDIwcHg7XG59XG5cbjpob3N0IDo6bmctZGVlcCAubWF0LWNoZWNrYm94Om5vdCgubWF0LWNoZWNrYm94LWRpc2FibGVkKS5tYXQtcHJpbWFyeSAubWF0LWNoZWNrYm94LXJpcHBsZSAubWF0LXJpcHBsZS1lbGVtZW50LCA6aG9zdCA6Om5nLWRlZXAgLm1hdC1jaGVja2JveC1jaGVja2VkLm1hdC1wcmltYXJ5IC5tYXQtY2hlY2tib3gtYmFja2dyb3VuZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMyY2IzYTAgIWltcG9ydGFudDtcbn1cblxuLmZpbGVOYW1lIHtcbiAgY29sb3I6ICNGRkY7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cbi5maWxlQ29udGFpbmVyIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uZmlsZUNvbnRhaW5lciBbdHlwZT1maWxlXSB7XG4gIGN1cnNvcjogaW5oZXJpdDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtc2l6ZTogOTk5cHg7XG4gIGZpbHRlcjogYWxwaGEob3BhY2l0eT0wKTtcbiAgbWluLWhlaWdodDogMTAwJTtcbiAgbWluLXdpZHRoOiAxMDAlO1xuICBvcGFjaXR5OiAwO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgdG9wOiAwO1xufVxuXG4uZmlsZS1saXN0IC5maWxlLWVudHJ5IHtcbiAgYm9yZGVyLXJhZGl1czogNSU7XG4gIHBhZGRpbmc6IDVweCAwIDVweCAwO1xufVxuXG4uZmlsZS1saXN0IC5maWxlLWVudHJ5Om50aC1jaGlsZChvZGQpIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U1ZjlmNjtcbn1cblxuLmZpbGUtbGlzdCAuZmlsZS1lbnRyeSAuZmlsZS1uYW1lIHtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG59XG5cbi5maWxlLWxpc3Qge1xuICBoZWlnaHQ6IDEyMHB4O1xuICBvdmVyZmxvdy15OiBhdXRvO1xufVxuXG4uZmlsZS1saXN0IC5maWxlLWVudHJ5IC5maWxlLXJlbW92ZSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLnVwbG9hZEFyZWEge1xuICBtYXJnaW46IDBweDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5jYXJvdXNlbC1jb250cm9sLW5leHQsIDpob3N0IDo6bmctZGVlcCAuY2Fyb3VzZWwtY29udHJvbC1wcmV2IHtcbiAgd2lkdGg6IDQlICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtY29sb3I6ICMyY2IzYTA7XG4gIGhlaWdodDogMjAlO1xuICB0b3A6IDM3JTtcbn1cblxuLmNhcmQtcGFja2FnZSB7XG4gIHBhZGRpbmc6IDEwcHg7XG59XG5cbi5tYXJnaW4ge1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBtYXJnaW4tbGVmdDogMHB4O1xufVxuXG4uYnV0dG9uVXBsb2FkIHtcbiAgcGFkZGluZzogMHB4O1xufVxuXG4uY2hlY2tib3hfYWxpZ24ge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIC8qIGNlbnRlciBjaGVja2JveCBob3Jpem9udGFsbHkgKi9cbiAgbWFyZ2luLXRvcDogNXB4O1xufVxuXG4ubm9fcGFkZGluZyB7XG4gIHBhZGRpbmc6IDBweDtcbn1cblxuLnZlcnRpY2FsX2FsaWduIHtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLmNhcmQtaGVhZGVyIHtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBiYWNrZ3JvdW5kOiByZ2JhKDQ0LCAxNzksIDE2MCwgMC41KTtcbiAgcGFkZGluZzogN3B4IDdweDtcbn1cblxuLmZvcm0tY29udHJvbC5uZy1pbnZhbGlkIHtcbiAgYmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCUsIDEwMCUgMTAwJTtcbn1cblxubGFiZWwge1xuICBjb2xvcjogIzUwNTM1Yjtcbn1cblxuLnBhY2thZ2UtaW1hZ2Uge1xuICB3aWR0aDogMTUwcHg7XG4gIGhlaWdodDogMTUwcHg7XG59XG5cbnVsIGxpIHtcbiAgcGFkZGluZzogMDtcbiAgYm9yZGVyOiBub25lO1xuICBjb2xvcjogIzNDNDg1ODtcbn1cblxuLnBhY2thZ2Uge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJvcmRlcjogMnB4IHNvbGlkICNGRkY7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgbWFyZ2luOiA1cHggMHB4O1xufVxuXG4uc2VsZWN0ZWQtc2VydmljZSwgLnNlbGVjdGVkLXBhY2thZ2Uge1xuICBib3JkZXI6IDJweCBzb2xpZCAjMjJiY2E0O1xufVxuXG4uY2FyZHMge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5wYWNrYWdlLWNhcmRzIHtcbiAgaGVpZ2h0OiA4NyUgIWltcG9ydGFudDtcbn1cblxuLmNhcmRzIC5jYXJkIHtcbiAgaGVpZ2h0OiA5MCU7XG59XG5cbi5jYXJkcyAuc2VsZWN0ZWQtdGljayB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA2cHg7XG4gIHJpZ2h0OiAxN3B4O1xufVxuXG4uY2FyZHMgLnNlbGVjdGVkLXRpY2s6OmJlZm9yZSwgLmNhcmRzIC5zZWxlY3RlZC10aWNrOjphZnRlciB7XG4gIGNvbnRlbnQ6ICcnO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci1zdHlsZTogc29saWQ7XG59XG5cbi5jYXJkcyAuc2VsZWN0ZWQtdGljazo6YWZ0ZXIge1xuICBib3JkZXItd2lkdGg6IDEuMzVlbTtcbiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjMjJiY2E0O1xuICBib3JkZXItdG9wLWNvbG9yOiAjMjJiY2E0O1xufVxuXG4uY2FyZHMgLnRpY2staWNvbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAxMHB4O1xuICByaWdodDogMjNweDtcbiAgY29sb3I6ICNGRkY7XG59XG5cbi5ub3QtYXZpYWxhYmxlIHtcbiAgYmFja2dyb3VuZDogcmdiYSgyMjIsIDIyMiwgMjIyLCAwLjUpO1xuICBib3JkZXI6IDJweCBzb2xpZCAjQkJCO1xufSJdfQ== */\"","module.exports = \"<div class=\\\"row\\\">\\n  <div class=\\\"col-12 col-lg-4\\\">\\n    <div class=\\\"row plan\\\">\\n      <div *ngIf=\\\"package.name == 'Innenvisualisierung'\\\">\\n        <img class=\\\"card-img-top\\\" src=\\\"../../assets/images/visualisation/indoor.jpg\\\">\\n        <img *ngIf=\\\"quality == 1\\\" class=\\\"card-img-top\\\" src=\\\"../../assets/images/visualisation/indoor_basic.jpg\\\">\\n        <img *ngIf=\\\"quality == 2\\\" class=\\\"card-img-top\\\" src=\\\"../../assets/images/visualisation/indoor_standard.jpg\\\">\\n        <img *ngIf=\\\"quality == 3\\\" class=\\\"card-img-top\\\" src=\\\"../../assets/images/visualisation/indoor_high_quality.jpg\\\">\\n        <img *ngIf=\\\"quality == 4\\\" class=\\\"card-img-top\\\" src=\\\"../../assets/images/visualisation/indoor_premium.jpg\\\">\\n      </div>\\n      <div *ngIf=\\\"package.name == 'Außenvisualisierung'\\\">\\n        <img class=\\\"card-img-top\\\" src=\\\"../../assets/images/visualisation/outdoor.jpeg\\\">\\n        <img *ngIf=\\\"quality == 1\\\" class=\\\"card-img-top\\\" src=\\\"../../assets/images/visualisation/outdoor_basic.jpeg\\\">\\n        <img *ngIf=\\\"quality == 2\\\" class=\\\"card-img-top\\\" src=\\\"../../assets/images/visualisation/outdoor_standard.jpeg\\\">\\n        <img *ngIf=\\\"quality == 3\\\" class=\\\"card-img-top\\\"\\n          src=\\\"../../assets/images/visualisation/outdoor_high_quality.jpeg\\\">\\n        <img *ngIf=\\\"quality == 4\\\" class=\\\"card-img-top\\\" src=\\\"../../assets/images/visualisation/outdoor_premium.jpeg\\\">\\n      </div>\\n    </div>\\n  </div>\\n  <div style=\\\"clear: both;\\\"></div>\\n  <div class=\\\"col-12 col-lg-8 scroll-section\\\">\\n    <form [formGroup]=\\\"visualisationForm\\\" class=\\\"\\\">\\n      <div class=\\\"card cgrid margin\\\">\\n        <div class=\\\"card-header\\\">\\n          <a class=\\\"my-link clickable\\\" (click)=\\\"active1 = !active1\\\" [attr.aria-expanded]=\\\"active1\\\"\\n            aria-controls=\\\"collapse1\\\">\\n            <h5 class=\\\"card-title text-white text-left wsn row\\\">\\n              <span class=\\\"col-8\\\">\\n                <span class=\\\"fas text-left mr-2\\\" [ngClass]=\\\"{\\n                    'fa-chevron-right': !active1,\\n                    'fa-chevron-down': active1\\n                  }\\\">\\n                </span> Produktdetails anzeigen\\n              </span>\\n            </h5>\\n          </a>\\n        </div>\\n        <div [collapse]=\\\"!active1\\\">\\n          <div class=\\\"card-body\\\">\\n            <ul class=\\\"list-unstyled font-500\\\">\\n              <li *ngFor=\\\"let item of package.package_contents\\\" class=\\\"text-truncate\\\"> ✓ {{item}}</li>\\n            </ul>\\n          </div>\\n        </div>\\n      </div>\\n      <!-- ############ -->\\n      <div class=\\\"row vertical_align\\\">\\n        <div class=\\\"col-12 col-md-6 pt-3 pt-md-0\\\">\\n          <div class=\\\"font-300\\\">\\n            Wählen Sie das Ausgabeformat\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"row vertical_align\\\">\\n        <div class=\\\"cards col-4\\\" (click)=\\\"packageSelectHandler('outputFormat', 1, $event)\\\">\\n          <div class=\\\"card card-pricing card-raised package\\\" [ngClass]=\\\"{'selected-service': outputFormat==1}\\\">\\n            <div class=\\\"card-body\\\">\\n              <h4 class=\\\"card-title\\\">\\n                Standbild\\n              </h4>\\n              <!-- <div *ngIf=\\\"(package.name == 'Außenvisualisierung')\\\">✓ verfügbar</div> -->\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"outputFormat == 1\\\" class=\\\"selected-tick\\\">\\n          </div>\\n          <i class=\\\"fa fa-check tick-icon\\\"></i>\\n        </div>\\n        <div class=\\\"cards col-4\\\" (click)=\\\"packageSelectHandler('outputFormat', 2, $event)\\\">\\n          <div class=\\\"card card-pricing card-raised package\\\"\\n            [ngClass]=\\\"{'selected-service': outputFormat==2, 'not-avialable': package.name == 'Außenvisualisierung'}\\\">\\n            <div class=\\\"card-body\\\">\\n              <h4 class=\\\"card-title\\\">\\n                360° Tour\\n              </h4>\\n              <!-- <div *ngIf=\\\"(package.name == 'Außenvisualisierung')\\\">bald verfügbar</div> -->\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"outputFormat == 2 && !(package.name == 'Außenvisualisierung')\\\" class=\\\"selected-tick\\\">\\n          </div>\\n          <i *ngIf=\\\"!(package.name == 'Außenvisualisierung')\\\" class=\\\"fa fa-check tick-icon\\\"></i>\\n        </div>\\n        <div class=\\\"cards col-4\\\" (click)=\\\"packageSelectHandler('outputFormat', 3, $event)\\\">\\n          <div class=\\\"card card-pricing card-raised package\\\"\\n            [ngClass]=\\\"{'selected-service': outputFormat==3, 'not-avialable': package.name == 'Außenvisualisierung'}\\\">\\n            <div class=\\\"card-body\\\">\\n              <h4 class=\\\"card-title\\\">\\n                Rundflug\\n              </h4>\\n              <!-- <div *ngIf=\\\"(package.name == 'Außenvisualisierung')\\\">bald verfügbar</div> -->\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"outputFormat == 3 && !(package.name == 'Außenvisualisierung')\\\" class=\\\"selected-tick\\\">\\n          </div>\\n          <i *ngIf=\\\"!(package.name == 'Außenvisualisierung')\\\" class=\\\"fa fa-check tick-icon\\\"></i>\\n        </div>\\n      </div>\\n\\n      <hr class=\\\"hr_floorplan\\\">\\n      <!-- ############ -->\\n\\n      <!-- ############ -->\\n      <div class=\\\"row vertical_align\\\">\\n        <div class=\\\"col-12 col-md-6 pt-3 pt-md-0\\\">\\n          <div class=\\\"font-300\\\">\\n            Wählen Sie die gewünschte Qualitätsstufe\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"row vertical_align\\\">\\n        <div class=\\\"cards col-3\\\" (click)=\\\"packageSelectHandler('quality', 1, $event)\\\">\\n          <div class=\\\"card card-pricing card-raised package\\\" [ngClass]=\\\"{'selected-service': quality==1}\\\">\\n            <div class=\\\"card-body\\\">\\n              <h4 class=\\\"card-title\\\">\\n                Basic\\n              </h4>\\n              <div *ngIf=\\\"outputFormat\\\">{{ priceMatrix[outputFormat-1][0] }} € pro\\n                <span *ngIf=\\\"outputFormat != 3\\\"> Bild</span>\\n                <span *ngIf=\\\"outputFormat == 3\\\"> Sekunde</span>\\n              </div>\\n              <div>✓ 1 Korrektur</div>\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"quality == 1\\\" class=\\\"selected-tick\\\">\\n          </div>\\n          <i class=\\\"fa fa-check tick-icon\\\"></i>\\n        </div>\\n        <div class=\\\"cards col-3\\\" (click)=\\\"packageSelectHandler('quality', 2, $event)\\\">\\n          <div class=\\\"card card-pricing card-raised package\\\" [ngClass]=\\\"{'selected-service': quality==2}\\\">\\n            <div class=\\\"card-body\\\">\\n              <h4 class=\\\"card-title\\\">\\n                Standard\\n              </h4>\\n              <div *ngIf=\\\"outputFormat\\\">{{ priceMatrix[outputFormat-1][1] }} € pro\\n                <span *ngIf=\\\"outputFormat != 3\\\"> Bild</span>\\n                <span *ngIf=\\\"outputFormat == 3\\\"> Sekunde</span></div>\\n              <div>✓ 2 Korrekturen</div>\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"quality == 2\\\" class=\\\"selected-tick\\\">\\n          </div>\\n          <i class=\\\"fa fa-check tick-icon\\\"></i>\\n        </div>\\n        <div *ngIf=\\\"outputFormat != 3\\\" class=\\\"cards col-3\\\" (click)=\\\"packageSelectHandler('quality', 3, $event)\\\">\\n          <div class=\\\"card card-pricing card-raised package\\\" [ngClass]=\\\"{'selected-service': quality==3}\\\">\\n            <div class=\\\"card-body\\\">\\n              <h4 class=\\\"card-title\\\">\\n                High Quality\\n              </h4>\\n              <div *ngIf=\\\"outputFormat\\\">{{ priceMatrix[outputFormat-1][2] }} € pro Bild</div>\\n              <div>✓ 3 Korrekturen</div>\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"quality == 3\\\" class=\\\"selected-tick\\\">\\n          </div>\\n          <i class=\\\"fa fa-check tick-icon\\\"></i>\\n        </div>\\n        <div *ngIf=\\\"outputFormat != 3\\\" class=\\\"cards col-3\\\" (click)=\\\"packageSelectHandler('quality', 4, $event)\\\">\\n          <div class=\\\"card card-pricing card-raised package\\\" [ngClass]=\\\"{'selected-service': quality==4}\\\">\\n            <div class=\\\"card-body\\\">\\n              <h4 class=\\\"card-title\\\">\\n                Premium\\n              </h4>\\n              <div *ngIf=\\\"outputFormat\\\">{{ priceMatrix[outputFormat-1][3] }} € pro Bild</div>\\n              <div>✓ 3 Korrekturen</div>\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"quality == 4\\\" class=\\\"selected-tick\\\">\\n          </div>\\n          <i class=\\\"fa fa-check tick-icon\\\"></i>\\n        </div>\\n      </div>\\n\\n      <hr class=\\\"hr_floorplan\\\">\\n      <div *ngIf=\\\"outputFormat == 3\\\">\\n        <div class=\\\"row vertical_align\\\">\\n          <div class=\\\"col-12 col-md-6 pt-3 pt-md-0\\\">\\n            <div class=\\\"font-300\\\">\\n              Wählen Sie die gewünschte Videolänge\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"row vertical_align\\\">\\n          <div class=\\\"cards col-3\\\" (click)=\\\"packageSelectHandler('length', 1, $event)\\\">\\n            <div class=\\\"card card-pricing card-raised package\\\" [ngClass]=\\\"{'selected-service': length==1}\\\">\\n              <div class=\\\"card-body\\\">\\n                <h4 class=\\\"card-title\\\">\\n                  ca. 30 Sekunden\\n                </h4>\\n                <!-- <div *ngIf=\\\"quality\\\">+ {{ additionalMatrix[0] }} €</div> -->\\n              </div>\\n            </div>\\n            <div *ngIf=\\\"length == 1\\\" class=\\\"selected-tick\\\">\\n            </div>\\n            <i class=\\\"fa fa-check tick-icon\\\"></i>\\n          </div>\\n          <div class=\\\"cards col-3\\\" (click)=\\\"packageSelectHandler('length', 2, $event)\\\">\\n            <div class=\\\"card card-pricing card-raised package\\\" [ngClass]=\\\"{'selected-service': length==2}\\\">\\n              <div class=\\\"card-body\\\">\\n                <h4 class=\\\"card-title\\\">\\n                  ca. 40 Sekunden\\n                </h4>\\n                <!-- <div *ngIf=\\\"quality\\\">+ {{ additionalMatrix[1] }} €</div> -->\\n              </div>\\n            </div>\\n            <div *ngIf=\\\"length == 2\\\" class=\\\"selected-tick\\\">\\n            </div>\\n            <i class=\\\"fa fa-check tick-icon\\\"></i>\\n          </div>\\n          <div class=\\\"cards col-3\\\" (click)=\\\"packageSelectHandler('length', 3, $event)\\\">\\n            <div class=\\\"card card-pricing card-raised package\\\" [ngClass]=\\\"{'selected-service': length==3}\\\">\\n              <div class=\\\"card-body\\\">\\n                <h4 class=\\\"card-title\\\">\\n                  ca. 50 Sekunden\\n                </h4>\\n                <!-- <div *ngIf=\\\"quality\\\">+ {{ additionalMatrix[2] }} €</div> -->\\n              </div>\\n            </div>\\n            <div *ngIf=\\\"length == 3\\\" class=\\\"selected-tick\\\">\\n            </div>\\n            <i class=\\\"fa fa-check tick-icon\\\"></i>\\n          </div>\\n        </div>\\n        <hr class=\\\"hr_floorplan\\\">\\n      </div>\\n\\n      <div *ngIf=\\\"package.name == 'Außenvisualisierung'\\\">\\n        <div class=\\\"row vertical_align\\\">\\n          <div class=\\\"col-12 col-md-6 pt-3 pt-md-0\\\">\\n            <div class=\\\"font-300\\\">\\n              Wie viele Wohneinhheiten hat das Objekt?\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"row vertical_align\\\">\\n          <div class=\\\"cards col-3\\\" (click)=\\\"packageSelectHandler('apartments', 1, $event)\\\">\\n            <div class=\\\"card card-pricing card-raised package\\\" [ngClass]=\\\"{'selected-service': apartments==1}\\\">\\n              <div class=\\\"card-body\\\">\\n                <h4 class=\\\"card-title\\\">\\n                  1 - 4\\n                </h4>\\n                <div *ngIf=\\\"quality\\\">inklusive</div>\\n              </div>\\n            </div>\\n            <div *ngIf=\\\"apartments == 1\\\" class=\\\"selected-tick\\\">\\n            </div>\\n            <i class=\\\"fa fa-check tick-icon\\\"></i>\\n          </div>\\n          <div class=\\\"cards col-3\\\" (click)=\\\"packageSelectHandler('apartments', 2, $event)\\\">\\n            <div class=\\\"card card-pricing card-raised package\\\" [ngClass]=\\\"{'selected-service': apartments==2}\\\">\\n              <div class=\\\"card-body\\\">\\n                <h4 class=\\\"card-title\\\">\\n                  5 - 10\\n                </h4>\\n                <div *ngIf=\\\"quality\\\">+ {{ apartmentsMatrix[quality - 1] }} € pro Bild</div>\\n              </div>\\n            </div>\\n            <div *ngIf=\\\"apartments == 2\\\" class=\\\"selected-tick\\\">\\n            </div>\\n            <i class=\\\"fa fa-check tick-icon\\\"></i>\\n          </div>\\n          <div class=\\\"cards col-3\\\" (click)=\\\"packageSelectHandler('apartments', 3, $event)\\\">\\n            <div class=\\\"card card-pricing card-raised package\\\" [ngClass]=\\\"{'selected-service': apartments==3}\\\">\\n              <div class=\\\"card-body\\\">\\n                <h4 class=\\\"card-title\\\">\\n                  10 +\\n                </h4>\\n                <div *ngIf=\\\"quality\\\">+ {{ 2 * apartmentsMatrix[quality - 1] }} € pro Bild</div>\\n              </div>\\n            </div>\\n            <div *ngIf=\\\"apartments == 3\\\" class=\\\"selected-tick\\\">\\n            </div>\\n            <i class=\\\"fa fa-check tick-icon\\\"></i>\\n          </div>\\n        </div>\\n        <hr class=\\\"hr_floorplan\\\">\\n      </div>\\n\\n      <!-- ############ -->\\n\\n      <div class=\\\"row vertical_align\\\">\\n        <div class=\\\"col-4 col-md-2\\\">\\n          <input type=\\\"number\\\" id=\\\"numberPhotos\\\" matTooltip=\\\"{{errorMsg}}\\\" [matTooltipClass]=\\\"{'error-tooltip':true}\\\"\\n            formControlName=\\\"numberPhotos\\\" class=\\\"form-control numberText\\\" min=\\\"1\\\" (change)=\\\"updatePrice()\\\" value=\\\"1\\\">\\n        </div>\\n        <div class=\\\"col-4 col-md-2\\\">\\n          <div class=\\\"font-200\\\">\\n            <span *ngIf=\\\"outputFormat != 3\\\">{{ price }} € je Bild</span>\\n            <span *ngIf=\\\"outputFormat == 3 && this.visualisationForm.get('numberPhotos').value > 2\\\">+\\n              {{ additionalPrice }} € je weiteren Raum</span>\\n          </div>\\n        </div>\\n        <div class=\\\"col-12 col-md-6 pt-3 pt-md-0\\\">\\n          <div class=\\\"font-300\\\">\\n            <span *ngIf=\\\"outputFormat != 3\\\">Anzahl der Bilder</span>\\n            <span *ngIf=\\\"outputFormat == 3\\\">Anzahl der Räume</span>\\n          </div>\\n          <div class=\\\"font-200\\\">\\n            <span *ngIf=\\\"outputFormat != 3\\\">Bitte geben Sie die gewünschte Anzahl an Bildern an</span>\\n            <span *ngIf=\\\"outputFormat == 3\\\">Bitte geben Sie die gewünschte Anzahl an Räumen an. Die ersten 3 Räume sind\\n              inklusive</span>\\n          </div>\\n        </div>\\n        <div class=\\\"col-2 d-none d-md-block text-center\\\">\\n          <p class=\\\"font-300\\\">\\n            {{total_price}} €\\n          </p>\\n        </div>\\n      </div>\\n\\n      <hr class=\\\"hr_floorplan\\\">\\n\\n      <div class=\\\"mb-4\\\">\\n        <div class=\\\"form-group\\\">\\n          <textarea class=\\\"form-control\\\" formControlName=\\\"description\\\"\\n            placeholder=\\\"Kommentare/Anmerkungen für den Dienstleister\\\" #comments (change)=\\\"onChange()\\\"></textarea>\\n        </div>\\n      </div>\\n\\n      <hr class=\\\"hr_floorplan\\\">\\n\\n      <div class=\\\"row mb-4\\\">\\n        <div class=\\\"col-8\\\">\\n          <h4>Summe</h4>\\n        </div>\\n        <div class=\\\"col-4 font-sz-20 text-right\\\">\\n          {{total_price}} €\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n</div>\"","import { Component, OnInit, Output, Input, EventEmitter } from '@angular/core';\nimport { Package } from '@app/models/package';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport * as accounting from 'accounting';\n\n@Component({\n  selector: 'app-visualisation-service',\n  templateUrl: './visualisation-service.component.html',\n  styleUrls: ['./visualisation-service.component.css']\n})\nexport class VisualisationServiceComponent implements OnInit {\n  @Output() onFormChange = new EventEmitter();\n  @Input(\"package\") package: Package;\n\n  visualisationForm: FormGroup;\n\n  active1: boolean = false;\n  outputFormat: number = 0;\n  quality: number = 0;\n  length: number = 0;\n  apartments: number = 0;\n  price: number = 0;\n  total_price = '0,00';\n  additionalPrice: number = 100;\n  priceMatrix: number[][];\n  lengthMatrix: number[] = [30, 40, 50];\n  apartmentsMatrix: number[] = [20, 25, 50, 100];\n\n  constructor(private fb: FormBuilder) {\n    this.visualisationForm = this.fb.group({\n      description: [''],\n      numberPhotos: [1, [Validators.min(1)]]\n    });\n  }\n\n  ngOnInit() {\n    this.package.form = this.visualisationForm;\n    this.visualisationForm.valueChanges.subscribe(() => {\n      let formValues = {};\n      formValues['description'] = this.visualisationForm.value.description;\n      formValues['numberPhotos'] = this.visualisationForm.value.numberPhotos;\n      formValues['packageNum'] = this.package['package_key'];\n      this.onFormChange.emit(formValues);\n    });\n    if (this.package.name === 'Innenvisualisierung') {\n      this.priceMatrix = [[210, 290, 450, 800], // Photo\n      [290, 390, 700, 900], // 360-degree\n      [40, 60, 0, 0]]; // video\n    } else {\n      this.priceMatrix = [[250, 300, 650, 950], // Photo\n      [0, 0, 0, 0], // 360-degree\n      [0, 0, 0, 0]]; // video\n    }\n  }\n\n  onChange(): void {\n    this.package['outputFormat'] = this.outputFormat;\n    this.package['quality'] = this.quality;\n    this.package['length'] = this.length;\n    this.package['apartments'] = this.apartments;\n    this.package['total_price'] = this.total_price;\n    this.package['numPhotos'] = this.visualisationForm.value.numberPhotos;\n    this.package['description'] = this.visualisationForm.value.description;\n    this.package.form = this.visualisationForm;\n  }\n\n  get description() {\n    return this.visualisationForm.get('description');\n  }\n\n  get numberPhotos() {\n    return this.visualisationForm.get('numberPhotos');\n  }\n\n  packageSelectHandler(service, number, event) {\n    switch (service) {\n      case 'outputFormat':\n        if (this.package.name === 'Innenvisualisierung') {\n          if (this.outputFormat === 3 || number === 3) {\n            this.quality = 0;\n            this.length = 0;\n            this.visualisationForm.controls['numberPhotos'].setValue(1);\n          }\n          if (this.outputFormat === number) {\n            this.outputFormat = 0;\n          } else {\n            this.outputFormat = number;\n          }\n        } else {\n          if (this.outputFormat === number || number > 1) {\n            this.outputFormat = 0;\n          } else {\n            this.outputFormat = number;\n          }\n        }\n        break;\n      case 'quality':\n        if (this.quality === number) {\n          this.quality = 0;\n        } else {\n          this.quality = number;\n        }\n        break;\n      case 'length':\n        if (this.length === number) {\n          this.length = 0;\n        } else {\n          this.length = number;\n        }\n        break;\n      case 'apartments':\n        if (this.apartments === number) {\n          this.apartments = 0;\n        } else {\n          this.apartments = number;\n        }\n        break;\n    }\n    this.updatePrice();\n  }\n\n  updatePrice() {\n    if (!this.outputFormat || !this.quality) {\n      this.price = 0;\n    } else {\n      this.price = this.priceMatrix[this.outputFormat - 1][this.quality - 1];\n      if (this.package.name === 'Innenvisualisierung') {\n        if (this.outputFormat === 3) {\n          if (this.length) {\n            this.price *= this.lengthMatrix[this.length - 1];\n          } else {\n            this.price = 0;\n          }\n        }\n      } else {\n        if (this.apartments) {\n          this.price += (this.apartments - 1) * this.apartmentsMatrix[this.quality - 1];\n        } else {\n          this.price = 0;\n        }\n      }\n    }\n    this.calculateSum();\n  }\n\n  calculateSum() {\n    if (this.outputFormat === 3) {\n      if (this.visualisationForm.get('numberPhotos').value > 3) {\n        this.total_price = accounting.formatMoney(this.price + (this.visualisationForm.get('numberPhotos').value - 3) * this.additionalPrice, '', 2, '.', ',');\n      } else {\n        this.total_price = accounting.formatMoney(this.price, '', 2, '.', ',');\n      }\n    } else {\n      this.total_price = accounting.formatMoney(this.price * this.visualisationForm.get('numberPhotos').value, '', 2, '.', ',');\n    }\n    this.onChange();\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// `ng build --configuration=staging` replaces `environment.ts` with `environment.staging.ts`\n// `ng build --configuration=dev` replaces `environment.ts` with `environment.dev.ts`\n// The list of file replacements can be found in `angular.json`.\n\n/* Following is the dev key */\nexport const environment = {\n  production: false,\n  firebase: {\n    apiKey: 'AIzaSyCwL6AECH6fvbclRAyoC2rKs1YMRocZZXo', // never share this dev key!!!!!!!!\n    authDomain: 'imogent-platform-staging.firebaseapp.com',\n    databaseURL: 'https://imogent-platform-staging.firebaseio.com',\n    projectId: 'imogent-platform-staging',\n    storageBucket: 'imogent-platform-staging.appspot.com',\n    messagingSenderId: '750422950001'\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import 'hammerjs';\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n  if (window) {\n    window.console.log = function() {}; // keine console.logs im Production Mode\n  }\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}